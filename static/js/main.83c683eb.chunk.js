(this["webpackJsonpreservation-system-ui"]=this["webpackJsonpreservation-system-ui"]||[]).push([[0],{225:function(e,t,n){},232:function(e,t,n){},242:function(e,t){},366:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(22),i=n.n(c),s=(n(225),n(44)),o=n(4),l=n.n(o),u=n(7),d=n(3),j=(n(232),n(462)),b=n(466),m=n(118),p=Object(m.b)({name:"loggedUser",initialState:{loggedUser:null},reducers:{setUser:function(e,t){e.loggedUser=t.payload}}}),h=p.actions.setUser,f=p.reducer,O=n(14),x=function e(t){Object(O.a)(this,e),this.id=t.id,this.name=t.name,this.numberFloors=t.numberFloors,this.deposit=t.deposit,this.description=t.description,this.location=t.location,this.managers=t.managers,this.mainImage=t.mainImage,this.images=t.images},g=n(56),v=n.n(g),w=n(75),C=n.n(w),S="access_token",y="refresh_token",N=function(){var e;return{getService:function(){return e||(e=this),e},setToken:function(e){localStorage.setItem(S,e.jwtToken),localStorage.setItem(y,e.refreshToken)},getAccessToken:function(){return localStorage.getItem(S)},getRefreshToken:function(){return localStorage.getItem(y)},clearToken:function(){localStorage.removeItem(S),localStorage.removeItem(y)}}}().getService();C.a.defaults.baseURL="https://hotels-app-api.herokuapp.com/api",C.a.interceptors.request.use((function(e){var t=N.getAccessToken();return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){Promise.reject(e)})),C.a.interceptors.response.use((function(e){return e}),(function(e){var t=e.config;return"/Account/RefreshToken"===t.url&&(N.clearToken(),window.location.href="/SignIn"),e.response&&401===e.response.status&&!t.retry?(t.retry=!0,C.a.post("/Account/RefreshToken",{token:N.getRefreshToken()}).then((function(e){return N.setToken(e.data),C.a.defaults.headers.Authorization="Bearer ".concat(N.getAccessToken()),C()(t)}))):Promise.reject(e)}));var I={axios:C.a},k=function(e){return"/Hotels".concat(e?"/".concat(e):"")},R=function e(t){var n=t.pageNumber,a=t.pageSize,r=t.dateIn,c=t.dateOut,i=t.manager,s=t.name,o=t.city,l=t.services,u=t.minDeposit,d=t.maxDeposit,j=t.minFloors,b=t.maxFloors,m=t.propertyName,p=t.isDescending;Object(O.a)(this,e),this.pageNumber=n,this.pageSize=a,this.dateIn=r,this.dateOut=c,this.manager=i,this.name=s,this.city=o,this.services=l,this.minDeposit=u,this.maxDeposit=d,this.minFloors=j,this.maxFloors=b,this.propertyName=m,this.isDescending=p},A=function(e){var t=new R(e);return new Promise((function(e,n){I.axios.get(k(),{params:t,paramsSerializer:function(e){return v.a.stringify(e,{arrayFormat:"repeat"})}}).then((function(t){e(t.data)})).catch((function(e){n(e)}))}))},P=function(e){var t=new R(e);return new Promise((function(e,n){I.axios.get("/Hotels/Search",{params:t,paramsSerializer:function(e){return v.a.stringify(e,{arrayFormat:"repeat"})}}).then((function(t){e(t.data)})).catch((function(e){n(e)}))}))},D=function(){return new Promise((function(e,t){I.axios.get("/Hotels/All").then((function(t){return e(t.data)})).catch((function(e){return t(e)}))}))},H=function(e){return new Promise((function(t,n){I.axios.post(k(),e).then((function(e){return t(e.data)})).catch((function(e){n(e)}))}))},W=function(e){return new Promise((function(t,n){I.axios.get(k(e)).then((function(e){return t(e.data)})).catch((function(e){n(e)}))}))},B=function(e){return new Promise((function(t,n){I.axios.put(k(e.id),e).then((function(e){return t(e.data)})).catch((function(e){n(e)}))}))},U=function(e){return new Promise((function(t,n){I.axios.delete(k(e)).then((function(e){return t(e.data)})).catch((function(e){console.log(e.response),n(e)}))}))},q=function(e){return"/Images/Hotel".concat(e?"/".concat(e):"")},T=function(e){return"/Images/Room".concat(e?"/".concat(e):"")},E=function(e){return new Promise((function(t,n){I.axios.post(q(),e).then((function(e){return t(e.data)})).catch((function(e){n(e)}))}))},V=function(e){return new Promise((function(t,n){I.axios.delete(q(e)).then((function(e){return t(e.data)})).catch((function(e){n(e)}))}))},F=function(e){return new Promise((function(t,n){I.axios.post(T(),e).then((function(e){return t(e.data)})).catch((function(e){n(e)}))}))},z=function(e){return new Promise((function(t,n){I.axios.delete(T(e)).then((function(e){return t(e.data)})).catch((function(e){n(e)}))}))},M=function(e){return"/Rooms".concat(e?"/".concat(e):"")},Q=function e(t){var n=t.pageNumber,a=t.pageSize,r=t.hotelId,c=t.dateIn,i=t.dateOut,s=t.name,o=t.number,l=t.minFloorNumber,u=t.maxFloorNumber,d=t.minCapacity,j=t.maxCapacity,b=t.minArea,m=t.maxArea,p=t.minPrice,h=t.maxPrice,f=t.smoking,x=t.parking,g=t.facilities,v=t.roomViews,w=t.propertyName,C=t.isDescending;Object(O.a)(this,e),this.pageNumber=n,this.pageSize=a,this.hotelId=r,this.dateIn=c,this.dateOut=i,this.name=s,this.number=o,this.minFloorNumber=l,this.maxFloorNumber=u,this.minCapacity=d,this.maxCapacity=j,this.minArea=b,this.maxArea=m,this.minPrice=p,this.maxPrice=h,this.smoking=f,this.parking=x,this.facilities=g,this.roomViews=v,this.propertyName=w,this.isDescending=C},L=function(e){var t=new Q(e);return new Promise((function(e,n){I.axios.get(M(),{params:t,paramsSerializer:function(e){return v.a.stringify(e,{arrayFormat:"repeat"})}}).then((function(t){return e(t.data)})).catch((function(e){return n(e)}))}))},G=function(e){var t=new Q(e);return new Promise((function(e,n){I.axios.get("/Rooms/Search",{params:t,paramsSerializer:function(e){return v.a.stringify(e,{arrayFormat:"repeat"})}}).then((function(t){return e(t.data)})).catch((function(e){return n(e)}))}))},K=function(e){return new Promise((function(t,n){console.log(e),I.axios.post(M(),e).then((function(e){return t(e.data)})).catch((function(e){n(e)}))}))},J=function(e){return new Promise((function(t,n){I.axios.get(M(e)).then((function(e){t(e.data)})).catch((function(e){return n(e)}))}))},Y=function(e){return new Promise((function(t,n){I.axios.put(M(e.id),e).then((function(e){return t(e.data)})).catch((function(e){n(e)}))}))},X=function(e){return new Promise((function(t,n){I.axios.delete(M(e)).then((function(e){return t(e.data)})).catch((function(e){n(e)}))}))},Z=function(e){return new Promise((function(t,n){I.axios.post(function(e){return"".concat(M(e),"/lock")}(e)).then((function(){return t()})).catch((function(e){return n(e)}))}))},$=function(e){return new Promise((function(t,n){I.axios.post(function(e){return"".concat(M(e),"/unlock")}(e)).then((function(){return t()})).catch((function(e){return n(e)}))}))},_=function(e){return"/RoomViews".concat(e?"/".concat(e):"")},ee=function e(t){var n=t.pageNumber,a=t.pageSize,r=t.name,c=t.propertyName,i=t.isDescending;Object(O.a)(this,e),this.pageNumber=n,this.pageSize=a,this.name=r,this.propertyName=c,this.isDescending=i},te=function(e){var t=new ee(e);return new Promise((function(e,n){I.axios.get(_(),{params:t}).then((function(t){return e(t.data)})).catch((function(e){return n(e)}))}))},ne=function(e){var t=new ee(e);return new Promise((function(e,n){I.axios.get("/RoomViews/Search",{params:t}).then((function(t){return e(t.data)})).catch((function(e){return n(e)}))}))},ae=function(e){return new Promise((function(t,n){I.axios.post(_(),e).then((function(e){return t(e.data)})).catch((function(e){return n(e)}))}))},re=function(e){return new Promise((function(t,n){I.axiosaxios.put(_(e.id),e).then((function(e){return t(e.data)})).catch((function(e){return n(e)}))}))},ce=function(e){return new Promise((function(t,n){I.axios.delete(_(e)).then((function(e){return t(e.data)})).catch((function(e){return n(e)}))}))},ie=function(e){return"/Services".concat(e?"/".concat(e):"")},se=function e(t){var n=t.pageNumber,a=t.pageSize,r=t.hotelId,c=t.name,i=t.propertyName,s=t.isDescending;Object(O.a)(this,e),this.pageNumber=n,this.pageSize=a,this.hotelId=r,this.name=c,this.propertyName=i,this.isDescending=s},oe=function(e){var t=new se(e);return new Promise((function(e,n){I.axios.get(ie(),{params:t}).then((function(t){return e(t.data)})).catch((function(e){return n(e)}))}))},le=function(e){var t=new se(e);return new Promise((function(e,n){I.axios.get("/Services/Search",{params:t}).then((function(t){return e(t.data)})).catch((function(e){return n(e)}))}))},ue=function(e){return new Promise((function(t,n){I.axios.post(ie(),e).then((function(e){return t(e.data)})).catch((function(e){n(e)}))}))},de=function(e){return new Promise((function(t,n){I.axios.put(ie(e.id),e).then((function(e){return t(e.data)})).catch((function(e){n(e)}))}))},je=function(e){return new Promise((function(t,n){I.axios.delete(ie(e)).then((function(e){return t(e.data)})).catch((function(e){console.log(e),n(e)}))}))},be=function(e){return"/Users".concat(e?"/".concat(e):"")},me=function e(t){var n=t.pageNumber,a=t.pageSize,r=t.email,c=t.firstName,i=t.lastName,s=t.role,o=t.propertyName,l=t.isDescending;Object(O.a)(this,e),this.pageNumber=n,this.pageSize=a,this.email=r,this.firstName=c,this.lastName=i,this.role=s,this.propertyName=o,this.isDescending=l},pe=function(){return new Promise((function(e,t){I.axios.get("/Users/All").then((function(t){return e(t.data)})).catch((function(e){t(e)}))}))},he=function(e){var t=new me(e);return new Promise((function(e,n){I.axios.get("/Users/Search",{params:t,paramsSerializer:function(e){return v.a.stringify(e,{arrayFormat:"repeat"})}}).then((function(t){return e(t.data)})).catch((function(e){return n(e)}))}))},fe=function(e){var t=new me(e);return new Promise((function(e,n){I.axios.get(be(),{params:t,paramsSerializer:function(e){return v.a.stringify(e,{arrayFormat:"repeat"})}}).then((function(t){return e(t.data)})).catch((function(e){return n(e)}))}))},Oe=function(e){return new Promise((function(t,n){I.axios.post(be(),e).then((function(e){t(e.data)})).catch((function(e){n(e)}))}))},xe=function(e){return new Promise((function(t,n){I.axios.get(be(e)).then((function(e){t(e.data)})).catch((function(e){return n(e)}))}))},ge=function(e){return new Promise((function(t,n){I.axios.put(be(e.id),e).then((function(e){t(e.data)})).catch((function(e){n(e)}))}))},ve=function(e){return new Promise((function(t,n){I.axios.delete(be(e)).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))},we=function(){var e,t=H,n=U,a=A,r=B,c=E,i=F,s=V,o=z,d=K,j=X,b=Y,m=ae,p=ce,h=re,f=ue,O=je,x=de,g=Oe,v=ve,w=ge;var C=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a,r,c,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(n);case 3:return a=e.sent,e.abrupt("return",[a,null]);case 7:if(e.prev=7,e.t0=e.catch(0),!(null===(r=e.t0.response)||void 0===r||null===(c=r.data)||void 0===c?void 0:c.message)){e.next=11;break}return e.abrupt("return",[null,e.t0.response.data.message]);case 11:if(!(null===(i=e.t0.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.title)){e.next=13;break}return e.abrupt("return",[null,e.t0.response.data.title]);case 13:return e.abrupt("return",[null,e.t0.message]);case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();return{handleGetHotels:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,c,i,s,o,u,d,j,b,m,p,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pageNumber,r=t.pageSize,c=t.dateIn,i=t.dateOut,s=t.manager,o=t.name,u=t.city,d=t.services,j=t.minDeposit,b=t.maxDeposit,m=t.minFloors,p=t.maxFloors,e.next=3,a({pageNumber:n,pageSize:r,dateIn:c,dateOut:i,manager:s,name:o,city:u,services:d,minDeposit:j,maxDeposit:b,minFloors:m,maxFloors:p});case 3:return h=e.sent,e.abrupt("return",h);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getService:function(){return e||(e=this),e},baseRequestHandler:C,handleCreateHotel:function(){var e=Object(u.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleUpdateHotel:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleDeleteHotel:function(){var e=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleCreateRoom:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleUpdateRoom:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleDeleteRoom:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleCreateService:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleUpdateService:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleDeleteService:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleCreateUser:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleUpdateUser:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleDeleteUser:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleCreateHotelImage:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(t);case 3:return e.abrupt("return",null);case 6:if(e.prev=6,e.t0=e.catch(0),!e.t0.response.data.message){e.next=10;break}return e.abrupt("return",e.t0.response.data.message);case 10:if(!e.t0.response.data.title){e.next=12;break}return e.abrupt("return",e.t0.response.data.title);case 12:return e.abrupt("return",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),handleDeleteHotelImage:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(t);case 3:return e.abrupt("return",null);case 6:if(e.prev=6,e.t0=e.catch(0),!e.t0.response.data.message){e.next=10;break}return e.abrupt("return",e.t0.response.data.message);case 10:if(!e.t0.response.data.title){e.next=12;break}return e.abrupt("return",e.t0.response.data.title);case 12:return e.abrupt("return",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),handleCreateRoomImage:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(t);case 3:return e.abrupt("return",null);case 6:if(e.prev=6,e.t0=e.catch(0),!e.t0.response.data.message){e.next=10;break}return e.abrupt("return",e.t0.response.data.message);case 10:if(!e.t0.response.data.title){e.next=12;break}return e.abrupt("return",e.t0.response.data.title);case 12:return e.abrupt("return",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),handleDeleteRoomImage:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(t);case 3:return e.abrupt("return",null);case 6:if(e.prev=6,e.t0=e.catch(0),!e.t0.response.data.message){e.next=10;break}return e.abrupt("return",e.t0.response.data.message);case 10:if(!e.t0.response.data.title){e.next=12;break}return e.abrupt("return",e.t0.response.data.title);case 12:return e.abrupt("return",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),handleCreateRoomView:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleUpdateRoomView:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),handleDeleteRoomView:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}(),Ce=n(51),Se=n(30),ye=n(433),Ne=n(412),Ie=n(413),ke=n(403),Re=n(405),Ae=n(200),Pe=n(467),De=n(409),He=n(410),We=n(180),Be=n.n(We),Ue=n(183),qe=n.n(Ue),Te=n(179),Ee=n.n(Te),Ve=n(181),Fe=n.n(Ve),ze=n(182),Me=n.n(ze),Qe=n(411),Le=function e(t){var n=t.id,a=t.email,r=t.firstName,c=t.lastName,i=t.userName,s=t.roles;Object(O.a)(this,e),this.id=n,this.firstName=r,this.lastName=c,this.userName=i,this.email=a,this.roles=s},Ge="Admin",Ke="Manager",Je="User",Ye={year:"numeric",month:"long",day:"numeric"},Xe={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"},Ze=n(0),$e=Object(ke.a)((function(e){return{button:{margin:e.spacing(0),padding:e.spacing(1,1),border:0,borderRadius:"15px",color:"white",height:40,width:"100%",textAlign:"center",textTransform:"uppercase","&:hover":{background:"transparent",textDecoration:"none"}},icon:{color:e.palette.primary.main}}})),_e=function(e){var t,n,r,c=e.loggedUser,i=e.logout,s=e.openHotelsManagement,o=e.openUsersManagement,l=e.openReservationsSection,u=$e(),j=Object(Se.g)(),b=Object(a.useState)(null),m=Object(d.a)(b,2),p=m[0],h=m[1],f=function(){h(null)};return Object(Ze.jsx)("div",{children:c?Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(Re.a,{className:u.button,"aria-controls":"menu-area","aria-haspopup":"true",onClick:function(e){h(e.currentTarget)},startIcon:Object(Ze.jsx)(Ee.a,{}),children:c.userName}),Object(Ze.jsxs)(Ae.a,{id:"menu-area",anchorEl:p,keepMounted:!0,elevation:1,open:Boolean(p),onClose:f,children:[Object(Ze.jsxs)(Pe.a,{onClick:function(){f(),j.push("/Profile")},children:[Object(Ze.jsx)(De.a,{children:Object(Ze.jsx)(Be.a,{className:u.icon})}),Object(Ze.jsx)(He.a,{primary:"Profile"})]}),Object(Ze.jsxs)(Pe.a,{onClick:function(){l(),f()},children:[Object(Ze.jsx)(De.a,{children:Object(Ze.jsx)(Qe.a,{className:u.icon})}),Object(Ze.jsx)(He.a,{primary:"View reservations"})]}),(null===c||void 0===c||null===(t=c.roles)||void 0===t?void 0:t.includes(Ge))||(null===c||void 0===c||null===(n=c.roles)||void 0===n?void 0:n.includes(Ke))?Object(Ze.jsxs)(Pe.a,{onClick:function(){s(),f()},children:[Object(Ze.jsx)(De.a,{children:Object(Ze.jsx)(Fe.a,{className:u.icon})}),Object(Ze.jsx)(He.a,{primary:"Manage hotels"})]}):null,(null===c||void 0===c||null===(r=c.roles)||void 0===r?void 0:r.includes(Ge))?Object(Ze.jsxs)(Pe.a,{onClick:function(){o(),f()},children:[Object(Ze.jsx)(De.a,{children:Object(Ze.jsx)(Me.a,{className:u.icon})}),Object(Ze.jsx)(He.a,{primary:"Manage users"})]}):null,Object(Ze.jsxs)(Pe.a,{onClick:function(){i(),f()},children:[Object(Ze.jsx)(De.a,{children:Object(Ze.jsx)(qe.a,{className:u.icon})}),Object(Ze.jsx)(He.a,{primary:"Sign out"})]})]})]}):Object(Ze.jsx)(Ce.b,{to:"/SignIn",variant:"button",className:u.button,children:"Sign in"})})};_e.defaultProps={loggedUser:null};var et=_e,tt=function(e){var t=e.logout,n=e.openHotelsManagement,a=e.openUsersManagement,r=e.openReservationsSection,c=Object(s.c)((function(e){return e.loggedUser.loggedUser}));return Object(Ze.jsx)(et,{loggedUser:c?new Le(c):null,logout:t,openHotelsManagement:n,openUsersManagement:a,openReservationsSection:r})},nt=function e(t){Object(O.a)(this,e),this.id=t.id,this.firstName=t.firstName,this.lastName=t.lastName,this.userName=t.userName,this.email=t.email,this.dateOfBirth=new Date(t.dateOfBirth),this.phoneNumber=t.phoneNumber,this.roles=t.roles,this.hotels=t.hotels},at=Object(ke.a)((function(e){return{root:{flexGrow:2,margin:e.spacing(0,0,3,0)},menuButton:{marginRight:e.spacing(2)},toolbar:{display:"flex"},title:{flexGrow:1,color:"white","&:hover":{textDecoration:"none"}},account:{flexGrow:1,display:"flex",width:"auto",justifyContent:"flex-end",marginLeft:e.spacing(1)}}})),rt=function(e){var t=e.loggedUser,n=e.onLogoutClick,a=e.openHotelsManagement,r=e.openUsersManagement,c=e.openReservations,i=at();return Object(Ze.jsx)("div",{className:i.root,children:Object(Ze.jsx)(Ne.a,{position:"static",variant:"outlined",children:Object(Ze.jsxs)(Ie.a,{className:i.toolbar,children:[Object(Ze.jsx)(Ce.b,{to:"/Hotels",variant:"h6",className:i.title,children:"Hotel Reservation System"}),Object(Ze.jsx)("div",{className:i.account,children:Object(Ze.jsx)(tt,{loggedUser:t,logout:n,openHotelsManagement:a,openUsersManagement:r,openReservationsSection:c})})]})})})};rt.defaultProps={loggedUser:null};var ct=rt,it=n(27),st=n(424),ot=n(414),lt=n(415),ut=n(416),dt=n(417),jt=n(57),bt=n(418),mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYQAAAEjCAMAAAAFeoa3AAAAA3NCSVQICAjb4U/gAAAACVBMVEXj4+P////y8vKMExfmAAAKm0lEQVR4nO2d27qrIAyEq+//0Ovr6gk5CZhkBsxc7e1qCc0PE6RqH5sLrge6Ay6HQCGHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQCCHQKA5IeyPx76jOyGnOSE8XloFxJQQ9sdPK4CYEsIj0uwgloAwO4cZIewZCFODWAnCtCBmhPBNeAkEuoO9mhfCK9XxQmmfcUJMCOGd59//90PW95DJHFoAQuHvE4GYEELR+J9TYt/iFewEHKaFEB3cP+N/y51GkIOYD0LqRvvBgEpLWGIQ80E4etGeZDx/lBrEfBD2GoFgikzEYT4Ib5UGe1ixZ5kQU0IoAogg1F7LBGI+COXtu/c/mt9Cw2EuCMVh/fprCULwR0oQ80Bo8JWQyFgLGM0BoTF9ex1CR0u2mgBC3YMOr3z9YbQ9GAdyCJ0Ja4Iw0K6yiCEMJKo0RaTaVxIphJZTsdzbmqfCSRxbEIwQ2otA8s5eCLVodhzYIFxMSSst2ahXxQRh0INCDUKoRTcAQQNh3IMOrbzeNNwJDAcKCDIA/lu6BiFowhIEHIKwC4zSa+vTtWaLgkIQKAKxxLKV7ZsSBRwEneEm4Ee1Hoq0mwgDQXElIpysqKdi7R5kD0F5KajgG78eL2FHCkUgCaGSrWUg2Kw5JIuCdqsfGUEwPB11CDkZ7weoGIeqG6lDsD7vURq080KwB/AfVQGCrhvpQQDuScqTnhRCloHR7rx8LOXuqxV8DICnFIbtChBsv7GVh6DsRvp2BLiIRHzczg5BqfmG2IIQtA1Vr+IbV4JA4gNXezw5BPv2EmmfJ2g1X5XwANDZmA20JAThrKlPasWSv4wfqQ8ncwgmVETTpj+n9drO9P31KBC1iD+JzkL9KW0IYdf/NMXYVzQzhKTzD7vzN9ELX/R7rdh4vEaxPIkWHL0rQAgCPOz8SDCSQacXhSA4fA2mr+rKC+dHchAsTjpVv2NeoSisAcHQj8IHvEhFsrBQ3aqfh6ASMzoRFBvAFpPXAIKFH6UtC0Uy2YdUbT55gqmaH5UgXI5ksqAzhaBYFJKWhYbw/BAMdy6SlmUg2HwrYgthuqKwAoTpi4KJG2lflU1RFC5EWwiChR9VisJj+BI0oy/Kl4FQ8aPPJIE8IKBFygHsi0LmsYS/K8R7Odi4kfqdOhRF4RGqDGJP/mYzEYwggBepj1h5EMn4sLp2Sv2etYIfXWx1T5NZKQqNj6kozKX5n3ckv3MR3Qn35dBUFGoY1PafTqVf+bOZGZwK1UevFAZy1o9yfVDbiT2VOYRhP6o8Kn4vtHwG4TjIKxCVpR5CZpFafVj/u7HOopD0Ijk00tEhmUPoLwonAH6tFYZyDUJ6gSCgJBg8ViE/vhpneQuAb/tJy6dFIXxx2q+Ofl6TPYTmotAM4NPcQFEIOhb/3/AOC/0YY0WhC8C7ue5FatixypvVZVH7owHVAKEbwTPAnubxOwAqDe7HkHE/l4LQ4UcjCI48opa2mh89wl6Kfz/aJIMgvRfiXWZQ2c4+hWC/Z7EZQmj3o8sMOovC4SQDURJMHr/WB+E6g56dixhCudeKsoPQ6kcCEAYWqck7LW8BtojStZ19vSJkIFT96ORs20AICBk/2r/fal3JfWaR2ggBuUC1gXC6cxHmbpxA0HJXUahBUE/NK5ZJkHxm4pPV/yNjAOJvduLYW319VDnNs5BJmPrORZidfQDCnkbK28r5ZhRkgQqCcHSNQxo6ISRZSo5Hsesc4nZWglAtCvFXxu0EypGqS81KiMq7NGUTp7ZzEaWkEUJpjDYuc/IgQCXBFELej+LBOA4giNTg7nsKAlQSrJ4aX4EQpeIEwmlektfVBnXxd0IWhpAtClFNqAFoSUqS0DNnCUA0v0dYRoFqRaE+9L8EuiL1jeokxMoQmvzoAoC45fBApQ3snsVmBqFUFM6nQvddBf3DGrtnsVlDSP2oel4wdH9NiDc8cvoOmBuZQSjtXFQIXIvUYS4FCGZuBIPw/eSiAA4tR7GLbcJLgt1PfMUfTHwGJC1/D5y4S/J665KAg5DfN5AYfb11tjBzVoRwXhSkpn+vvSThrd0IB+HoR6KfuG9o40uC4c8+5seblAelkYJPVoXwiF9u7kaGEHovxLsW6Qi2NrbxJcEcQt+FwVKqRIJeeveJaBYJCaEyuAlKguVPARemPeTKp7hX0JJg+nvMOAiV0V0oCZYTwR4CWVFgcCPTn4eHQ8h8WPg29n9Iy1gwPypHKrjRuhDGbiG8Hva3Q5JGYigJUAgGfhQ/jaTQJWxJMIVwenW2sDLf2iUviY8j3AgLQbEoFL42LbwOWxJsIRgVhdPnwcQvD44i3AgLQaMonFxRfPb29SFo+1HDJd1nLSDcyBiC4s5F4zX1J2P8PhDEi0LHTQ0nkUS60y3rdUA00AQg9D2R5+TzQiYCBoKYH3UCOI2EcSNrCCU/GmmqH8B7ANSeEXxHCIN+NAjgA6EYcKgz12W+ELgO4QKBd+x3zNJ23uUP2SsMhOFNy4sADhBSECA3MoeQfM69+bIjAQD/eU/v2v1E+L7AWHAIre+TIfCKnd62uQd9Wx/CyGgTBPCCkL0kfBc8fe8UOwRhABUI4d+NZR6yw48UADyVFIXkz9YCLAXaICgReMV2COcfVRHAC0LNj4zSEIoOgjKAd+y7Q6g+a0IdwBtC3xeg2kKsBfIQDKbAR1tlKtjnAwjhuF9gB+Cd6Nrf7DNiHzLyI2MAT1WKAsKNgBBeOwX2BB7VonAXCN9RCAHwr604FQDpwELAqdwJQDowEHAz4KOiH0Hc6KYQijsX94FA7EeIbDiE9DgiH4igeD8qFAWMG2EgUEwFhwBXvhOQZKAgUPhR5igkGbeGoPfYq16h1gNw5TrhEIyV6wQmFzAIFH6UOYTRnSHEnbgbBEo/AqXCIURHQMkAxaXwo+QASPeFsDkEuB9tyUBAZQIIATkV8r+1isrEHSHshR7g3OhmEIJ75dK7dVCZAEIwLwq/W9PyFzvBEoGEYDkVgpsTi2FhibgFhJoH5V5lL+SagAbAU7g8LA3hrAg4hE3Xj0IATXGQbrQkhHYPcggqfhQls5kCJgNvrQSh8JSMJg7GH/0oZHRRP7p2Ty7UjdaA0JTC+k+tan/WqrBLMwkAHfkrc9D7jC2aG8LAAKbbONrAEC750QUHSUBg3QgLYXgqCCTtAMIh9AIQy9iPg1SLg8LG7/Yj8SG7l5/PaaeJIKBTpSf0uuD2AJ6aAQK2iwYCf8JTP1p7CrzFDOEWAJ5Cz/XbA3iKEYL478WzCw2B6RosmKgg3BHAU2gI290BPAWHsN2xCETCQ3A5BAY5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAI5BAL9AR/AhjhBN6lUAAAAAElFTkSuQmCC",pt=Object(ke.a)((function(e){return{root:{flexGrow:1,display:"grid",gridTemplateColumns:"2fr 3fr",height:300,margin:e.spacing(2,0,0,0),padding:e.spacing(1)},details:{flexGrow:3,width:"auto",display:"flex",flexDirection:"column"},media:{width:"100%",display:"block"},mediaWrapper:Object(it.a)({display:"none"},e.breakpoints.up("sm"),{gridColumn:1,display:"flex",flexGrow:2}),info:Object(it.a)({gridColumn:"1 / span 2",flexGrow:2,display:"flex",flexDirection:"column"},e.breakpoints.up("sm"),{gridColumn:2}),actions:{flexGrow:1,justifyContent:"flex-end",width:"auto"}}})),ht=function(e){var t=e.hotel,n=e.onOpenFullHotel,a=t.location,r=pt();return Object(Ze.jsxs)(ot.a,{className:r.root,variant:"outlined",children:[Object(Ze.jsx)("div",{className:r.mediaWrapper,children:Object(Ze.jsx)(lt.a,{className:r.media,image:t.mainImage?t.mainImage:mt})}),Object(Ze.jsxs)("div",{className:r.info,children:[Object(Ze.jsxs)("div",{className:r.details,children:[Object(Ze.jsx)(ut.a,{title:t.name}),Object(Ze.jsxs)(dt.a,{children:[Object(Ze.jsxs)(jt.a,{children:[Object(Ze.jsx)("b",{children:"Country"})," ",null===a||void 0===a?void 0:a.country]}),Object(Ze.jsxs)(jt.a,{children:[Object(Ze.jsx)("b",{children:"Region"})," ",null===a||void 0===a?void 0:a.region]}),Object(Ze.jsxs)(jt.a,{children:[Object(Ze.jsx)("b",{children:"City"})," ",null===a||void 0===a?void 0:a.city]}),Object(Ze.jsxs)(jt.a,{children:[Object(Ze.jsx)("b",{children:"Street"})," ",null===a||void 0===a?void 0:a.street,", ",null===a||void 0===a?void 0:a.buildingNumber]})]})]}),Object(Ze.jsx)(bt.a,{className:r.actions,children:Object(Ze.jsx)(Re.a,{onClick:function(){return n(t)},children:"Explore"})})]})]})},ft=n(458),Ot=function(e){var t=e.totalPages,n=e.onPageChanged;return Object(Ze.jsx)("div",{style:{margin:16},children:Object(Ze.jsx)(ft.a,{count:t,onChange:n})})};Ot.defaultProps={totalPages:0};var xt=Ot,gt=n(13),vt=n(463),wt=n(368),Ct=n(206),St=n(460),yt=n(423),Nt=function e(t){Object(O.a)(this,e),this.id=t.id,this.name=t.name,this.location=t.location},It=Object(ke.a)((function(e){return{root:{flexGrow:1,display:"flex",backgroundColor:e.palette.common.white,alignItems:"center"},search:{display:"flex",alignItems:"center",width:"100%"},multipleWrapper:{display:"flex",alignItems:"center"},searchIcon:{color:e.palette.primary.main,padding:e.spacing(0,1),display:"flex",alignItems:"center",justifyContent:"center"},searchInput:{width:"100%",border:"none",margin:e.spacing(0,1,0,0)},dateRange:{display:"flex",borderColor:e.palette.grey[300],borderRadius:e.shape.borderRadius,borderStyle:"solid",borderWidth:1,margin:e.spacing(0,1,0,0)},datepicker:{padding:0}}})),kt=function(e){var t=e.hotels,n=e.cities,a=e.searchName,r=e.searchCity,c=e.selectedServices,i=e.creatingService,s=e.onSubmit,o=e.onChangeName,l=e.onChangeCity,u=e.onAddNewService,d=e.onChangeNewService,j=e.onChangeServices,b=e.onChangeDateIn,m=e.onChangeDateOut,p=It();return Object(Ze.jsxs)("div",{className:p.root,children:[Object(Ze.jsxs)("div",{className:p.search,children:[Object(Ze.jsx)(St.a,{className:p.searchInput,inputValue:a||"",fullWidth:!0,freeSolo:!0,disableClearable:!0,options:t,autoSelect:!1,getOptionLabel:function(e){return e.name},renderOption:function(e){return"".concat(e.name," (").concat(e.location.city,")")},renderInput:function(e){return Object(Ze.jsx)(vt.a,Object(gt.a)(Object(gt.a)({},e),{},{size:"small",variant:"outlined",placeholder:"Hotel"}))},onInputChange:function(e,t){o(t)}}),Object(Ze.jsx)(St.a,{className:p.searchInput,value:r,fullWidth:!0,freeSolo:!0,disableClearable:!0,autoSelect:!1,options:n,getOptionLabel:function(e){return e},renderInput:function(e){return Object(Ze.jsx)(vt.a,Object(gt.a)(Object(gt.a)({},e),{},{size:"small",variant:"outlined",placeholder:"City"}))},onInputChange:function(e,t){l(t)}}),Object(Ze.jsx)(St.a,{className:p.searchInput,value:c,fullWidth:!0,freeSolo:!0,multiple:!0,ChipProps:{size:"small"},limitTags:1,disableClearable:!0,options:[],getOptionLabel:function(e){return e},renderInput:function(e){return Object(Ze.jsxs)("div",{className:p.multipleWrapper,children:[Object(Ze.jsx)(vt.a,Object(gt.a)(Object(gt.a)({},e),{},{size:"small",variant:"outlined",placeholder:"Services"})),i?Object(Ze.jsx)(wt.a,{size:"small",onClick:function(){return u()},children:Object(Ze.jsx)(yt.a,{})}):null]})},onInputChange:function(e,t){d(t)},onChange:function(e,t){return j(t)}})]}),Object(Ze.jsxs)("div",{className:p.dateRange,children:[Object(Ze.jsx)("div",{name:"dateIn",children:Object(Ze.jsx)(Ct.a,{inputProps:{style:{padding:5,height:28}},variant:"outlined",type:"date",onChange:function(e){return b(e.target.value)},className:p.datepicker})}),Object(Ze.jsx)("div",{name:"dateOut",children:Object(Ze.jsx)(Ct.a,{inputProps:{style:{padding:5,height:28}},variant:"outlined",type:"date",onChange:function(e){return m(e.target.value)},className:p.datepicker})})]}),Object(Ze.jsx)("div",{className:p.button,children:Object(Ze.jsx)(Re.a,{onClick:function(){return s()},style:{height:40},variant:"contained",color:"primary",children:"Search"})})]})};kt.defaultProps={searchName:null,searchCity:null,creatingService:null};var Rt=kt,At=Object(ke.a)((function(e){return{root:{flexGrow:1,display:"flex",backgroundColor:e.palette.common.white},grid:{padding:e.spacing(1),background:e.palette.grey[100],borderRadius:e.shape.borderRadius},textfield:{padding:0,background:e.palette.common.white},multipleWrapper:{display:"flex",alignItems:"center"}}})),Pt=function(e){var t=e.hotels,n=e.cities,a=e.searchName,r=e.searchCity,c=e.selectedServices,i=e.creatingService,s=e.onSubmit,o=e.onChangeName,l=e.onChangeCity,u=e.onAddNewService,d=e.onChangeNewService,j=e.onChangeServices,b=e.onChangeDateIn,m=e.onChangeDateOut,p=At();return Object(Ze.jsxs)(st.a,{container:!0,spacing:1,className:p.grid,children:[Object(Ze.jsx)(jt.a,{variant:"h6",children:"Search"}),Object(Ze.jsxs)(st.a,{item:!0,xs:12,children:[Object(Ze.jsx)(jt.a,{variant:"body1",children:"Hotel"}),Object(Ze.jsx)(St.a,{className:p.textfield,inputValue:a||"",fullWidth:!0,freeSolo:!0,disableClearable:!0,options:t,autoSelect:!1,getOptionLabel:function(e){return e.name},renderOption:function(e){return"".concat(e.name," (").concat(e.location.city,")")},renderInput:function(e){return Object(Ze.jsx)(vt.a,Object(gt.a)(Object(gt.a)({},e),{},{size:"small",variant:"outlined",placeholder:"Hotel"}))},onInputChange:function(e,t){o(t)}})]}),Object(Ze.jsxs)(st.a,{item:!0,xs:12,children:[Object(Ze.jsx)(jt.a,{variant:"body1",children:"City"}),Object(Ze.jsx)(St.a,{className:p.textfield,value:r,fullWidth:!0,freeSolo:!0,disableClearable:!0,autoSelect:!1,options:n,getOptionLabel:function(e){return e},renderInput:function(e){return Object(Ze.jsx)(vt.a,Object(gt.a)(Object(gt.a)({},e),{},{size:"small",variant:"outlined",placeholder:"City"}))},onInputChange:function(e,t){l(t)}})]}),Object(Ze.jsxs)(st.a,{item:!0,xs:12,children:[Object(Ze.jsx)(jt.a,{variant:"body1",children:"Services"}),Object(Ze.jsx)(St.a,{className:p.textfield,value:c,fullWidth:!0,freeSolo:!0,multiple:!0,ChipProps:{size:"small"},limitTags:1,disableClearable:!0,options:[],getOptionLabel:function(e){return e},renderInput:function(e){return Object(Ze.jsxs)("div",{className:p.multipleWrapper,children:[Object(Ze.jsx)(vt.a,Object(gt.a)(Object(gt.a)({},e),{},{size:"small",variant:"outlined",placeholder:"Services"})),i?Object(Ze.jsx)(wt.a,{size:"small",onClick:function(){return u()},children:Object(Ze.jsx)(yt.a,{})}):null]})},onInputChange:function(e,t){d(t)},onChange:function(e,t){return j(t)}})]}),Object(Ze.jsxs)(st.a,{item:!0,xs:12,children:[Object(Ze.jsx)(jt.a,{variant:"body1",children:"Date-in"}),Object(Ze.jsx)(vt.a,{fullWidth:!0,size:"small",variant:"outlined",type:"date",onChange:function(e){return b(e.target.value)},className:p.textfield})]}),Object(Ze.jsxs)(st.a,{item:!0,xs:12,children:[Object(Ze.jsx)(jt.a,{variant:"body1",children:"Date-out"}),Object(Ze.jsx)(vt.a,{fullWidth:!0,size:"small",variant:"outlined",type:"date",onChange:function(e){return m(e.target.value)},className:p.textfield})]}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)("div",{className:p.button,children:Object(Ze.jsx)(Re.a,{fullWidth:!0,onClick:function(){return s()},style:{height:40},variant:"contained",color:"primary",children:"Search"})})})]})};Pt.defaultProps={searchName:null,searchCity:null,creatingService:null};var Dt=Pt,Ht=D;function Wt(e,t,n){return n.indexOf(e)===t}var Bt=function(e){var t=e.side,n=e.searchHotels,r=e.dateIn,c=e.dateOut,i=e.onDateInChange,s=e.onDateOutChange,o=Object(a.useState)([]),j=Object(d.a)(o,2),b=j[0],m=j[1],p=Object(a.useState)([null,null,[]]),h=Object(d.a)(p,2),f=h[0],O=h[1],x=Object(a.useState)(r),g=Object(d.a)(x,2),v=g[0],w=g[1],C=Object(a.useState)(c),S=Object(d.a)(C,2),y=S[0],N=S[1],I=Object(a.useState)(null),k=Object(d.a)(I,2),R=k[0],A=k[1],P=Object(Se.g)(),D=b.map((function(e){return e.location.city})).filter(Wt),H=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ht();case 2:t=e.sent,n=t.map((function(e){return new Nt(e)})),m(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){n(f),i(v),s(y),P.push("/Hotels")},B=function(e){var t=Object(gt.a)({},f);t[0]=e,O(t)},U=function(e){var t=Object(gt.a)({},f);t[1]=e,O(t)},q=function(e){var t=Object(gt.a)({},f);t[2]=e,O(t)},T=function(e){A(e)},E=function(){var e=Object(gt.a)({},f);e[2].push(R),O(e),A(null)},V=function(e){w(e)},F=function(e){N(e)};return Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:case"end":return e.stop()}}),e)}))),[]),Object(Ze.jsx)(Ze.Fragment,{children:t?Object(Ze.jsx)(Dt,{hotels:b,cities:D,searchName:f[0],searchCity:f[1],selectedServices:f[2],creatingService:R,onSubmit:W,onChangeName:B,onChangeCity:U,onChangeServices:q,onChangeNewService:T,onAddNewService:E,onChangeDateIn:V,onChangeDateOut:F}):Object(Ze.jsx)(Rt,{hotels:b,cities:D,searchName:f[0],searchCity:f[1],selectedServices:f[2],creatingService:R,onSubmit:W,onChangeName:B,onChangeCity:U,onChangeServices:q,onChangeNewService:T,onAddNewService:E,onChangeDateIn:V,onChangeDateOut:F})})};Bt.defaultProps={side:!1,dateIn:null,dateOut:null};var Ut=Bt,qt=Object(ke.a)((function(e){var t;return{root:(t={display:"flex",flexDirection:"column",width:"100%",justifySelf:"center",padding:e.spacing(0,5)},Object(it.a)(t,e.breakpoints.up("md"),{padding:e.spacing(0,10)}),Object(it.a)(t,e.breakpoints.up("lg"),{padding:e.spacing(0,30)}),Object(it.a)(t,e.breakpoints.up("xl"),{padding:e.spacing(0,60)}),t),item:{flexGrow:1},pagination:{display:"flex",justifyContent:"center"}}})),Tt=function(e){var t=e.hotels,n=e.totalPages,a=e.onPageChanged,r=e.searchHotels,c=e.dateIn,i=e.dateOut,s=e.onDateInChange,o=e.onDateOutChange,l=qt(),u=t.map((function(e){return new x(e)})),d=Object(Se.g)(),j=function(e){d.push("/Hotels/".concat(e.id))};return Object(Ze.jsxs)(st.a,{container:!0,className:l.root,children:[Object(Ze.jsx)("div",{className:l.search,children:Object(Ze.jsx)(Ut,{searchHotels:r,dateIn:c,dateOut:i,onDateInChange:s,onDateOutChange:o})}),Object(Ze.jsx)("div",{children:u.map((function(e){return Object(Ze.jsx)(st.a,{item:!0,className:l.item,xs:12,children:Object(Ze.jsx)(ht,{hotel:new x(e),onOpenFullHotel:j},e.id)},e.id)}))}),Object(Ze.jsx)("div",{className:l.pagination,children:Object(Ze.jsx)(xt,{totalPages:n,onPageChanged:a})})]})};Tt.defaultProps={hotels:[],totalPages:0,dateIn:null,dateOut:null};var Et=Tt,Vt=n(192),Ft=n.n(Vt),zt=n(194),Mt=n.n(zt),Qt=n(196),Lt=n.n(Qt),Gt=n(193),Kt=n.n(Gt),Jt=n(195),Yt=n.n(Jt),Xt=n(197),Zt=n.n(Xt),$t=n(434),_t=n(435),en=n(436),tn=n(429),nn=n(430),an=n(425),rn=n(426),cn=n(428),sn=n(427),on=Object(ke.a)((function(e){return{titleSection:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},title:{flexGrow:1},closeButton:{width:"auto"},content:{padding:e.spacing(1,0,0,0)}}})),ln=function(e){var t=e.open,n=e.close,a=e.title,r=e.width,c=e.children,i=e.notFullWidth,s=e.color,o=on();return Object(Ze.jsxs)(an.a,{open:t,maxWidth:r,fullWidth:!i,children:[Object(Ze.jsx)(rn.a,{style:{borderBottom:"1px solid ".concat(s)},children:Object(Ze.jsxs)("div",{className:o.titleSection,children:[Object(Ze.jsx)(jt.a,{className:o.title,variant:"h6",children:a}),Object(Ze.jsx)(wt.a,{size:"small",className:o.closeButton,onClick:n,children:Object(Ze.jsx)(sn.a,{})})]})}),Object(Ze.jsx)(cn.a,{children:Object(Ze.jsx)("div",{className:o.content,children:c})})]})};ln.defaultProps={title:"Default title",width:"sm",notFullWidth:!1,color:"white"};var un=ln,dn=Object(ke.a)((function(){return{root:{display:"flex",flexWrap:"wrap",overflow:"hidden"},viewAll:{width:"100%",height:"100%"},titleSection:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},title:{flexGrow:1},closeButton:{width:"auto"},content:{padding:0}}})),jn=function(e){var t=e.images,n=dn(),r=Object(a.useState)(!1),c=Object(d.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)(!1),l=Object(d.a)(o,2),u=l[0],j=l[1];return Object(Ze.jsxs)("div",{className:n.root,children:[Object(Ze.jsxs)(tn.a,{cellHeight:160,cols:4,rows:2,children:[t.slice(0,7).map((function(e){return Object(Ze.jsx)(nn.a,{onClick:function(){return j(e)},children:Object(Ze.jsx)("img",{src:e,alt:e})},e)})),t.length>7?Object(Ze.jsx)(nn.a,{children:Object(Ze.jsx)(Re.a,{className:n.viewAll,onClick:function(){return s(!0)},children:"View all"})}):null]}),Object(Ze.jsx)(un,{open:i,close:function(){return s(!1)},title:"Album",children:Object(Ze.jsx)(tn.a,{cellHeight:160,cols:4,rows:2,children:t.map((function(e){return Object(Ze.jsx)(nn.a,{onClick:function(){return j(e)},children:Object(Ze.jsx)("img",{src:e,alt:e.name})},e)}))})}),Object(Ze.jsx)(un,{open:u,title:"Image",close:function(){return j(null)},width:"lg",notFullWidth:!0,children:Object(Ze.jsx)("img",{src:u,alt:null===u||void 0===u?void 0:u.name})})]})},bn=n(469),mn=n(432),pn=n(465),hn=function e(t){var n=t.id,a=t.hotelId,r=t.name,c=t.price;Object(O.a)(this,e),this.id=n,this.hotelId=a,this.name=r,this.price=c},fn=function e(t){var n=t.id,a=t.hotelId,r=t.name,c=t.roomNumber,i=t.price,s=t.floorNumber,o=t.capacity,l=t.reservations,u=t.images,d=t.area,j=t.description,b=t.smoking,m=t.parking,p=t.facilities,h=t.views;Object(O.a)(this,e),this.id=n,this.hotelId=a,this.name=r,this.roomNumber=c,this.floorNumber=s,this.price=i,this.capacity=o,this.area=d,this.description=j,this.smoking=b,this.parking=m,this.facilities=p,this.views=h,this.reservations=l,this.images=u},On=function(e){var t=e.services,n=e.rooms,a=e.onRoomChange,r=e.onServicesChange;return Object(Ze.jsxs)(st.a,{container:!0,spacing:2,children:[Object(Ze.jsxs)(st.a,{item:!0,xs:12,children:[Object(Ze.jsx)(jt.a,{variant:"h6",children:"Select rooms"}),Object(Ze.jsx)(St.a,{size:"small",multiple:!0,options:n,getOptionLabel:function(e){return"Room #".concat(e.roomNumber,", ").concat(e.capacity," beds ($").concat(e.price,")")},onChange:function(e,t){return a(t)},renderInput:function(e){return Object(Ze.jsx)(vt.a,Object(gt.a)(Object(gt.a)({},e),{},{variant:"outlined"}))}})]}),Object(Ze.jsxs)(st.a,{item:!0,xs:12,children:[Object(Ze.jsx)(jt.a,{variant:"h6",children:"Select services"}),Object(Ze.jsx)(St.a,{multiple:!0,limitTags:3,size:"small",options:t,getOptionLabel:function(e){return"".concat(e.name," ($").concat(e.price,")")},onChange:r,renderInput:function(e){return Object(Ze.jsx)(vt.a,Object(gt.a)(Object(gt.a)({required:!0},e),{},{variant:"outlined",name:"service"}))}})]})]})};On.defaultProps={services:[],rooms:[]};var xn=On,gn=n(10),vn=n(19),wn=function(e){var t=Object(vn.d)(e),n=Object(d.a)(t,2),a=n[0],r=n[1];return Object(Ze.jsx)(vt.a,Object(gt.a)(Object(gt.a)(Object(gt.a)({},a),e),{},{error:r.touched&&null!=r.error,helperText:r.touched&&r.error?r.error:null}))},Cn=function(e){var t=e.onSetCustomer,n=e.initialValues,a=e.validationSchema;return Object(Ze.jsx)(vn.c,{onSubmit:t,initialValues:n,validationSchema:a,children:Object(Ze.jsx)(vn.b,{children:Object(Ze.jsxs)(st.a,{container:!0,spacing:1,children:[Object(Ze.jsx)(st.a,{item:!0,xs:12,md:6,children:Object(Ze.jsx)(wn,{fullWidth:!0,variant:"outlined",size:"small",label:"Surname",name:"firstName",type:"text",placeholder:"Surname"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,md:6,children:Object(Ze.jsx)(wn,{fullWidth:!0,variant:"outlined",size:"small",label:"Name",name:"lastName",type:"text",placeholder:"Name"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,md:6,children:Object(Ze.jsx)(wn,{fullWidth:!0,variant:"outlined",size:"small",label:"Passport number",name:"passportNumber",type:"text",placeholder:"AUF000222"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,md:6,children:Object(Ze.jsx)(wn,{fullWidth:!0,variant:"outlined",size:"small",label:"Phone number",name:"phoneNumber",type:"text",placeholder:"+375111234567"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(wn,{fullWidth:!0,variant:"outlined",size:"small",label:"Email",name:"email",type:"email",placeholder:"example@mail.com"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(wn,{fullWidth:!0,variant:"outlined",size:"small",label:"Email confirmation",name:"confirmEmail",type:"email",placeholder:"example@mail.com"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(Re.a,{fullWidth:!0,variant:"contained",type:"submit",color:"primary",children:"Submit"})})]})})})},Sn=function(e){var t=e.onSetCustomer,n=e.loggedUser,r=Object(a.useState)(null),c=Object(d.a)(r,2),i=c[0],s=c[1],o={firstName:i?i.firstName:n?n.firstName:"",lastName:i?i.lastName:null!=n?n.lastName:"",email:i?i.email:null!=n?n.email:"",confirmEmail:i?i.email:null!=n?n.email:"",passportNumber:"",phoneNumber:""},l=gn.d().shape({firstName:gn.f().max(50,"Must be 20 characters or shorter").required("Required"),lastName:gn.f().max(50,"Must be 20 characters or shorter").required("Required"),email:gn.f().email("Invalid email adress").required("Required"),confirmEmail:gn.f().email("Invalid email adress").required("Required").oneOf([gn.e("email"),null],"Emails must be the same"),passportNumber:gn.f().max(50,"Must be 20 characters or shorter").required("Required"),phoneNumber:gn.f().max(50,"Must be 20 characters or shorter").matches(/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im,"Invalid phone number").required("Required")});return Object(Ze.jsx)(Cn,{onSetCustomer:function(e){var n={firstName:e.firstName,lastName:e.lastName,email:e.email,passportNumber:e.passportNumber,phoneNumber:e.phoneNumber};s(n),t(n)},initialValues:o,validationSchema:l})};Sn.defaultProps={loggedUser:null};var yn=Sn,Nn=function e(t){Object(O.a)(this,e),this.hotelId=t.hotelId,this.rooms=t.rooms,this.services=t.services,this.dateIn=t.dateIn,this.dateOut=t.dateOut,this.firstName=t.firstName,this.lastName=t.lastName,this.email=t.email,this.passportNumber=t.passportNumber,this.phoneNumber=t.phoneNumber},In=n(431),kn=n(464),Rn=Object(ke.a)((function(e){return{checkbox:{padding:e.spacing(0,2)}}})),An=function(e){var t=e.onSubmitOrder,n=Rn();return Object(Ze.jsx)(In.a,{className:n.checkbox,control:Object(Ze.jsx)(kn.a,{onChange:function(e,n){return t(n)}}),label:"I agree with details of order"})},Pn=Object(ke.a)((function(e){return{root:{flexGrow:1,display:"grid",gridTemplateColumns:"1fr 3fr",height:150,width:"auto",padding:e.spacing(1)},details:{width:"auto",display:"flex",flexDirection:"column"},media:{maxWidth:150,width:"100%",display:"block"},mediaWrapper:Object(it.a)({display:"none"},e.breakpoints.up("sm"),{gridColumn:1,display:"flex",flexGrow:2}),info:Object(it.a)({gridColumn:"1 / span 2",flexGrow:2,display:"flex",flexDirection:"column"},e.breakpoints.up("sm"),{gridColumn:2}),actions:{flexGrow:1,justifyContent:"flex-end",width:"auto"}}})),Dn=function(e){var t=e.hotel,n=t.location,a=Pn();return Object(Ze.jsxs)(ot.a,{className:a.root,variant:"outlined",children:[Object(Ze.jsx)("div",{className:a.mediaWrapper,children:Object(Ze.jsx)(lt.a,{className:a.media,image:t.mainImage?t.mainImage:mt})}),Object(Ze.jsx)("div",{className:a.info,children:Object(Ze.jsx)("div",{className:a.details,children:Object(Ze.jsxs)(dt.a,{children:[Object(Ze.jsx)(jt.a,{variant:"h6",children:t.name}),Object(Ze.jsx)(jt.a,{variant:"body1",children:"".concat(null===n||void 0===n?void 0:n.street," ").concat(null===n||void 0===n?void 0:n.buildingNumber,", ").concat(null===n||void 0===n?void 0:n.city,", ").concat(null===n||void 0===n?void 0:n.country)})]})})})]})},Hn=n(457),Wn=function(e){return new Date(e).toDateString()},Bn=function(e,t){var n=new Date(e),a=new Date(t);return Math.abs(a-n)/864e5},Un=Object(ke.a)((function(e){return{content:{display:"flex",alignItems:"center",justifyContent:"space-between"},contentWrapper:{display:"flex",flexDirection:"column",padding:e.spacing(2),margin:e.spacing(0,0,1,0),borderWidth:1,borderStyle:"solid",borderColor:e.palette.grey[300],borderRadius:e.shape.borderRadius},dateDetail:{margin:e.spacing(1,1,0,0)}}})),qn=function(e,t,n,a){var r=0;return e.forEach((function(e){r+=e.price*a})),t.forEach((function(e){r+=e.price})),r+=n},Tn=function(e){var t=e.dateIn,n=e.dateOut,a=e.selectedRooms,r=e.selectedServices,c=e.customerInfo,i=e.deposit,s=Un();return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(jt.a,{variant:"h6",children:"Details"}),Object(Ze.jsxs)("div",{className:s.contentWrapper,children:[Object(Ze.jsxs)("div",{className:s.content,children:[Object(Ze.jsxs)(jt.a,{component:"div",className:s.dateDetail,children:[Object(Ze.jsx)(Hn.a,{children:"Date-in"}),Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:Wn(t)})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:s.dateDetail,children:[Object(Ze.jsx)(Hn.a,{children:"Date-out"}),Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:Wn(n)})]})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:s.dateDetail,children:[Object(Ze.jsx)(Hn.a,{children:"Total length of stay:"}),Object(Ze.jsxs)(Hn.a,{fontWeight:"fontWeightMedium",children:[Bn(t,n)," night(-s)"]})]})]}),a&&0!==a.length?Object(Ze.jsxs)("div",{className:s.contentWrapper,children:[Object(Ze.jsx)(jt.a,{variant:"h6",children:"Selected rooms"}),a.map((function(e){return Object(Ze.jsx)(jt.a,{component:"div",children:Object(Ze.jsxs)(Hn.a,{children:["Room #",e.roomNumber,", ",e.capacity," bed(-s) ($",e.price,")"]})},e.id)}))]}):null,r&&0!==r.length?Object(Ze.jsxs)("div",{className:s.contentWrapper,children:[Object(Ze.jsx)(jt.a,{variant:"h6",children:"Selected services"}),r.map((function(e){return Object(Ze.jsx)(jt.a,{component:"div",children:Object(Ze.jsxs)(Hn.a,{children:[e.name," ($",e.price,")"]})},e.id)}))]}):null,c?Object(Ze.jsxs)("div",{className:s.contentWrapper,children:[Object(Ze.jsx)(jt.a,{variant:"h6",children:"Customer info"}),Object(Ze.jsxs)(jt.a,{component:"div",children:[Object(Ze.jsxs)(Hn.a,{children:[c.firstName," ",c.lastName]}),Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:c.email}),Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:c.passportNumber}),Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:c.phoneNumber})]})]}):null,Object(Ze.jsxs)("div",{className:s.contentWrapper,children:[Object(Ze.jsx)(jt.a,{variant:"h6",children:"Price summary"}),a&&0!==a.length?a.map((function(e){return Object(Ze.jsxs)("div",{className:s.content,children:[Object(Ze.jsxs)(jt.a,{component:"div",children:["Room #",e.roomNumber]}),Object(Ze.jsxs)(jt.a,{component:"div",children:["($",e.price," * ",Bn(t,n)," ","night(-s)) $",e.price*Bn(t,n)]})]},e.id)})):null,r&&0!==r.length?r.map((function(e){return Object(Ze.jsxs)("div",{className:s.content,children:[Object(Ze.jsx)(jt.a,{component:"div",children:e.name}),Object(Ze.jsxs)(jt.a,{component:"div",children:["$",e.price]})]},e.id)})):null,i>0?Object(Ze.jsxs)("div",{className:s.content,children:[Object(Ze.jsx)(jt.a,{component:"div",children:"Hotel deposit"}),Object(Ze.jsxs)(jt.a,{component:"div",children:["$",i]})]}):null,Object(Ze.jsxs)("div",{className:s.content,children:[Object(Ze.jsx)(jt.a,{component:"div",children:Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:"Total"})}),Object(Ze.jsx)(jt.a,{component:"div",children:Object(Ze.jsxs)(Hn.a,{fontWeight:"fontWeightMedium",children:["$",qn(a,r,i,Bn(t,n))]})})]})]})]})};Tn.defaultProps={selectedRooms:[],selectedServices:[],customerInfo:null};var En=Tn,Vn=function(e){return"/Reservations".concat(e?"/".concat(e):"")},Fn=function(e){var t=e.pageNumber,n=e.pageSize,a=e.email;return new Promise((function(e,r){I.axios.get(Vn(),{params:{pageNumber:t,pageSize:n,email:a},paramsSerializer:function(e){return v.a.stringify(e,{arrayFormat:"repeat"})}}).then((function(t){e(t.data)})).catch((function(e){r(e)}))}))},zn=function(e){return new Promise((function(t,n){I.axios.get(Vn(e)).then((function(e){return t(e.data)})).catch((function(e){return n(e)}))}))},Mn=$,Qn=Z,Ln=function(e){return new Promise((function(t,n){I.axios.post(Vn(),e).then((function(e){return t(e.data)})).catch((function(e){n(e)}))}))},Gn=function(e,t){return t.filter((function(t){return!e.includes(t)}))},Kn=Object(ke.a)((function(e){return{root:{justifySelf:"center",padding:e.spacing(0)},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}})),Jn=function(e,t,n,a,r,c,i,s,o){switch(e){case 0:return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsxs)(st.a,{item:!0,xs:12,children:[Object(Ze.jsx)(jt.a,{variant:"h6",children:"Select rooms and services you want to reserve"}),Object(Ze.jsx)(Dn,{hotel:t})]}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(xn,{hotel:t,rooms:a,services:n,onRoomChange:c,onServicesChange:i})})]});case 1:return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsxs)(st.a,{item:!0,xs:12,children:[Object(Ze.jsx)(jt.a,{variant:"h6",children:"Provide us with information about yourself"}),Object(Ze.jsx)(Dn,{hotel:t})]}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(yn,{onSetCustomer:s,loggedUser:r})})]});case 2:return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsxs)(st.a,{item:!0,xs:12,children:[Object(Ze.jsx)(jt.a,{variant:"h6",children:"Finish your order"}),Object(Ze.jsx)(Dn,{hotel:t})]}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(An,{onSubmitOrder:o})})]});default:return"Oops, unknown step"}},Yn=function(e){var t=e.services,n=e.rooms,r=e.open,c=e.close,i=e.hotel,o=e.dateIn,j=e.dateOut,b=e.onRequestRooms,m=Object(a.useState)({step:0,isNextAvailable:!1}),p=Object(d.a)(m,2),h=p[0],f=p[1],O=["Select room and services","Enter your details","Final details"],x=Kn(),g=Object(a.useState)([]),v=Object(d.a)(g,2),w=v[0],C=v[1],S=Object(a.useState)([]),y=Object(d.a)(S,2),N=y[0],I=y[1],k=Object(a.useState)(null),R=Object(d.a)(k,2),A=R[0],P=R[1],D=Object(s.c)((function(e){return e.loggedUser.loggedUser})),H=function(){w.forEach((function(e){return Mn(e.id)})),b(),c()},W=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Nn({hotelId:i.id,rooms:w.map((function(e){return e.id})),services:N.map((function(e){return e.id})),dateIn:o,dateOut:j,firstName:A.firstName,lastName:A.lastName,email:A.email,passportNumber:A.passportNumber,phoneNumber:A.phoneNumber}),e.prev=1,e.next=4,Ln(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:H(),f({step:0,isNextAvailable:!1}),C([]),I([]),P(null);case 14:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return Object(Ze.jsx)(un,{open:r,close:function(){H(),f({step:0,isNextAvailable:!1}),C([]),I([]),P(null)},title:"Propperty reservation",width:"md",children:null!=i?Object(Ze.jsxs)(st.a,{container:!0,className:x.root,justify:"center",children:[Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(bn.a,{activeStep:h.step,children:O.map((function(e){return Object(Ze.jsx)(mn.a,{children:Object(Ze.jsx)(pn.a,{children:e})},e)}))})}),Object(Ze.jsxs)(st.a,{container:!0,item:!0,xs:12,spacing:1,justify:"center",children:[Object(Ze.jsx)(st.a,{item:!0,sm:12,xs:12,md:5,children:Object(Ze.jsx)(En,{dateIn:o,dateOut:j,selectedRooms:w,selectedServices:N,customerInfo:A,deposit:i.deposit})}),Object(Ze.jsx)(st.a,{container:!0,item:!0,sm:12,md:7,children:h.step===O.length?Object(Ze.jsxs)(st.a,{item:!0,xs:12,children:[Object(Ze.jsx)(jt.a,{className:x.instructions,children:"Reservation successfully completed"}),Object(Ze.jsx)(Re.a,{children:"Back"})]}):Object(Ze.jsxs)(st.a,{container:!0,item:!0,xs:12,spacing:1,children:[Jn(h.step,i,t,n,D,(function(e){var t=Gn(w,e);if(t[0])Qn(t[0].id);else{var a=Gn(e,w);a[0]&&Mn(a[0].id)}C(e),f((function(e){return{step:e.step,isNextAvailable:n&&0!==n.length}}))}),(function(e,t){I(t)}),(function(e){P(e),f((function(t){return{step:t.step,isNextAvailable:!!e}}))}),(function(e){f((function(t){return{step:t.step,isNextAvailable:e}}))})),Object(Ze.jsxs)(st.a,{item:!0,xs:12,children:[Object(Ze.jsx)(Re.a,{disabled:0===h.step,onClick:function(){f((function(e){return{step:e.step-1,isNextAvailable:!0}}))},className:x.backButton,children:"Back"}),Object(Ze.jsx)(Re.a,{variant:"contained",color:"primary",onClick:h.step===O.length-1?W:function(){f((function(e){return{step:e.step+1,isNextAvailable:!1}}))},disabled:!h.isNextAvailable,children:h.step===O.length-1?"Finish":"Next"})]})]})})]})]}):Object(Ze.jsx)(ye.a,{})})};Yn.defaultProps={dateIn:null,dateOut:null,services:[],rooms:[]};var Xn=Yn,Zn=Object(ke.a)((function(e){return{labeledInfo:{display:"flex",flexDirection:"column",margin:e.spacing(0,0,5,0)},label:{display:"flex",alignItems:"center"},info:{margin:e.spacing(0)}}})),$n=function(e){var t=e.icon,n=e.labelComponent,a=e.children,r=Zn();return Object(Ze.jsxs)("div",{className:r.labeledInfo,children:[Object(Ze.jsxs)("div",{className:r.label,children:[t,n]}),Object(Ze.jsx)("div",{className:r.info,children:a})]})},_n=Object(ke.a)((function(e){return{root:{background:"transient",borderStyle:"solid",borderWidth:3,borderColor:"#12b82b",color:"#12b82b",flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center",height:20,padding:e.spacing(1,3),margin:e.spacing(.5,1),fontWeight:"bold",borderRadius:20,"&:hover":{borderColor:"#109123",color:"#109123",cursor:"pointer"}},titleSection:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},title:{flexGrow:1},closeButton:{width:"auto"}}})),ea=function(e){var t=e.service,n=Object(a.useState)(!1),r=Object(d.a)(n,2),c=r[0],i=r[1],s=_n();return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)("div",{className:s.root,onClick:function(){return i(!0)},children:t.name}),Object(Ze.jsxs)(an.a,{open:c,maxWidth:"xs",fullWidth:!0,children:[Object(Ze.jsx)(rn.a,{children:Object(Ze.jsxs)("div",{className:s.titleSection,children:[Object(Ze.jsx)(jt.a,{className:s.title,variant:"h6",children:t.name}),Object(Ze.jsx)(wt.a,{className:s.closeButton,onClick:function(){i(!1)},children:Object(Ze.jsx)(sn.a,{})})]})}),Object(Ze.jsx)(cn.a,{children:Object(Ze.jsx)(st.a,{container:!0,spacing:1,children:Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsxs)(jt.a,{children:[Object(Ze.jsx)(Hn.a,{children:"Price"}),Object(Ze.jsxs)(Hn.a,{fontWeight:"fontWeightMedium",children:["$",t.price]})]})})})})]})]})},ta=n(138),na=n.n(ta),aa=n(190),ra=n.n(aa),ca=n(191),ia=n.n(ca),sa=function(e){var t=e.url,n=e.onClick,a={width:"100%",height:0,paddingBottom:"70%",backgroundImage:"url(".concat(t,")"),backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"};return Object(Ze.jsx)("div",{style:a,onClick:n})},oa=Object(ke.a)((function(e){return{root:{display:"flex",flexDirection:"column"},smallImage:{width:80,height:80,margin:2.5,cursor:"pointer"},selectedSmallImage:{width:75,height:75,padding:2.5,borderWidth:2.5,borderStyle:"solid",borderColor:e.palette.primary.main,cursor:"pointer"},image:{width:"100%",height:"100%",objectFit:"cover"},imageContainer:{display:"flex",justifyContent:"left",alignItems:"center",flexWrap:"wrap"},navigationContainer:{display:"flex",alignItems:"center",justifyContent:"center",height:"inherit",justifySelf:"center"},button:{color:e.palette.primary.main}}})),la=function(e){var t=e.imagesUrls,n=e.altText,r=Object(a.useState)(0),c=Object(d.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)(t[0]),l=Object(d.a)(o,2),u=l[0],j=l[1],b=oa(),m=function(){var e;e=i<t.length-1?i+1:0,s(e),j(t[e])};return Object(Ze.jsxs)("div",{className:b.root,children:[Object(Ze.jsx)(sa,{url:u,onClick:function(){return m()}}),(null===t||void 0===t?void 0:t.length)>1?Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsxs)("div",{className:b.navigationContainer,children:[Object(Ze.jsx)(wt.a,{size:"small",className:b.button,onClick:function(){return function(){var e;e=i>0?i-1:t.length-1,s(e),j(t[e])}()},children:Object(Ze.jsx)(ra.a,{})}),Object(Ze.jsx)(wt.a,{size:"small",className:b.button,onClick:function(){return m()},children:Object(Ze.jsx)(ia.a,{})})]}),Object(Ze.jsx)("div",{className:b.imageContainer,children:t.map((function(e,a){return Object(Ze.jsx)("div",{className:a===i?b.selectedSmallImage:b.smallImage,variant:"outlined",onClick:function(){return function(e){s(e),j(t[e])}(a)},children:Object(Ze.jsx)("img",{className:b.image,src:e,alt:n})})}))})]}):null]})};la.defaultProps={altText:"image"};var ua=la,da=Object(ke.a)((function(e){return{contentGroup:{display:"flex",flexDirection:"column",margin:e.spacing(0,0,1,0)},content:{display:"flex",justifyContent:"space-between"},contentItem:{display:"flex",alignItems:"center"},subtitle:{fontSize:e.typography.h6,fontWeight:e.typography.fontWeightBold}}})),ja=function(e){var t=e.room,n=da(),a=(null===t||void 0===t?void 0:t.images)&&(null===t||void 0===t?void 0:t.images.length)>0;return Object(Ze.jsxs)(st.a,{container:!0,spacing:2,children:[Object(Ze.jsx)(st.a,{item:!0,xs:12,md:7,children:Object(Ze.jsx)(ua,{imagesUrls:a?t.images:new Array(mt),altText:"Room Image"})}),Object(Ze.jsxs)(st.a,{container:!0,item:!0,xs:12,md:5,alignContent:"flex-start",children:[Object(Ze.jsx)(st.a,{item:!0,xs:12,className:n.contentGroup,children:Object(Ze.jsx)(jt.a,{variant:"h6",children:t.name?t.name:"Room #".concat(t.roomNumber)})}),t.description?Object(Ze.jsx)(st.a,{item:!0,xs:12,className:n.contentGroup,children:Object(Ze.jsx)(jt.a,{variant:"body1",children:t.description})}):null,Object(Ze.jsxs)(st.a,{item:!0,xs:12,className:n.contentGroup,children:[Object(Ze.jsxs)(jt.a,{component:"div",className:n.content,children:[Object(Ze.jsx)(Hn.a,{children:"Room number"}),Object(Ze.jsx)(Hn.a,{children:t.roomNumber})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:n.content,children:[Object(Ze.jsx)(Hn.a,{children:"Floor"}),Object(Ze.jsx)(Hn.a,{children:t.floorNumber})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:n.content,children:[Object(Ze.jsx)(Hn.a,{children:"Beds"}),Object(Ze.jsx)(Hn.a,{children:t.capacity})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:n.content,children:[Object(Ze.jsx)(Hn.a,{children:"Appartment Size"}),Object(Ze.jsxs)(Hn.a,{children:[t.area," m",Object(Ze.jsx)("sup",{children:"2"})]})]})]}),t.views&&t.views.length>0?Object(Ze.jsxs)(st.a,{item:!0,xs:12,className:n.contentGroup,children:[Object(Ze.jsx)(jt.a,{children:Object(Ze.jsx)(Hn.a,{className:n.subtitle,children:"View"})}),Object(Ze.jsx)(jt.a,{component:"div",className:n.content,children:Object(Ze.jsx)(st.a,{container:!0,spacing:0,children:t.views.map((function(e){return Object(Ze.jsx)(st.a,{item:!0,xs:6,children:Object(Ze.jsxs)("div",{className:n.contentItem,children:[Object(Ze.jsx)(na.a,{fontSize:"small"}),e.name]})},e.id)}))})})]}):null,t.facilities&&t.facilities.length>0?Object(Ze.jsxs)(st.a,{item:!0,xs:12,className:n.contentGroup,children:[Object(Ze.jsx)(jt.a,{children:Object(Ze.jsx)(Hn.a,{className:n.subtitle,children:"Apartment Facilities"})}),Object(Ze.jsx)(jt.a,{component:"div",className:n.content,children:Object(Ze.jsx)(st.a,{container:!0,spacing:0,children:t.facilities.map((function(e){return Object(Ze.jsx)(st.a,{item:!0,xs:6,children:Object(Ze.jsxs)("div",{className:n.contentItem,children:[Object(Ze.jsx)(na.a,{fontSize:"small"}),e.name]})},e.id)}))})})]}):null,Object(Ze.jsxs)(st.a,{item:!0,xs:12,className:n.contentGroup,children:[Object(Ze.jsxs)(jt.a,{component:"div",className:n.content,children:[Object(Ze.jsx)(Hn.a,{children:"Smoking"}),Object(Ze.jsx)(Hn.a,{children:t.smoking?"Allowed":"No smoking"})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:n.content,children:[Object(Ze.jsx)(Hn.a,{children:"Parking"}),Object(Ze.jsx)(Hn.a,{children:t.parking?"Availavle":"No parking available"})]})]})]})]})},ba=J,ma=function(e){var t=e.roomId,n=Object(a.useState)(null),r=Object(d.a)(n,2),c=r[0],i=r[1],s=function(){var e=Object(u.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ba(t);case 2:(n=e.sent)&&i(new fn(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:case"end":return e.stop()}}),e)}))),[t]),c?Object(Ze.jsx)(ja,{room:c}):null},pa=Object(ke.a)((function(e){var t;return{root:(t={flexGrow:1,padding:e.spacing(1,5,1)},Object(it.a)(t,e.breakpoints.up("md"),{padding:e.spacing(1,10,1)}),Object(it.a)(t,e.breakpoints.up("lg"),{padding:e.spacing(1,30,1)}),Object(it.a)(t,e.breakpoints.up("xl"),{padding:e.spacing(1,40,1)}),t),grid:{},rootCard:{display:"flex",flexDirection:"column",backgroundColor:e.palette.grey[100],borderColor:e.palette.grey[100],padding:e.spacing(0),margin:e.spacing(0),width:"auto"},actionsTop:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"space-between"},details:{flexGrow:10,height:"auto"},media:{flexGrow:3},labeledInfo:{display:"flex",flexDirection:"column",margin:e.spacing(0,0,5,0)},label:{display:"flex",alignItems:"center"},info:{margin:e.spacing(0)},desription:{margin:e.spacing(5,0)},room:{margin:e.spacing(0,0,3,0),padding:e.spacing(3),borderRadius:e.spacing(1),border:"1px solid ".concat(e.palette.grey[300])},gallery:{},serviceContainer:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"}}})),ha=function(e){var t=e.hotel,n=e.rooms,r=e.services,c=e.onBackClick,i=e.dateIn,s=e.dateOut,o=e.searchHotels,l=e.onDateInChange,u=e.onDateOutChange,j=e.selectedRoomId,b=e.isRoomDetailedOpen,m=e.selectedRoomChanged,p=e.closeRoomDetailed,h=e.openRoomDetailed,f=e.onRequestRooms,O=pa(),x=Object(a.useState)(!1),g=Object(d.a)(x,2),v=g[0],w=g[1];return Object(Ze.jsxs)("div",{className:O.root,children:[Object(Ze.jsxs)(st.a,{container:!0,spacing:2,className:O.grid,children:[Object(Ze.jsx)(st.a,{item:!0,sm:12,md:3,children:Object(Ze.jsx)(Ut,{side:!0,dateIn:i,dateOut:s,searchHotels:o,onDateInChange:l,onDateOutChange:u})}),Object(Ze.jsx)(st.a,{item:!0,sm:12,md:9,children:Object(Ze.jsxs)(ot.a,{className:O.rootCard,variant:"outlined",children:[Object(Ze.jsxs)(bt.a,{className:O.actionsTop,children:[Object(Ze.jsx)(wt.a,{onClick:c,color:"primary","aria-label":"back to hotels",children:Object(Ze.jsx)(Ft.a,{})}),Object(Ze.jsx)(Re.a,{onClick:function(){return w(!v)},variant:"contained",color:"primary",startIcon:Object(Ze.jsx)(Kt.a,{}),disabled:null==i||""===i||null==s||""===s,children:"Reserve"})]}),Object(Ze.jsx)(ut.a,{title:Object(Ze.jsx)(jt.a,{variant:"h4",children:t.name})}),Object(Ze.jsxs)(dt.a,{className:O.details,children:[Object(Ze.jsx)(lt.a,{className:O.media,children:Object(Ze.jsx)("img",{style:{width:"50%"},src:(null===t||void 0===t?void 0:t.mainImage)?t.mainImage:mt,alt:"hotel"})}),(null===t||void 0===t?void 0:t.images)&&0!==(null===t||void 0===t?void 0:t.images.length)?Object(Ze.jsx)($n,{icon:Object(Ze.jsx)($t.a,{}),labelComponent:Object(Ze.jsx)(jt.a,{variant:"h6",children:"Album"}),children:Object(Ze.jsx)("div",{className:O.gallery,children:Object(Ze.jsx)(jn,{images:t.images})})}):null,Object(Ze.jsx)($n,{icon:Object(Ze.jsx)(_t.a,{}),labelComponent:Object(Ze.jsx)(jt.a,{variant:"h6",children:"Description"}),children:Object(Ze.jsx)(jt.a,{variant:"body1",children:t.description})}),Object(Ze.jsx)($n,{icon:Object(Ze.jsx)(Mt.a,{}),labelComponent:Object(Ze.jsx)(jt.a,{variant:"h6",children:"Location"}),children:Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsxs)(jt.a,{children:[Object(Ze.jsx)("b",{children:"Country:"})," ",t.location.country]}),Object(Ze.jsxs)(jt.a,{children:[Object(Ze.jsx)("b",{children:"Region:"})," ",t.location.region]}),Object(Ze.jsxs)(jt.a,{children:[Object(Ze.jsx)("b",{children:"City:"})," ",t.location.city]}),Object(Ze.jsxs)(jt.a,{children:[Object(Ze.jsx)("b",{children:"Street:"})," ",t.location.street,","," ",t.location.buildingNumber]})]})}),Object(Ze.jsx)($n,{icon:Object(Ze.jsx)(Yt.a,{}),labelComponent:Object(Ze.jsx)(jt.a,{variant:"h6",children:"Deposit"}),children:Object(Ze.jsx)(jt.a,{children:0===t.deposit?"None":t.deposit})}),r&&0!==r.lenght?Object(Ze.jsx)($n,{icon:Object(Ze.jsx)(Lt.a,{}),labelComponent:Object(Ze.jsx)(jt.a,{variant:"h6",children:"Services"}),children:Object(Ze.jsx)("div",{className:O.serviceContainer,children:r.map((function(e){return Object(Ze.jsx)(ea,{service:new hn(e)},e.id)}))})}):null,n&&0!==n.lenght?Object(Ze.jsx)($n,{icon:Object(Ze.jsx)(Zt.a,{}),labelComponent:Object(Ze.jsx)(jt.a,{variant:"h6",children:"Rooms"}),children:n.map((function(e){return Object(Ze.jsxs)("div",{className:O.room,children:[Object(Ze.jsxs)(jt.a,{children:[Object(Ze.jsx)("b",{children:"Number"})," ",e.roomNumber]}),Object(Ze.jsxs)(jt.a,{children:[Object(Ze.jsx)("b",{children:"Floor"})," ",e.floorNumber]}),Object(Ze.jsxs)(jt.a,{children:[Object(Ze.jsx)("b",{children:"Capacity"})," ",e.capacity," sleeps"]}),Object(Ze.jsxs)(jt.a,{children:[Object(Ze.jsx)("b",{children:"Price"})," $",e.price]}),Object(Ze.jsx)(Re.a,{startIcon:Object(Ze.jsx)(en.a,{}),onClick:function(){m(e.id),h()},children:"Details"})]},e.id)}))}):null]})]})}),Object(Ze.jsx)(Xn,{open:v,close:function(){w(!1)},hotel:t,services:r,rooms:n,dateIn:i,dateOut:s,onRequestRooms:f})]}),j?Object(Ze.jsx)(un,{open:b,close:p,width:"md",title:"Room details",children:Object(Ze.jsx)(ma,{roomId:j})}):null]})};ha.defaultProps={rooms:[],services:[],dateIn:null,dateOut:null,selectedRoomId:null};var fa=ha,Oa=W,xa=L,ga=oe,va=function(e){var t=e.dateIn,n=e.dateOut,r=e.searchHotels,c=e.onDateInChange,i=e.onDateOutChange,s=Object(Se.h)().id,o=Object(a.useState)(null),j=Object(d.a)(o,2),b=j[0],m=j[1],p=Object(a.useState)([]),h=Object(d.a)(p,2),f=h[0],O=h[1],g=Object(a.useState)(0),v=Object(d.a)(g,2),w=v[0],C=v[1],S=Object(a.useState)(1),y=Object(d.a)(S,2),N=y[0],I=y[1],k=Object(a.useState)(10),R=Object(d.a)(k,2),A=R[0],P=R[1],D=Object(a.useState)(null),H=Object(d.a)(D,2),W=H[0],B=H[1],U=Object(a.useState)([]),q=Object(d.a)(U,2),T=q[0],E=q[1],V=Object(a.useState)(0),F=Object(d.a)(V,2),z=F[0],M=F[1],Q=Object(a.useState)(1),L=Object(d.a)(Q,2),G=L[0],K=L[1],J=Object(a.useState)(10),Y=Object(d.a)(J,2),X=Y[0],Z=Y[1],$=Object(a.useState)(null),_=Object(d.a)($,2),ee=_[0],te=_[1],ne=Object(a.useState)(!1),ae=Object(d.a)(ne,2),re=ae[0],ce=ae[1],ie=Object(Se.g)(),se=function(){var e=Object(u.a)(l.a.mark((function e(a){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa({pageNumber:N,pageSize:A,hotelId:a||(null===b||void 0===b?void 0:b.id),dateIn:t,dateOut:n});case 2:(r=e.sent)&&(c=r.content.map((function(e){return new fn(e)})),O(c),C(r.totalResults),r.pageNumber!==N&&I(r.pageNumber),r.pageSize!==A&&P(r.pageSize));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga({pageNumber:G,pageSize:X,hotelId:t||(null===b||void 0===b?void 0:b.id)});case 2:(n=e.sent)&&(a=n.content.map((function(e){return new hn(e)})),E(a),M(n.totalResults),n.pageNumber!==G&&K(n.pageNumber),n.pageSize!==X&&Z(n.pageSize));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oa(s);case 2:t=e.sent,m(new x(t));case 4:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=3;break}return e.next=3,se(s);case 3:case"end":return e.stop()}}),e)}))),[b,N,A]),Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=3;break}return e.next=3,oe(s);case 3:case"end":return e.stop()}}),e)}))),[b,G,X]),Object(Ze.jsx)(Ze.Fragment,{children:b&&b!=={}?Object(Ze.jsx)(fa,{hotel:b,rooms:f,services:T,roomsTotalResults:w,servicesTotalResults:z,onBackClick:function(){return ie.push("/Hotels")},dateIn:t,dateOut:n,searchHotels:r,onDateInChange:c,onDateOutChange:i,selectedRoomId:W,selectedServiceId:ee,isRoomDetailedOpen:re,selectedRoomChanged:function(e){B(e)},selectedServiceChanged:function(e){te(e)},closeRoomDetailed:function(){ce(!1),B(null)},openRoomDetailed:function(){ce(!0)},onRequestRooms:se}):Object(Ze.jsx)("div",{style:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(Ze.jsx)(ye.a,{})})})};va.defaultProps={dateIn:null,dateOut:null};var wa=va,Ca=n(42),Sa=n.n(Ca),ya=n(437),Na=n(438),Ia=Object(ke.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(5)},submit:{margin:e.spacing(5,0,2),background:"linear-gradient(45deg, #1A2980 0%, #26D0CE 51%, #1A2980 100%)",border:0,borderRadius:"15px",color:"white",height:40,padding:"15px 45px",textAlign:"center",textTransform:"uppercase"}}})),ka=gn.d({email:gn.f().email("Invalid email adress").required("Required"),password:gn.f().min(8,"Must be 8 characters or more").required("Required")}),Ra=function(e){var t=e.onSignIn,n=Ia(),r=Object(a.useState)(""),c=Object(d.a)(r,2),i=c[0],s=c[1],o=Object(Se.g)();return Object(Ze.jsx)(ya.a,{component:"main",maxWidth:"xs",children:Object(Ze.jsxs)("div",{className:n.paper,children:[Object(Ze.jsx)(jt.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(Ze.jsx)("div",{className:n.form,children:Object(Ze.jsx)(vn.c,{initialValues:{email:"",password:""},validationSchema:ka,onSubmit:function(){var e=Object(u.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(""),a={Email:n.email,Password:n.password},e.next=4,I.axios.post("/Account/SignIn",a).then((function(e){t(e),o.push("/")})).catch((function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),s(e.response.data.message)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(Ze.jsx)(vn.b,{autoComplete:"on",children:Object(Ze.jsxs)(st.a,{container:!0,spacing:2,children:[Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Email",name:"email",type:"email",placeholder:"email@email.com"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Password",name:"password",type:"password"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:""!==i?Object(Ze.jsx)(j.a,{fullWidth:!0,variant:"outlined",severity:"error",action:Object(Ze.jsx)(wt.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){s("")},children:Object(Ze.jsx)(Sa.a,{fontSize:"inherit"})}),children:i}):null}),Object(Ze.jsx)(Re.a,{fullWidth:!0,className:n.submit,variant:"contained",type:"submit",color:"primary",children:"Sign In"}),Object(Ze.jsx)(st.a,{container:!0,justify:"flex-end",children:Object(Ze.jsx)(st.a,{item:!0,children:Object(Ze.jsx)(Na.a,{href:"/SignUp",variant:"body2",children:"Don't have an account? Sign up"})})})]})})})})]})})},Aa=n(439),Pa=gn.d({userName:gn.f().max(20,"Must be 20 characters or less").required("Required"),email:gn.f().email("Invalid email adress").required("Required"),firstName:gn.f().max(20,"Must be 20 characters or less").required("Required"),lastName:gn.f().max(20,"Must be 20 characters or less").required("Required"),phoneNumber:gn.f().matches(/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im,"Invalid phone number").required("Required"),password:gn.f().min(8,"Must be 8 characters or more").required("Required"),passwordConfirm:gn.f().oneOf([gn.e("password"),null],"Passwords must match").required("Required"),dateOfBirth:gn.b().required("Required")}),Da=function(e){var t=e.onSignUp,n=Ia(),r=Object(a.useState)(""),c=Object(d.a)(r,2),i=c[0],s=c[1],o=Object(Se.g)(),b=function(){var e=Object(u.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(""),a={Email:n.email,FirstName:n.firstName,LastName:n.lastName,UserName:n.userName,PhoneNumber:n.phoneNumber,Password:n.password,PasswordConfirm:n.passwordConfirm,DateOfBirth:n.dateOfBirth},e.next=4,I.axios.post("/Account/SignUp",a).then((function(e){t(e),o.push("/")})).catch((function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),s(e.response.data.message)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Ze.jsx)(ya.a,{component:"main",maxWidth:"xs",children:Object(Ze.jsx)(Aa.a,{children:Object(Ze.jsxs)("div",{className:n.paper,children:[Object(Ze.jsx)(jt.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(Ze.jsx)("div",{className:n.form,children:Object(Ze.jsx)(vn.c,{initialValues:{userName:"",email:"",firstName:"",lastName:"",phoneNumber:"",password:"",passwordConfirm:"",dateOfBirth:""},validationSchema:Pa,onSubmit:b,children:Object(Ze.jsx)(vn.b,{children:Object(Ze.jsxs)(st.a,{container:!0,spacing:2,children:[Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Email",name:"email",type:"email",placeholder:"email@email.com"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"User Name",name:"userName",type:"text",placeholder:"nickname"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,sm:6,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"First Name",name:"firstName",type:"text",placeholder:"Surname"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,sm:6,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Last Name",name:"lastName",type:"text",placeholder:"Name"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Phone",name:"phoneNumber",type:"text",placeholder:"+375101234567"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,sm:6,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Password",name:"password",type:"password",placeholder:"Password"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,sm:6,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Password Confirm",name:"passwordConfirm",type:"password",placeholder:"Password"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Date of Birth",name:"dateOfBirth",type:"date",InputLabelProps:{shrink:!0}})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:""!==i?Object(Ze.jsx)(j.a,{fullWidth:!0,variant:"outlined",severity:"error",action:Object(Ze.jsx)(wt.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){s("")},children:Object(Ze.jsx)(Sa.a,{fontSize:"inherit"})}),children:i}):null}),Object(Ze.jsx)(Re.a,{fullWidth:!0,className:n.submit,variant:"contained",type:"submit",color:"primary",children:"Sign Up"}),Object(Ze.jsx)(st.a,{container:!0,justify:"flex-end",children:Object(Ze.jsx)(st.a,{item:!0,children:Object(Ze.jsx)(Na.a,{href:"/SignIn",variant:"body2",children:"Already have an account? Sign in"})})})]})})})})]})})})},Ha=n(454),Wa=n(139),Ba=n(459),Ua=n(455),qa=n(441),Ta=n(119),Ea=n(442),Va=n(445),Fa=n(443),za=n(444),Ma=n(472),Qa=n(446),La=n(447),Ga=n(470),Ka=n(86),Ja=n.n(Ka),Ya=n(440),Xa=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){console.log(e),t(a.result)},a.onerror=function(e){n(e)}}))},Za={imageModelToFileAsync:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.image);case 2:return n=e.sent,e.next=5,n.blob();case 5:return a=e.sent,r=new File([a],t.name,{type:t.type}),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fileToImageModelAsync:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xa(t);case 2:return n=e.sent,a={image:n,type:t.type,name:t.name},e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$a=Object(ke.a)((function(e){return{buttons:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:e.spacing(10,0,1,0)}}})),_a=function(e){var t=e.open,n=e.close,a=e.title,r=e.children,c=e.onCancel,i=e.onAccept,s=e.cancelText,o=e.acceptText,l=e.type,u=$a(),d=function(){switch(l){case"delete":return"#f44336";case"update":return"#ffc107";case"create":return"#52b202";default:return"default"}};return Object(Ze.jsxs)(un,{open:t,close:n,title:a,color:d(),children:[r,Object(Ze.jsx)("div",{className:u.empty}),Object(Ze.jsxs)("div",{className:u.buttons,children:[Object(Ze.jsx)(Re.a,{variant:"outlined",onClick:function(){c(),n()},children:s}),Object(Ze.jsx)(Re.a,{disableElevation:!0,variant:"contained",style:"default"!==d()?{backgroundColor:d(),color:"#FFFFFF"}:null,onClick:function(){i(),n()},children:o})]})]})};_a.defaultProps={title:"Default title",cancelText:"Cancel",acceptText:"Accept",type:"default"};var er=_a,tr=Object(ke.a)((function(){return{titleSection:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},title:{flexGrow:1},closeButton:{width:"auto"},image:{height:100}}})),nr=gn.d({name:gn.f().max(50,"Must be 50 characters or less").min(2,"Must be 2 charaters or more").required("Required"),country:gn.f().max(50,"Must be 50 characters or less").min(2,"Must be 2 charaters or more").required("Required"),region:gn.f().max(50,"Must be 50 characters or less").min(2,"Must be 2 charaters or more").required("Required"),city:gn.f().max(50,"Must be 50 characters or less").min(2,"Must be 2 charaters or more").required("Required"),street:gn.f().max(50,"Must be 50 characters or less").min(2,"Must be 2 charaters or more").required("Required"),buildingNumber:gn.c().min(1,"Must be 1 or bigger").max(1e4,"Must be 10000 or less").required("Required"),floors:gn.c().min(1,"Must be 1 or more").max(500,"Must be 500 or less").required("Required"),deposit:gn.c().required("Required"),description:gn.f().max(1e4,"Must be 10000 characters or less").min(10,"Must be 10 characters or more").required("Required")}),ar=function(e){var t,n,r,c,i,s=e.open,o=e.close,b=e.hotel,m=e.submitHandler,p=e.title,h=e.error,f=e.resetError,O=e.onCancel,x=e.onAccept,g=e.acceptText,v=e.cancelText,w=e.warningContent,C=e.warningTitle,S=e.type,y=tr(),N=Object(a.useState)(null),I=Object(d.a)(N,2),k=I[0],R=I[1],A=Object(a.useState)(!1),P=Object(d.a)(A,2),D=P[0],H=P[1],W=Object(a.useState)(!1),B=Object(d.a)(W,2),U=B[0],q=B[1],T=Object(a.useState)((null===b||void 0===b?void 0:b.mainImage)?b.mainImage:null),E=Object(d.a)(T,2),V=E[0],F=E[1],z=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],e.next=3,Za.fileToImageModelAsync(n);case 3:a=e.sent,R(a),F(a.image),H(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Ze.jsx)("div",{children:Object(Ze.jsxs)(un,{open:s,close:function(){H(!1),R(null),o()},title:p,children:[Object(Ze.jsx)(vn.c,{initialValues:{name:b?b.name:"",floors:b?b.numberFloors:"",deposit:b?b.deposit:"",description:b?b.description:"",country:b?null===(t=b.location)||void 0===t?void 0:t.country:"",region:b?null===(n=b.location)||void 0===n?void 0:n.region:"",city:b?null===(r=b.location)||void 0===r?void 0:r.city:"",street:b?null===(c=b.location)||void 0===c?void 0:c.street:"",buildingNumber:b?null===(i=b.location)||void 0===i?void 0:i.buildingNumber:"",newMainImage:null,isDeleteMainImage:!1},validationSchema:nr,onSubmit:function(e){e.newMainImage=k,e.isDeleteMainImage=D,m(e),q(!0)},children:Object(Ze.jsxs)(vn.b,{autoComplete:"on",children:[Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Name",name:"name",type:"text",placeholder:"Hotelname"}),Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Number floors",name:"floors",type:"text",placeholder:"4"}),Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Deposit",name:"deposit",type:"text",placeholder:"100"}),Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,multiline:!0,rows:3,label:"Description",name:"description",type:"text",placeholder:"Some description"}),Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Country",name:"country",type:"text",placeholder:"Country"}),Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Region",name:"region",type:"text",placeholder:"Region"}),Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"City",name:"city",type:"text",placeholder:"City"}),Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Street",name:"street",type:"text",placeholder:"Street"}),Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Building number",name:"buildingNumber",type:"text",placeholder:"14"}),Object(Ze.jsxs)("label",{htmlFor:"icon-button-file",style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[Object(Ze.jsx)(jt.a,{children:V?"Select new one to change":"Upload main picture"}),V?Object(Ze.jsx)("img",{className:y.image,src:V,alt:"Hotel"}):null,Object(Ze.jsx)("input",{accept:"image/*",style:{display:"none"},onChange:function(e){return z(e)},id:"icon-button-file",type:"file"}),Object(Ze.jsx)(wt.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(Ze.jsx)($t.a,{})}),Object(Ze.jsx)(wt.a,{color:"primary",disabled:!V,onClick:function(){R(null),F(null),H(!0)},children:Object(Ze.jsx)(Ya.a,{})})]}),Object(Ze.jsx)(Re.a,{fullWidth:!0,className:y.submit,variant:"contained",type:"submit",color:"primary",children:"Apply changes"})]})}),null!=h?Object(Ze.jsx)(j.a,{fullWidth:!0,variant:"outlined",severity:"error",action:Object(Ze.jsx)(wt.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){f()},children:Object(Ze.jsx)(sn.a,{fontSize:"inherit"})}),children:h}):null,U?Object(Ze.jsx)(er,{title:C,open:U,close:function(){q(!1)},onAccept:function(){H(!1),F(null),R(null),x()},onCancel:O,cancelText:v,acceptText:g,type:S,children:w||null}):null]})})};ar.defaultProps={error:null,hotel:null,onCancel:null,onAccept:null,acceptText:null,cancelText:null,warningContent:null,warningTitle:null,type:"default"};var rr=ar,cr=Object(ke.a)((function(e){return{labelAndValue:{display:"flex",alignItems:"top",justifyContent:"space-between",padding:e.spacing(0,1,0,0)},wrapper:{}}})),ir=function(e){var t=e.text,n=e.hotel,a=e.image,r=cr();return Object(Ze.jsxs)(st.a,{container:!0,spacing:3,children:[Object(Ze.jsxs)(st.a,{item:!0,container:!0,alignItems:"center",xs:12,children:[Object(Ze.jsxs)(st.a,{item:!0,xs:7,children:[Object(Ze.jsxs)(jt.a,{component:"div",className:r.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Name"}),Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:n.name})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:r.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Floors"}),Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:n.numberFloors})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:r.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Deposit"}),Object(Ze.jsxs)(Hn.a,{fontWeight:"fontWeightMedium",children:["$",n.deposit]})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:r.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Description"}),Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",textAlign:"right",children:n.description})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:r.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Country"}),Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:n.location.country})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:r.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Region"}),Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:n.location.region})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:r.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"City"}),Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:n.location.city})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:r.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Street"}),Object(Ze.jsxs)(Hn.a,{fontWeight:"fontWeightMedium",children:[n.location.street," ",n.location.buildingNumber]})]})]}),Object(Ze.jsx)(st.a,{item:!0,xs:5,align:"right",className:r.wrapper,children:Object(Ze.jsx)("img",{style:{width:"100%",height:"100%",objectFit:"contain"},src:a?a.image:mt,alt:"hotel"})})]}),t?Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(jt.a,{children:t})}):null]})};ir.defaultProps={text:null,image:null};var sr=ir,or=function(e){var t=e.open,n=e.close,r=e.createHotel,c=e.onSuccess,i=Object(a.useState)(null),s=Object(d.a)(i,2),o=s[0],j=s[1],b=Object(a.useState)(null),m=Object(d.a)(b,2),p=m[0],h=m[1],f=Object(a.useState)(null),O=Object(d.a)(f,2),x=O[0],g=O[1],v=E,w=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,i,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(p);case 2:if(t=e.sent,a=Object(d.a)(t,2),i=a[0],s=a[1],!x||!i){e.next=11;break}return(o=Object(gt.a)({},x)).hotelId=i.id,e.next=11,v(o);case 11:s?j(s):(c("Hotel added successfully"),h(null),g(null),n());case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=Object(Ze.jsx)(sr,{text:'Hotel "'.concat(null===p||void 0===p?void 0:p.name,'" is going to be created. Accept or decline the creating'),hotel:p,image:x}),S=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=3;break}return e.next=3,w();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Ze.jsx)(rr,{open:t,close:n,hotel:p,submitHandler:function(e){var t={name:e.name,numberFloors:parseInt(e.floors,10),deposit:parseFloat(e.deposit),description:e.description,location:{country:e.country,region:e.region,city:e.city,street:e.street,buildingNumber:parseInt(e.buildingNumber,10)}},n=e.newMainImage?{image:e.newMainImage.image,name:e.newMainImage.name,type:e.newMainImage.type,isMain:!0}:null;h(t),g(n)},title:"Hotel creation",error:o,onCancel:function(){j("Creating canceled")},onAccept:S,resetError:function(){j(null)},warningTitle:"Creating of the hotel",warningContent:C,type:"create",acceptText:"Create hotel",cancelText:"Cancel"})},lr=n(65),ur=n.n(lr),dr=n(64),jr=n.n(dr),br=n(452),mr=n(453),pr=n(28),hr=n(422),fr=n(199),Or=n.n(fr),xr=function e(t){Object(O.a)(this,e),this.id=t.id,this.name=t.name},gr=n(198),vr=n.n(gr),wr=Object(ke.a)((function(){return{content:{display:"flex",alignItems:"center",justifyContent:"space-between"},row:{"& > *":{borderBottom:"none"}}}})),Cr=function(e){var t=e.facilities,n=e.deleteFacility,a=wr();return Object(Ze.jsx)(qa.a,{children:Object(Ze.jsx)(Ea.a,{size:"small",children:t.map((function(e){return Object(Ze.jsx)(Fa.a,{className:a.row,children:Object(Ze.jsx)(za.a,{children:Object(Ze.jsxs)("div",{className:a.content,children:[Object(Ze.jsx)(jt.a,{children:e.name}),Object(Ze.jsx)(wt.a,{size:"small",onClick:function(){return n(e)},children:Object(Ze.jsx)(vr.a,{})})]})})})}))})})};Cr.defaultProps={facilities:[]};var Sr=Cr,yr=Object(ke.a)((function(){return{titleSection:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},title:{flexGrow:1},closeButton:{width:"auto"}}})),Nr=gn.d({name:gn.f().required("Required"),number:gn.c().max(1e4,"Must be 10000 or less").min(1,"Must be 1 or more").required("Required"),floor:gn.c().max(500,"Must be 500 or less").min(1,"Must be 1 or more").required("Required"),price:gn.c().min(1,"Must be 1 or more").required("Required"),capacity:gn.c().max(50,"Must be 50 or less").min(1,"Must be 1 or more").required("Required"),description:gn.f().max(500,"Must be 500 characters or less").required("Required"),area:gn.c().min(1,"Must be 1 m2 or bigger").required("Required"),smoking:gn.a(),parking:gn.a()}),Ir=function(e){var t=e.open,n=e.close,r=e.roomViews,c=e.room,i=e.submitHandler,s=e.title,o=e.submitText,l=e.error,u=e.resetError,b=e.onCancel,m=e.onAccept,p=e.acceptText,h=e.cancelText,f=e.warningContent,O=e.warningTitle,x=e.type,g=Object(a.useState)((null===c||void 0===c?void 0:c.facilities)?c.facilities:[]),v=Object(d.a)(g,2),w=v[0],C=v[1],S=Object(a.useState)(null),y=Object(d.a)(S,2),N=y[0],I=y[1],k=Object(a.useState)((null===c||void 0===c?void 0:c.views)?c.views:[]),R=Object(d.a)(k,2),A=R[0],P=R[1],D=Object(a.useState)(!1),H=Object(d.a)(D,2),W=H[0],B=H[1],U=yr(),q=function(e){var t=w.filter((function(t){return t.name!==e.name}));C(t)};return Object(Ze.jsx)(un,{open:t,close:n,title:s,children:Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(vn.c,{initialValues:{name:(null===c||void 0===c?void 0:c.name)?c.name:"",number:null!=c?c.roomNumber:"",floor:null!=c?c.floorNumber:"",price:null!=c?c.price:"",capacity:null!=c?c.capacity:"",description:(null===c||void 0===c?void 0:c.description)?c.description:"",area:(null===c||void 0===c?void 0:c.area)?c.area:0,smoking:!!(null===c||void 0===c?void 0:c.smoking)&&c.smoking,parking:!!(null===c||void 0===c?void 0:c.parking)&&c.parking},validationSchema:Nr,onSubmit:function(e){e.facilities=w.map((function(e){return e.name})),e.views=A.map((function(e){return e.id})),i(e),B(!0)},children:function(e){var t=e.errors,n=e.touched;return Object(Ze.jsxs)(vn.b,{autoComplete:"on",children:[Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Name",name:"name",type:"text"}),Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Number",name:"number",type:"number",InputProps:{inputProps:{step:1,min:1,max:1e4}}}),Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Floor number",name:"floor",type:"number",InputProps:{inputProps:{step:1,min:1,max:500}}}),Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Price per night",name:"price",type:"number",InputProps:{inputProps:{step:.01,min:0}},prefix:"$"}),Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Beds",name:"capacity",type:"number",InputProps:{inputProps:{step:1,min:1}}}),Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Area",name:"area",type:"number",InputProps:{inputProps:{step:.1,min:1}}}),Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Description",name:"description",type:"text",placeholder:"Provide some room brief description"}),Object(Ze.jsx)(vn.a,{name:"smoking",children:function(e){var a=e.field;return Object(Ze.jsx)(hr.a,{required:!0,fullWidth:!0,error:t.smoking&&n.smoking?"".concat(t.smoking):"",component:"fieldset",children:Object(Ze.jsx)(In.a,{control:Object(Ze.jsx)(kn.a,Object(gt.a)(Object(gt.a)({},a),{},{checked:a.value,color:"primary"})),label:"Allow smoking"})})}}),Object(Ze.jsx)(vn.a,{name:"parking",children:function(e){var a=e.field;return Object(Ze.jsx)(hr.a,{required:!0,fullWidth:!0,error:t.parking&&n.parking?"".concat(t.parking):"",component:"fieldset",children:Object(Ze.jsx)(In.a,{control:Object(Ze.jsx)(kn.a,Object(gt.a)(Object(gt.a)({},a),{},{checked:a.value,color:"primary"})),label:"Parking provided"})})}}),Object(Ze.jsx)(Sr,{facilities:w,deleteFacility:q}),Object(Ze.jsx)(vt.a,{size:"small",value:(null===N||void 0===N?void 0:N.name)?N.name:"",onChange:function(e){console.log(e),I({name:e.target.value})}}),Object(Ze.jsx)(Re.a,{startIcon:Object(Ze.jsx)(Or.a,{}),disabled:!N,onClick:function(){(0===w.filter((function(e){return e.name.toUpperCase()===N.name.toUpperCase()})).length&&w.length>0||0===w.length)&&(w.push(N),C(w)),I(null)},children:"Add facility"}),Object(Ze.jsx)(St.a,{multiple:!0,limitTags:3,value:A,size:"small",options:r,getOptionLabel:function(e){return"".concat(e.name)},onChange:function(e,t){P(t)},renderInput:function(e){return Object(Ze.jsx)(vt.a,Object(gt.a)(Object(gt.a)({},e),{},{autoComplete:!1,helperText:null,variant:"outlined"}))}}),Object(Ze.jsx)(Re.a,{fullWidth:!0,className:U.submit,variant:"contained",type:"submit",color:"primary",children:o})]})}}),null!=l?Object(Ze.jsx)(j.a,{fullWidth:!0,variant:"outlined",severity:"error",action:Object(Ze.jsx)(wt.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){u()},children:Object(Ze.jsx)(Sa.a,{fontSize:"inherit"})}),children:l}):null,W?Object(Ze.jsx)(er,{title:O,open:W,close:function(){B(!1)},onAccept:function(){m()},onCancel:b,cancelText:h,acceptText:p,type:x,children:f||null}):null]})})};Ir.defaultProps={submitText:"Submit",error:null,roomViews:[],onCancel:null,onAccept:null,acceptText:null,cancelText:null,warningContent:null,warningTitle:null,type:"default"};var kr=Ir,Rr=Object(ke.a)((function(e){return{labelAndValue:{display:"flex",alignItems:"top",justifyContent:"space-between",padding:e.spacing(0,1,0,0)},wrapper:{}}})),Ar=function(e){var t=e.room,n=e.image,a=e.text,r=Rr();return Object(Ze.jsxs)(st.a,{container:!0,spacing:3,children:[Object(Ze.jsxs)(st.a,{item:!0,container:!0,alignItems:"center",xs:12,children:[Object(Ze.jsxs)(st.a,{item:!0,xs:7,children:[Object(Ze.jsxs)(jt.a,{component:"div",className:r.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Name"}),Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:t.name})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:r.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Number"}),Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:t.roomNumber})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:r.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Floor"}),Object(Ze.jsxs)(Hn.a,{fontWeight:"fontWeightMedium",children:["$",t.floorNumber]})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:r.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Price per night"}),Object(Ze.jsxs)(Hn.a,{fontWeight:"fontWeightMedium",textAlign:"right",children:["$",t.price]})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:r.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Beds"}),Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:t.capacity})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:r.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Area"}),Object(Ze.jsxs)(Hn.a,{fontWeight:"fontWeightMedium",children:[t.area," m",Object(Ze.jsx)("sup",{children:"2"})]})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:r.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Description"}),Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:t.description})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:r.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Smoking"}),Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:t.smoking?"Allowed":"No smoking"})]})," ",Object(Ze.jsxs)(jt.a,{component:"div",className:r.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Parking"}),Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:t.parking?"Available":"Unavailable"})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:r.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Facilities"}),Object(Ze.jsx)("div",{children:t.facilities.map((function(e){return Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:e})}))})]})]}),Object(Ze.jsx)(st.a,{item:!0,xs:5,align:"right",className:r.wrapper,children:Object(Ze.jsx)("img",{style:{width:"100%",height:"100%",objectFit:"contain"},src:n?n.image:mt,alt:"hotel"})})]}),a?Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(jt.a,{children:a})}):null]})};Ar.defaultProps={text:null,image:null};var Pr=Ar,Dr=function(e){var t=e.close,n=e.open,r=e.roomViews,c=e.hotel,i=e.createRoom,s=e.onSuccess,o=e.onRefresh,j=Object(a.useState)(null),b=Object(d.a)(j,2),m=b[0],p=b[1],h=Object(a.useState)(null),f=Object(d.a)(h,2),O=f[0],x=f[1],g=function(){var e=Object(u.a)(l.a.mark((function e(){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(O);case 2:n=e.sent,a=Object(d.a)(n,2),r=a[0],(c=a[1])?p(c):(s("Room ".concat(r.roomNumber," sucessfully added")),t(),o());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=3;break}return e.next=3,g();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=Object(Ze.jsx)(Pr,{text:'Room view "'.concat(null===O||void 0===O?void 0:O.name,'" is going to be created. Accept or decline the creating'),room:O});return Object(Ze.jsx)(kr,{open:n,close:t,roomViews:r,room:null,submitHandler:function(e){var t={hotelId:c.id,name:e.name,roomNumber:parseInt(e.number,10),floorNumber:parseInt(e.floor,10),price:parseFloat(e.price),capacity:parseInt(e.capacity,10),area:parseFloat(e.area),description:e.description,smoking:e.smoking,parking:e.parking,facilities:e.facilities,views:e.views};x(t)},title:"Room creation",submitText:"Create room",error:m,resetError:function(){p(null)},onAccept:v,onCancel:function(){p("Creating canceled")},warningContent:w,warningTitle:"Creating of the room",type:"create",acceptText:"Create room",cancelText:"Cancel"})};Dr.defaultProps={roomViews:[]};var Hr=Dr,Wr=function(e){var t=e.open,n=e.close,r=e.roomViews,c=e.onRefresh,i=e.room,s=e.hotel,o=e.updateRoom,j=e.onSuccess,b=Object(a.useState)(null),m=Object(d.a)(b,2),p=m[0],h=m[1],f=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,r,u,b,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:i.id,hotelId:s.id,name:t.name,roomNumber:parseInt(t.number,10),floorNumber:parseInt(t.floor,10),price:parseFloat(t.price),capacity:parseInt(t.capacity,10),area:parseFloat(t.area),description:t.description,smoking:t.smoking,parking:t.parking,facilities:t.facilities,views:t.views},console.log(a),e.next=4,o(a);case 4:r=e.sent,u=Object(d.a)(r,2),b=u[0],null!=(m=u[1])?h(m):(j("Room ".concat(b.roomNumber," sucessfully updated")),c(),n());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Ze.jsx)(kr,{open:t,close:n,roomViews:r,room:i,submitHandler:f,title:"Room with id ".concat(i.id," update"),submitText:"Apply changes",error:p,resetError:function(){h(null)}})};Wr.defaultProps={roomViews:[]};var Br=Wr,Ur=Object(ke.a)((function(e){return{button:{margin:0,color:e.palette.primary.main},actions:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},image:{height:150}}})),qr=function(e){var t=e.image,n=e.deleteImage,a=e.onSuccess,r=e.onError,c=Ur(),i=function(){var e=Object(u.a)(l.a.mark((function e(){var c,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.split("/"),i=c[c.length-1],e.next=4,n(i);case 4:(s=e.sent)?r(s):a("Image successfully deleted");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Ze.jsx)(Ze.Fragment,{children:Object(Ze.jsxs)(Fa.a,{children:[Object(Ze.jsx)(za.a,{align:"center",children:Object(Ze.jsx)("img",{className:c.image,src:t,alt:"Hotel"})}),Object(Ze.jsx)(za.a,{className:c.actions,children:Object(Ze.jsx)(wt.a,{className:c.button,onClick:i,children:Object(Ze.jsx)(Ya.a,{})})})]})})},Tr=Object(ke.a)((function(e){return{addButton:{margin:e.spacing(1),border:0,borderRadius:"15px",height:40,width:150,padding:e.spacing(1),textAlign:"center",textTransform:"uppercase"},footer:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:0}}})),Er=function(e){var t=e.openCreate,n=e.images,r=e.deleteImage,c=e.onSuccess,i=e.onError,s=Object(a.useState)(0),o=Object(d.a)(s,2),l=o[0],u=o[1],j=Object(a.useState)(10),b=Object(d.a)(j,2),m=b[0],p=b[1],h=Tr();return Object(Ze.jsx)(qa.a,{component:Ta.a,variant:"outlined",children:Object(Ze.jsxs)(Ea.a,{size:"small",children:[Object(Ze.jsxs)("colgroup",{children:[Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"10%"})]}),Object(Ze.jsx)(Va.a,{children:Object(Ze.jsxs)(Fa.a,{children:[Object(Ze.jsx)(za.a,{children:"Image"}),Object(Ze.jsx)(za.a,{})]})}),Object(Ze.jsx)(Qa.a,{children:n&&n.length>0?n.slice(l*m,l*m+m).map((function(e){return Object(Ze.jsx)(qr,{image:e,deleteImage:r,onError:i,onSuccess:c})})):Object(Ze.jsx)("div",{children:"No images for current hotel"})}),Object(Ze.jsx)(La.a,{children:Object(Ze.jsx)(Fa.a,{children:Object(Ze.jsxs)(za.a,{colSpan:2,className:h.footer,children:[Object(Ze.jsx)(Re.a,{color:"primary",className:h.addButton,onClick:t,startIcon:Object(Ze.jsx)(yt.a,{}),children:"Add image"}),Object(Ze.jsx)(Ga.a,{variant:"body",rowsPerPageOptions:[5,10,25],rowsPerPage:m,count:null===n||void 0===n?void 0:n.length,page:l,onChangePage:function(e,t){u(t)},onChangeRowsPerPage:function(e){var t=parseInt(e.target.value,10);u(0),p(t)}})]})})})]})})},Vr=Object(ke.a)((function(){return{titleSection:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},title:{flexGrow:1},closeButton:{width:"auto"}}})),Fr=function(e){var t=e.open,n=e.close,r=e.onCreateImage,c=e.onError,i=e.error,s=e.processing,o=e.title,b=Vr(),m=Object(a.useState)(null),p=Object(d.a)(m,2),h=p[0],f=p[1],O=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.target.files[0],e.next=4,Za.fileToImageModelAsync(n);case 4:a=e.sent,f(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(Ze.jsx)(un,{open:t,title:o,close:function(){f(null),n()},children:Object(Ze.jsxs)(Ze.Fragment,{children:[s?Object(Ze.jsx)(ye.a,{}):Object(Ze.jsx)(vn.c,{initialValues:{image:""},onSubmit:function(){r(h),f(null)},children:Object(Ze.jsxs)(vn.b,{children:[Object(Ze.jsxs)("label",{htmlFor:"icon-button-file",style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[Object(Ze.jsx)(jt.a,{children:(null===h||void 0===h?void 0:h.name)||"Upload main picture"}),h?Object(Ze.jsx)("img",{height:100,className:b.image,src:h.image,alt:"Hotel"}):null,Object(Ze.jsx)("input",{accept:"image/*",dra:!0,style:{display:"none"},onChange:function(e){return O(e)},id:"icon-button-file",type:"file"}),Object(Ze.jsx)(wt.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(Ze.jsx)($t.a,{})})]}),Object(Ze.jsx)(Re.a,{fullWidth:!0,disabled:!h,className:b.submit,variant:"contained",type:"submit",color:"primary",children:"Add Image"})]})}),null!=i?Object(Ze.jsx)(j.a,{fullWidth:!0,variant:"outlined",severity:"error",action:Object(Ze.jsx)(wt.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){c(null)},children:Object(Ze.jsx)(Sa.a,{fontSize:"inherit"})}),children:i}):null]})})};Fr.defaultProps={error:null,title:"Add Image"};var zr=Fr,Mr=function(e){var t=e.open,n=e.close,r=e.hotelId,c=e.createImage,i=e.onSuccess,s=Object(a.useState)(null),o=Object(d.a)(s,2),j=o[0],b=o[1],m=Object(a.useState)(!1),p=Object(d.a)(m,2),h=p[0],f=p[1],O=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={image:t.image,name:t.name,type:t.type,hotelId:r},f(!0),e.next=4,c(a);case 4:s=e.sent,f(!1),null!=s?b(s):(i("Image successfully added"),n());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Ze.jsx)(zr,{open:t,close:n,error:j,onError:function(e){b(e)},processing:h,onCreateImage:O,title:"Add hotel's image"})},Qr=function(e){var t=e.open,n=e.close,r=e.roomId,c=e.createImage,i=e.onSuccess,s=Object(a.useState)(null),o=Object(d.a)(s,2),j=o[0],b=o[1],m=Object(a.useState)(!1),p=Object(d.a)(m,2),h=p[0],f=p[1],O=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={image:t.image,name:t.name,type:t.type,roomId:r},f(!0),e.next=4,c(a);case 4:s=e.sent,f(!1),null!=s?b(s):(i("Image successfully added"),n());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Ze.jsx)(zr,{open:t,close:n,error:j,onError:function(e){b(e)},processing:h,onCreateImage:O,title:"Add room's image"})},Lr=function(e){var t=e.hotelId,n=e.roomId,r=e.images,c=e.deleteImage,i=e.createImage,s=e.onSuccess,o=e.onError,l=Object(a.useState)(!1),u=Object(d.a)(l,2),j=u[0],b=u[1],m=function(){b(!1)};return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(Er,{images:r,deleteImage:c,onSuccess:s,onError:o,openCreate:function(){b(!0)}}),n?Object(Ze.jsx)(Qr,{open:j,close:m,createImage:i,roomId:n,onSuccess:s}):Object(Ze.jsx)(Mr,{open:j,close:m,createImage:i,hotelId:t,onSuccess:s})]})};Lr.defaultProps={hotelId:null,roomId:null};var Gr=Lr,Kr=function e(t){var n=t.name,a=t.value,r=t.multiple,c=t.options,i=t.getOptionValue,s=t.getOptionLabel,o=t.noOptions,l=t.optionsMap;Object(O.a)(this,e),this.name=n,this.value=a,this.multiple=r||!1,this.getOptionValue=i,this.getOptionLabel=s,this.noOptions=o||!1,this.options=c,this.optionsMap=l};function Jr(e){return null===e||void 0===e?void 0:e.toString()}var Yr=function e(t,n,a,r,c,i){Object(O.a)(this,e),this.name=t,this.value=[n,a],this.displayValue=r||Jr,this.min=c||0,this.max=i||100},Xr=n(25),Zr=function(){function e(t,n){Object(O.a)(this,e),this.name=t,this.value=n}return Object(Xr.a)(e,[{key:"onChange",value:function(e){this.value=e}}]),e}(),$r=n(451),_r=n(450),ec=n(449),tc=n(471),nc=n(468),ac=n(448),rc=Object(ke.a)((function(e){return{root:{display:"flex",alignItems:"center"},item:{margin:e.spacing(1)},itemContent:{display:"flex",alignItems:"center"},rangeInput:{margin:e.spacing(0,1)},input:{height:30}}})),cc=function(e){var t=e.searchClauses,n=e.searchOptions,a=e.searchRanges,r=e.onChangeSearchClauses,c=e.onChangeSearchOptions,i=e.onChangeSearchRanges,s=e.onSearch,o=e.prompts,l=rc(),u=function(e,n){var a=Object(gt.a)({},e);a.value=n;var c=t.findIndex((function(e){return e.name===a.name})),i=Object(pr.a)(t);i[c]=a,r(i)},d=function(e,t){var n=new Yr(e.name,t[0],t[1],e.displayValue,e.min,e.max),r=a.findIndex((function(e){return e.name===n.name})),c=Object(pr.a)(a);c[r]=n,i(c)};return Object(Ze.jsx)("div",{className:l.root,children:Object(Ze.jsxs)(st.a,{container:!0,children:[Object(Ze.jsx)(st.a,{container:!0,item:!0,xs:12,children:t.map((function(e,t){return Object(Ze.jsxs)(st.a,{item:!0,xs:12,className:l.item,children:[Object(Ze.jsx)(jt.a,{gutterBottom:!0,children:e.name}),Object(Ze.jsxs)("div",{className:l.itemContent,children:[Object(Ze.jsx)(St.a,{multiple:e.multiple,value:e.value||"",fullWidth:!0,freeSolo:!0,disableClearable:!0,ChipProps:{size:"small"},limitTags:1,getOptionLabel:function(t){return"string"===typeof t?t:e.getOptionLabel?e.getOptionLabel(t):t},renderOption:function(t){return e.getOptionLabel?e.getOptionLabel(t):t},options:e.noOptions?[]:e.options?e.options:e.optionsMap?e.optionsMap(o):o,autoSelect:!1,renderInput:function(t){return Object(Ze.jsxs)("div",{className:l.itemContent,children:[Object(Ze.jsx)(vt.a,Object(gt.a)(Object(gt.a)({},t),{},{size:"small",variant:"outlined",placeholder:e.name,inputProps:Object(gt.a)(Object(gt.a)({},t.inputProps),{},{autoComplete:"new-password"})})),t.inputProps.value&&e.multiple?Object(Ze.jsx)(wt.a,{size:"small",onClick:function(){u(e,[].concat(Object(pr.a)(e.value),[t.inputProps.value])),t.inputProps.value=""},children:Object(Ze.jsx)(yt.a,{})}):null]})},onInputChange:function(t,n){!0!==e.multiple&&u(e,n)},onChange:function(t,n){if(e.multiple)u(e,n);else if("string"===typeof n)u(e,n);else{var a=e.getOptionValue(n);u(e,a)}}}),Object(Ze.jsx)(wt.a,{onClick:function(){return u(e,e.multiple?[]:"")},size:"small",children:Object(Ze.jsx)(ac.a,{})})]})]},"".concat(e.name,"-").concat(t))}))}),Object(Ze.jsx)(st.a,{container:!0,item:!0,xs:12,children:n.map((function(e,t){return Object(Ze.jsx)(st.a,{item:!0,xs:12,className:l.item,children:Object(Ze.jsx)(In.a,{control:Object(Ze.jsx)(ec.a,{color:"primary",size:"small",checked:e.value,onChange:function(){return function(e){var t=new Zr(e.name,!e.value),a=n.findIndex((function(e){return e.name===t.name})),r=Object(pr.a)(n);r[a]=t,c(r)}(e)}}),label:e.name})},"".concat(e.name,"-").concat(t))}))}),Object(Ze.jsx)(st.a,{container:!0,item:!0,xs:12,children:a.map((function(e,t){return Object(Ze.jsxs)(st.a,{item:!0,xs:12,className:l.item,children:[Object(Ze.jsxs)(jt.a,{id:"range-slider",gutterBottom:!0,children:[e.name," (",e.displayValue(e.value[0])," -"," ",e.displayValue(e.value[1]),")"]}),Object(Ze.jsx)(tc.a,{color:"primary",value:e.value,"aria-labelledby":"range-slider",onChange:function(t,n){return d(e,n)},getAriaValueText:e.displayValue,valueLabelDisplay:"auto",min:e.min,max:e.max}),Object(Ze.jsxs)("div",{className:l.itemContent,children:[Object(Ze.jsx)(nc.a,{classes:{root:l.input},value:e.value[0],onBlur:function(){var t=e.value,n=e.value[0];n<e.min?n=e.min:n>e.max&&(n=e.max),n>t[1]?(t[0]=t[1],t[1]=n):t[0]=Number(n),d(e,t)},onChange:function(t){var n=Object(pr.a)(e.value),a=t.target.value;n[0]=Number(a),d(e,n)}}),Object(Ze.jsx)(nc.a,{className:l.rangeInput,value:e.value[1],classes:{root:l.input},onBlur:function(){var t=e.value,n=e.value[1];n<e.min?n=e.min:n>e.max&&(n=e.max),n<t[0]?(t[1]=t[0],t[0]=n):t[1]=Number(n),d(e,t)},onChange:function(t){var n=Object(pr.a)(e.value),a=t.target.value;n[1]=Number(a),d(e,n)}}),Object(Ze.jsx)(wt.a,{onClick:function(){return d(e,["",""])},size:"small",children:Object(Ze.jsx)(ac.a,{})})]})]},"".concat(e.name,"-").concat(t))}))}),Object(Ze.jsx)(st.a,{item:!0,xs:12,className:l.item,children:Object(Ze.jsx)(Re.a,{fullWidth:!0,onClick:function(){return s()},style:{height:40},variant:"contained",color:"primary",children:"Search"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,className:l.item,children:Object(Ze.jsx)(Re.a,{fullWidth:!0,onClick:function(){var e=Object(pr.a)(t);e.forEach((function(e){e.value=e.multiple?[]:""})),r(e);var s=Object(pr.a)(n);s.forEach((function(e){e.value=!1})),c(s);var o=Object(pr.a)(a);o.forEach((function(e){e.value=["",""]})),i(o)},style:{height:40},variant:"contained",color:"primary",children:"Reset all"})})]})})};cc.defaultProps={filters:[],searchClauses:[],searchOptions:[],searchRanges:[],prompts:[]};var ic=cc,sc=function(e){var t=e.clauses,n=e.onSearch,r=e.options,c=e.ranges,i=e.onChangeOptions,s=e.onChangeClauses,o=e.onChangeRanges,l=e.prompts,u=Object(a.useState)(t),j=Object(d.a)(u,2),b=j[0],m=j[1],p=Object(a.useState)(r),h=Object(d.a)(p,2),f=h[0],O=h[1],x=Object(a.useState)(c),g=Object(d.a)(x,2),v=g[0],w=g[1],C=Object(a.useState)(null),S=Object(d.a)(C,2),y=S[0],N=S[1];return Object(Ze.jsx)(ic,{searchClauses:b,searchOptions:f,searchRanges:v,onChangeSearchClauses:function(e){var t;y&&clearTimeout(y),s&&(t=setTimeout((function(){return s(e)}),500)),m(e),t&&N(t)},onChangeSearchOptions:function(e){i&&i(e),O(e)},onChangeSearchRanges:function(e){o&&o(e),w(e)},onSearch:function(){n(b,f,v)},prompts:l})};sc.defaultProps={clauses:[],options:[],ranges:[],prompts:[],onChangeOptions:null,onChangeRanges:null,onChangeClauses:null};var oc=sc,lc=Object(ke.a)((function(e){var t;return{searchSection:(t={width:"calc('100%'-".concat(e.spacing(2),")"),padding:e.spacing(2)},Object(it.a)(t,e.breakpoints.up("sm"),{width:"40%"}),Object(it.a)(t,e.breakpoints.up("md"),{width:"30%"}),Object(it.a)(t,e.breakpoints.up("lg"),{width:"20%"}),t)}})),uc=function(e){var t=e.open,n=e.onOpen,a=e.onClose,r=e.title,c=e.prompts,i=e.clauses,s=e.ranges,o=e.options,l=e.onChangeClauses,u=e.onChangeOptions,d=e.onChangeRanges,j=e.onSearch,b=lc();return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(Re.a,{onClick:function(){return n()},startIcon:Object(Ze.jsx)(_r.a,{}),children:r}),Object(Ze.jsx)("div",{className:b.searchSection,children:Object(Ze.jsx)($r.a,{open:t,onClose:a,classes:{paper:b.searchSection},children:Object(Ze.jsx)("div",{children:Object(Ze.jsx)(oc,{prompts:c,clauses:i,ranges:s,options:o,onChangeClauses:l,onChangeOptions:u,onChangeRanges:d,onSearch:j})})})})]})};uc.defaultProps={clauses:[],ranges:[],options:[],prompts:[],onChangeClauses:null,onChangeRanges:null,onChangeOptions:null};var dc=uc,jc=L,bc=G,mc=Object(ke.a)((function(e){return{button:{color:e.palette.primary.main},addButton:{margin:e.spacing(1),border:0,borderRadius:"15px",height:40,width:150,padding:e.spacing(1),textAlign:"center",textTransform:"uppercase"},actions:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"auto"},row:{"& > *":{borderBottom:"unset"},background:e.palette.background.paper},subrowTitle:{display:"flex",alignItems:"center"},subrow:{margin:e.spacing(0,5),display:"flex",flexDirection:"column",width:"auto"}}})),pc=function(e){var t=e.roomViews,n=e.createRoom,c=e.updateRoom,i=e.deleteRoom,s=e.createRoomImage,o=e.deleteRoomImage,j=e.hotel,b=e.onSuccess,m=e.onError,p=Object(a.useState)(!1),h=Object(d.a)(p,2),f=h[0],O=h[1],x=r.a.useState("asc"),g=Object(d.a)(x,2),v=g[0],w=g[1],C=r.a.useState(null),S=Object(d.a)(C,2),y=S[0],N=S[1],I=Object(a.useState)([]),k=Object(d.a)(I,2),R=k[0],A=k[1],P=Object(a.useState)(0),D=Object(d.a)(P,2),H=D[0],W=D[1],B=Object(a.useState)(10),U=Object(d.a)(B,2),q=U[0],T=U[1],E=Object(a.useState)(0),V=Object(d.a)(E,2),F=V[0],z=V[1],M=Object(a.useState)(!1),Q=Object(d.a)(M,2),L=Q[0],G=Q[1],K=Object(a.useState)(!1),J=Object(d.a)(K,2),Y=J[0],X=J[1],Z=Object(a.useState)([]),$=Object(d.a)(Z,2),_=$[0],ee=$[1],te=mc(),ne=Object(a.useState)([new Kr({name:"Room name",value:"",getOptionValue:function(e){return e.name},optionsMap:function(e){return Object(pr.a)(new Set(e.map((function(e){return e.name})).filter((function(e){return e}))))}}),new Kr({name:"Room number",value:"",getOptionLabel:function(e){return"#".concat(e.number)},getOptionValue:function(e){return e.number}}),new Kr({name:"Facilities",value:[],multiple:!0,noOptions:!0}),new Kr({name:"Room views",value:[],multiple:!0,noOptions:!0})]),ae=Object(d.a)(ne,2),re=ae[0],ce=ae[1],ie=Object(a.useState)([new Yr("Floor number","","",null,1,500),new Yr("Amount of beds","","",null,1,15),new Yr("Appartment area in m2","","",(function(e){return"".concat(e," m2")}),1,1e3),new Yr("Price per night in USD","","",(function(e){return"$".concat(e)}),1,1e6)]),se=Object(d.a)(ie,2),oe=se[0],le=se[1],ue=Object(a.useState)([new Zr("Allowed smoking",!1),new Zr("Parking",!1)]),de=Object(d.a)(ue,2),je=de[0],be=de[1],me=function(){G(!L)};Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jc({hotelId:j.id,name:re[0].value,number:re[1].value,minFloorNumber:oe[0].value[0],maxFloorNumber:oe[0].value[1],minCapacity:oe[1].value[0],maxCapacity:oe[1].value[1],minArea:oe[2].value[0],maxArea:oe[2].value[1],minPrice:oe[3].value[0],maxPrice:oe[3].value[1],smoking:je[0].value,parking:je[1].value,facilities:re[2].value.map((function(e){return e})),roomViews:re[3].value.map((function(e){return e})),propertyName:y,isDescending:"desc"===v});case 2:(t=e.sent)&&(n=t.content.map((function(e){return new fn(e)})),A(n),z(t.totalResults));case 4:case"end":return e.stop()}}),e)}))),[H,q,L]);var pe=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bc({pageNumber:H+1,pageSize:q,hotelId:j.id,name:re[0].value,number:re[1].value,minFloorNumber:oe[0].value[0],maxFloorNumber:oe[0].value[1],minCapacity:oe[1].value[0],maxCapacity:oe[1].value[1],minArea:oe[2].value[0],maxArea:oe[2].value[1],minPrice:oe[3].value[0],maxPrice:oe[3].value[1],smoking:je[0].value,parking:je[1].value,facilities:re[2].value.map((function(e){return e})),roomViews:re[3].value.map((function(e){return e}))});case 2:t=e.sent,ee(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(e){var t;N((t={orderBy:e,order:y===e&&"asc"===v?"desc":"asc"}).orderBy),w(t.order),W(1),G(!L)};return Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!re[0].value&&!re[1].value){e.next=5;break}return e.next=3,pe();case 3:e.next=6;break;case 5:ee([]);case 6:case"end":return e.stop()}}),e)}))),[re,oe]),Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(dc,{open:Y,onOpen:function(){return X(!0)},onClose:function(){return X(!1)},title:"Setup room search options",prompts:_,clauses:re,ranges:oe,options:je,onChangeClauses:function(e){ce(e)},onChangeOptions:function(e){be(e)},onChangeRanges:function(e){le(e)},onSearch:function(){W(0),G(!L)}}),Object(Ze.jsx)(qa.a,{component:Ta.a,variant:"outlined",children:Object(Ze.jsxs)(Ea.a,{size:"small",children:[Object(Ze.jsxs)("colgroup",{children:[Object(Ze.jsx)("col",{width:"2.5%"}),Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"1%"})]}),Object(Ze.jsx)(Va.a,{children:Object(Ze.jsxs)(Fa.a,{children:[Object(Ze.jsx)(za.a,{}),[{id:"id",numeric:!1,label:"Id"},{id:"name",numeric:!1,label:"Name"},{id:"roomNumber",numeric:!0,label:"Number"},{id:"floorNumber",numeric:!0,label:"Floor"},{id:"capacity",numeric:!0,label:"Beds"},{id:"price",numeric:!1,label:"Price"},{id:"area",numeric:!0,label:"Area"},{id:"smoking",numeric:!1,label:"Smoking"},{id:"parking",numeric:!1,label:"Parking"}].map((function(e){return Object(Ze.jsx)(za.a,{align:e.numeric?"right":"left",sortDirection:y===e.id?v:"asc",children:e.noOrderBy?e.label:Object(Ze.jsx)(Ma.a,{active:y===e.id,direction:y===e.id?v:"asc",onClick:function(){he(e.id)},children:e.label})},e.id)})),Object(Ze.jsx)(za.a,{})]})}),Object(Ze.jsx)(Qa.a,{children:null!=R?R.map((function(e){return Object(Ze.jsx)(hc,{room:e,roomViews:t,onRefresh:me,updateRoom:c,deleteRoom:i,createRoomImage:s,deleteRoomImage:o,hotel:j,onError:m,onSuccess:b},e.id)})):Object(Ze.jsx)("div",{children:"Loading"})}),Object(Ze.jsxs)(La.a,{children:[Object(Ze.jsx)(Re.a,{color:"primary",className:te.addButton,onClick:function(){return O(!f)},startIcon:Object(Ze.jsx)(Ja.a,{}),children:"Add new room"}),Object(Ze.jsx)(Ga.a,{rowsPerPageOptions:[5,10,25],rowsPerPage:q,count:F,page:H,onChangePage:function(e,t){W(t)},onChangeRowsPerPage:function(e){var t=parseInt(e.target.value,10);W(0),T(t)}})]})]})}),Object(Ze.jsx)(Hr,{open:f,roomViews:t,close:function(){O(!f)},onRefresh:me,createRoom:n,hotel:j,onSuccess:b})]})};pc.defaultProps={roomViews:[]};var hc=function(e){var t=e.room,n=e.hotel,r=e.roomViews,c=e.onRefresh,i=e.updateRoom,s=e.deleteRoom,o=e.createRoomImage,j=e.deleteRoomImage,b=e.onError,m=e.onSuccess,p=mc(),h=Object(a.useState)(!1),f=Object(d.a)(h,2),O=f[0],x=f[1],g=Object(a.useState)(!1),v=Object(d.a)(g,2),w=v[0],C=v[1],S=Object(a.useState)(!1),y=Object(d.a)(S,2),N=y[0],I=y[1];return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsxs)(Fa.a,{className:p.row,children:[Object(Ze.jsx)(za.a,{children:Object(Ze.jsx)(wt.a,{onClick:function(){return x(!O)},children:O?Object(Ze.jsx)(jr.a,{}):Object(Ze.jsx)(ur.a,{})})}),Object(Ze.jsx)(fc,{room:t}),Object(Ze.jsxs)(za.a,{className:p.actions,children:[Object(Ze.jsx)(wt.a,{className:p.button,onClick:function(){return I(!N)},children:Object(Ze.jsx)(br.a,{})}),Object(Ze.jsx)(wt.a,{className:p.button,onClick:Object(u.a)(l.a.mark((function e(){var n,a,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t.id);case 2:n=e.sent,a=Object(d.a)(n,2),r=a[0],(i=a[1])?b(i):(m("Room ".concat(r.roomNumber," successfully deleted")),c());case 7:case"end":return e.stop()}}),e)}))),children:Object(Ze.jsx)(Ya.a,{})})]})]}),Object(Ze.jsx)(Fa.a,{children:Object(Ze.jsx)(za.a,{style:{paddingBottom:0,paddingTop:0},colSpan:11,children:Object(Ze.jsx)(mr.a,{in:O,timeout:"auto",unmountOnExit:!0,children:Object(Ze.jsx)(Hn.a,{children:Object(Ze.jsxs)("div",{className:p.subrow,children:[Object(Ze.jsxs)("div",{className:p.subrowTitle,children:[Object(Ze.jsx)(wt.a,{onClick:function(){C(!w)},children:w?Object(Ze.jsx)(jr.a,{}):Object(Ze.jsx)(ur.a,{})}),Object(Ze.jsx)(jt.a,{variant:"h6",children:"Images"})]}),Object(Ze.jsx)(mr.a,{in:w,className:p.table,children:Object(Ze.jsx)(Gr,{hotelId:n.id,roomId:t.id,images:t.images,deleteImage:j,createImage:o,onSuccess:m,onError:b})})]})})})})}),Object(Ze.jsx)(Br,{room:t,open:N,roomViews:r,onRefresh:c,close:function(){I(!1)},hotel:n,updateRoom:i,onSuccess:m})]})};hc.defaultProps={roomViews:[]};var fc=function(e){var t=e.room;return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(za.a,{children:t.id}),Object(Ze.jsx)(za.a,{children:t.name}),Object(Ze.jsx)(za.a,{align:"right",children:t.roomNumber}),Object(Ze.jsx)(za.a,{align:"right",children:t.floorNumber}),Object(Ze.jsx)(za.a,{align:"right",children:t.capacity}),Object(Ze.jsxs)(za.a,{align:"right",children:["$",t.price]}),Object(Ze.jsxs)(za.a,{align:"right",children:[t.area," m",Object(Ze.jsx)("sup",{children:"2"})]}),Object(Ze.jsx)(za.a,{children:Object(Ze.jsx)(kn.a,{checked:t.smoking,readOnly:!0,color:"primary"})}),Object(Ze.jsx)(za.a,{children:Object(Ze.jsx)(kn.a,{checked:t.parking,readOnly:!0,color:"primary"})})]})},Oc=pc,xc=function(e){var t=e.service;return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(za.a,{children:t.id}),Object(Ze.jsx)(za.a,{children:t.name}),Object(Ze.jsxs)(za.a,{align:"right",children:["$",t.price]})]})},gc=n(9),vc=n.n(gc),wc=Object(ke.a)((function(e){return{labelAndValue:{display:"flex",alignItems:"top",justifyContent:"space-between",padding:e.spacing(0,1,0,0)},wrapper:{}}})),Cc=function(e){var t=e.text,n=e.service,a=wc();return Object(Ze.jsxs)(st.a,{container:!0,spacing:3,children:[Object(Ze.jsx)(st.a,{item:!0,container:!0,alignItems:"center",xs:12,children:Object(Ze.jsxs)(st.a,{item:!0,xs:12,children:[Object(Ze.jsxs)(jt.a,{component:"div",className:a.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Name"}),Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:n.name})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:a.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Price"}),Object(Ze.jsxs)(Hn.a,{fontWeight:"fontWeightMedium",children:["$",n.price]})]})]})}),t?Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(jt.a,{children:t})}):null]})};Cc.defaultProps={text:null};var Sc=Cc,yc=function(e){var t=e.open,n=e.title,a=e.close,r=e.service,c=e.validationSchema,i=e.submitHandler,s=e.submitText,o=e.error,l=e.resetError,u=e.onCancel,d=e.onAccept,b=e.type,m=e.warningContent,p=e.warningTitle,h=e.openWarning,f=e.onOpenWarning,O=e.onCloseWarning,x=e.cancelText,g=e.acceptText;return Object(Ze.jsx)("div",{children:Object(Ze.jsxs)(un,{open:t,close:a,title:n,children:[Object(Ze.jsx)(vn.c,{initialValues:{name:null!=r?r.name:"",price:null!=r?r.price:""},validationSchema:c,onSubmit:function(e){i(e),f()},children:Object(Ze.jsxs)(vn.b,{autoComplete:"on",children:[Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Name",name:"name",type:"text"}),Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Price",name:"price",type:"text"}),Object(Ze.jsx)(Re.a,{fullWidth:!0,variant:"contained",type:"submit",color:"primary",children:s})]})}),null!=o?Object(Ze.jsx)(j.a,{fullWidth:!0,variant:"outlined",severity:"error",action:Object(Ze.jsx)(wt.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){l()},children:Object(Ze.jsx)(Sa.a,{fontSize:"inherit"})}),children:o}):null,h?Object(Ze.jsx)(er,{open:h,close:O,onAccept:d,onCancel:u,cancelText:x,acceptText:g,type:b,title:p,children:m}):null]})})};yc.defaultProps={error:null,onCancel:null,onAccept:null,type:"default",warningContent:null,warningTitle:null,acceptText:null,cancelText:null};var Nc=yc,Ic=gn.d({name:gn.f().max(200,"Must be 200 characters or less").min(2,"Must be 2 characters or more").required("Required"),price:gn.c().min(1,"Must be 1 or more").required("Required")}),kc=function(e){var t=e.open,n=e.title,r=e.close,c=e.service,i=e.submitHandler,s=e.submitText,o=e.error,l=e.resetError,u=e.onCancel,j=e.onAccept,b=e.type,m=e.warningContent,p=e.warningTitle,h=e.acceptText,f=e.cancelText,O=Object(a.useState)(!1),x=Object(d.a)(O,2),g=x[0],v=x[1];return Object(Ze.jsx)(Nc,{open:t,close:r,service:c,submitHandler:i,submitText:s,title:n,validationSchema:Ic,error:o,resetError:l,type:b,warningContent:m,warningTitle:p,onAccept:j,onCancel:u,openWarning:g,onOpenWarning:function(){v(!0)},onCloseWarning:function(){v(!1)},acceptText:h,cancelText:f})};kc.defaultProps={service:null,submitText:"Submit",error:null,onCancel:vc.a.func,onAccept:vc.a.func,type:vc.a.string,warningContent:vc.a.instanceOf(Sc),warningTitle:null,acceptText:null,cancelText:null};var Rc=kc,Ac=function(e){var t=e.open,n=e.close,r=e.hotel,c=e.service,i=e.updateService,s=e.onSuccess,o=e.onRefresh,j=Object(a.useState)(null),b=Object(d.a)(j,2),m=b[0],p=b[1],h=Object(a.useState)(Object(gt.a)({},i)),f=Object(d.a)(h,2),O=f[0],x=f[1],g="Service wih id ".concat(c.id," update"),v=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(O);case 2:t=e.sent,a=Object(d.a)(t,2),r=a[0],(c=a[1])?p(c):(s("Service ".concat(r.name," successfully updated")),n(),o());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=3;break}return e.next=3,v();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=Object(Ze.jsx)(Sc,{text:'Service "'.concat(null===O||void 0===O?void 0:O.name,'" is going to be updated. Accept or decline the updating'),service:O});return Object(Ze.jsx)(Rc,{open:t,close:n,service:c,submitHandler:function(e){var t={id:c.id,hotelId:r.id,name:e.name,price:parseFloat(e.price)};x(new hn(t))},title:g,submitText:"Apply changes",error:m,resetError:function(){p(null)},onAccept:w,onCancel:function(){p("Updating canceled")},warningContent:C,warningTitle:"Updating of the service",type:"update",acceptText:"Update service",cancelText:"Cancel"})},Pc=Object(ke.a)((function(e){return{button:{margin:0,color:e.palette.primary.main},actions:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"auto",height:"100%"}}})),Dc=function(e){var t=e.service,n=e.hotel,r=e.updateService,c=e.onSuccess,i=e.onRefresh,s=e.onAccept,o=e.onCancel,l=e.openWarning,u=e.onOpenWarning,j=e.onCloseWarning,b=e.warningContent,m=Pc(),p=Object(a.useState)(!1),h=Object(d.a)(p,2),f=h[0],O=h[1];return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsxs)(Fa.a,{children:[Object(Ze.jsx)(xc,{service:t}),Object(Ze.jsxs)(za.a,{className:m.actions,children:[Object(Ze.jsx)(wt.a,{className:m.button,onClick:function(){return O(!f)},children:Object(Ze.jsx)(br.a,{})}),Object(Ze.jsx)(wt.a,{className:m.button,onClick:function(){return u()},children:Object(Ze.jsx)(Ya.a,{})})]})]}),Object(Ze.jsx)(Ac,{service:t,hotel:n,open:f,close:function(){O(!1)},updateService:r,onSuccess:c,onRefresh:i}),l?Object(Ze.jsx)(er,{title:"Deleting of the view",open:l,close:j,onAccept:s,onCancel:o,cancelText:"Cancel",acceptText:"Delete service",type:"delete",children:b||null}):null]})};Dc.defaultProps={warningContent:null};var Hc=Dc,Wc=function(e){var t=e.service,n=e.deleteService,r=e.hotel,c=e.updateService,i=e.onError,s=e.onSuccess,o=e.onRefresh,j=Object(a.useState)(!1),b=Object(d.a)(j,2),m=b[0],p=b[1],h=function(){var e=Object(u.a)(l.a.mark((function e(){var a,r,c,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t.id);case 2:a=e.sent,r=Object(d.a)(a,2),c=r[0],(u=r[1])?i(u):(s("Service ".concat(c.name," successfully deleted")),o());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,h();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=Object(Ze.jsx)(Sc,{text:'Service "'.concat(null===t||void 0===t?void 0:t.name,'" is going to be updated. Accept or decline the updating'),service:t});return Object(Ze.jsx)(Hc,{service:t,hotel:r,updateService:c,onError:i,onSuccess:s,onRefresh:o,onAccept:f,onCancel:function(){i("Deleting canceled")},openWarning:m,onOpenWarning:function(){p(!0)},onCloseWarning:function(){p(!1)},warningContent:O})},Bc=function(e){var t=e.open,n=e.close,r=e.hotel,c=e.createService,i=e.onSuccess,s=e.onRefresh,o=Object(a.useState)(null),j=Object(d.a)(o,2),b=j[0],m=j[1],p=Object(a.useState)(null),h=Object(d.a)(p,2),f=h[0],O=h[1],x=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(f);case 2:t=e.sent,a=Object(d.a)(t,2),r=a[0],null!=(o=a[1])?m(o):(i("Service ".concat(r.name," sucessfully added")),n(),s());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=3;break}return e.next=3,x();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=Object(Ze.jsx)(Sc,{text:'Room view "'.concat(null===f||void 0===f?void 0:f.name,'" is going to be created. Accept or decline the creating'),service:f});return Object(Ze.jsx)(Ze.Fragment,{children:Object(Ze.jsx)(Rc,{open:t,close:n,service:null,submitHandler:function(e){var t={hotelId:r.id,name:e.name,price:parseFloat(e.price)};O(t)},title:"Service creation",submitText:"Create service",error:b,resetError:function(){m(null)},onAccept:g,onCancel:function(){m("Creating canceled")},warningContent:v,warningTitle:"Creating of the service",type:"create",acceptText:"Create service",cancelText:"Cancel"})})},Uc=Object(ke.a)((function(e){return{addButton:{margin:e.spacing(1),border:0,borderRadius:"15px",height:40,width:175,padding:e.spacing(1),textAlign:"center",textTransform:"uppercase"}}})),qc=function(e){var t=e.services,n=e.createService,r=e.hotel,c=e.deleteService,i=e.updateService,s=e.onError,o=e.onSuccess,l=e.pageNumber,u=e.pageSize,j=e.totalCount,b=e.onPageChanged,m=e.onPageSizeChanged,p=e.searchVariants,h=e.clauses,f=e.onChangeClauses,O=e.onSearch,x=e.onOrderChanged,g=e.orderBy,v=e.order,w=e.onRefresh,C=Object(a.useState)(!1),S=Object(d.a)(C,2),y=S[0],N=S[1],I=Object(a.useState)(!1),k=Object(d.a)(I,2),R=k[0],A=k[1],P=Uc();return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(dc,{open:R,onOpen:function(){return A(!0)},onClose:function(){return A(!1)},title:"Setup service search options",prompts:p,clauses:h,onChangeClauses:f,onSearch:O}),Object(Ze.jsx)(qa.a,{component:Ta.a,variant:"outlined",children:Object(Ze.jsxs)(Ea.a,{size:"small",children:[Object(Ze.jsxs)("colgroup",{children:[Object(Ze.jsx)("col",{width:"20%"}),Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"2.5%"})]}),Object(Ze.jsx)(Va.a,{children:Object(Ze.jsxs)(Fa.a,{children:[[{id:"id",numeric:!1,label:"Id"},{id:"name",numeric:!1,label:"Name"},{id:"price",numeric:!0,label:"Price"}].map((function(e){return Object(Ze.jsx)(za.a,{align:e.numeric?"right":"left",sortDirection:g===e.id?v:"asc",children:e.noOrderBy?e.label:Object(Ze.jsx)(Ma.a,{active:g===e.id,direction:g===e.id?v:"asc",onClick:function(){var t;t=e.id,x({orderBy:t,order:g===t&&"asc"===v?"desc":"asc"})},children:e.label})},e.id)})),Object(Ze.jsx)(za.a,{})]})}),Object(Ze.jsx)(Qa.a,{children:null!=t?t.map((function(e){return Object(Ze.jsx)(Wc,{service:e,hotel:r,deleteService:c,updateService:i,onError:s,onSuccess:o,onRefresh:w},e.id)})):Object(Ze.jsx)("div",{children:"Loading"})}),Object(Ze.jsxs)(La.a,{children:[Object(Ze.jsx)(Re.a,{color:"primary",className:P.addButton,onClick:function(){N(!y)},startIcon:Object(Ze.jsx)(yt.a,{}),children:"Add new service"}),Object(Ze.jsx)(Ga.a,{rowsPerPageOptions:[5,10,25],rowsPerPage:u,count:j,page:l-1,onChangePage:function(e,t){b(t+1)},onChangeRowsPerPage:function(e){var t=parseInt(e.target.value,10);b(1),m(t)}})]})]})}),Object(Ze.jsx)(Bc,{open:y,close:function(){N(!y)},createService:n,hotel:r,onSuccess:o,onRefresh:w})]})};qc.defaultProps={searchVariants:[],clauses:[],orderBy:null};var Tc=qc,Ec=oe,Vc=le,Fc=function(e){var t=e.hotel,n=e.createService,c=e.deleteService,i=e.updateService,s=e.onError,o=e.onSuccess,j=r.a.useState("asc"),b=Object(d.a)(j,2),m=b[0],p=b[1],h=r.a.useState(null),f=Object(d.a)(h,2),O=f[0],x=f[1],g=Object(a.useState)([]),v=Object(d.a)(g,2),w=v[0],C=v[1],S=Object(a.useState)(1),y=Object(d.a)(S,2),N=y[0],I=y[1],k=Object(a.useState)(10),R=Object(d.a)(k,2),A=R[0],P=R[1],D=Object(a.useState)(0),H=Object(d.a)(D,2),W=H[0],B=H[1],U=Object(a.useState)([]),q=Object(d.a)(U,2),T=q[0],E=q[1],V=Object(a.useState)([new Kr({name:"Name",value:"",getOptionValue:function(e){return e.name},getOptionLabel:function(e){return e.name}})]),F=Object(d.a)(V,2),z=F[0],M=F[1],Q=Object(a.useState)(!1),L=Object(d.a)(Q,2),G=L[0],K=L[1],J=function(){var e=Object(u.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ec({pageNumber:N,pageSize:A,hotelId:t.id,name:z[0].value,propertyName:O,isDescending:"desc"===m});case 2:(n=e.sent)&&(a=n.content.map((function(e){return new hn(e)})),C(a),B(n.totalResults),N!==n.pageNumber&&I(n.pageNumber),A!==n.pageSize&&P(n.pageSize));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(u.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vc({hotelId:t.id,name:z[0].value});case 2:n=e.sent,E(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:case"end":return e.stop()}}),e)}))),[N,A,G]),Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z[0].value){e.next=5;break}return e.next=3,Y();case 3:e.next=6;break;case 5:E([]);case 6:case"end":return e.stop()}}),e)}))),[z]),Object(Ze.jsx)(Tc,{services:w,pageNumber:N,pageSize:A,totalCount:W,hotel:t,createService:n,deleteService:c,updateService:i,onPageChanged:function(e){I(e)},onPageSizeChanged:function(e){P(e)},onSuccess:o,onError:s,searchVariants:T,clauses:z,onChangeClauses:function(e){M(e)},onSearch:function(){I(1),K(!G)},onOrderChanged:function(e){x(e.orderBy),p(e.order),I(1),K(!G)},orderBy:O,order:m,onRefresh:function(){K(!G)}})},zc=function(e){var t=e.manager;return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(za.a,{children:t.id}),Object(Ze.jsx)(za.a,{children:t.firstName}),Object(Ze.jsx)(za.a,{children:t.lastName}),Object(Ze.jsx)(za.a,{children:t.email})]})},Mc=Object(ke.a)((function(e){return{button:{margin:0,color:e.palette.primary.main},actions:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}}})),Qc=function(e){var t=e.manager,n=e.updateUser,a=e.onSuccess,r=e.onError,c=e.hotel,i=Mc(),s=function(){var e=Object(u.a)(l.a.mark((function e(){var a,r,i,s,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.hotels.length>1)){e.next=7;break}if(-1!==(a=t.hotels.findIndex((function(e){return c.id===e})))){e.next=4;break}return e.abrupt("return","Current hotel does not contain that manager");case 4:t.hotels.splice(a,1),e.next=12;break;case 7:if(t.hotels[0]===c.id){e.next=9;break}return e.abrupt("return","Current hotel does not contain that manager");case 9:r=t.roles.findIndex((function(e){return"Manager"===e})),t.roles.splice(r,1),t.hotels=[];case 12:return e.next=14,n(t);case 14:return i=e.sent,s=Object(d.a)(i,2),o=s[0],u=s[1],console.log(u),e.abrupt("return",[o,u]);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Ze.jsx)(Ze.Fragment,{children:Object(Ze.jsxs)(Fa.a,{children:[Object(Ze.jsx)(zc,{manager:t}),Object(Ze.jsx)(za.a,{className:i.actions,children:Object(Ze.jsx)(wt.a,{className:i.button,onClick:Object(u.a)(l.a.mark((function e(){var t,n,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:t=e.sent,n=Object(d.a)(t,2),c=n[0],(i=n[1])?r(i):a("Manager ".concat(c.firstName," ").concat(c.lastName," successfully removed from hotel"));case 7:case"end":return e.stop()}}),e)}))),children:Object(Ze.jsx)(Ya.a,{})})})]})})},Lc=n(419),Gc=Object(ke.a)((function(){return{titleSection:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},title:{flexGrow:1},closeButton:{width:"auto"}}})),Kc=function(e){var t=e.open,n=e.title,r=e.close,c=e.users,i=e.submitHandler,s=e.submitText,o=e.error,l=e.resetError,u=Gc(),b=Object(a.useState)(null),m=Object(d.a)(b,2),p=m[0],h=m[1],f=Object(Lc.a)({matchFrom:"start",stringify:function(e){return e.firstName}});return Object(Ze.jsx)("div",{children:Object(Ze.jsxs)(un,{open:t,close:r,title:n,children:[Object(Ze.jsx)(vn.c,{onSubmit:function(){return i(p)},initialValues:{user:""},children:Object(Ze.jsxs)(vn.b,{children:[Object(Ze.jsx)(St.a,{options:c,getOptionLabel:function(e){return"".concat(e.firstName," ").concat(e.lastName,", ").concat(e.email)},onChange:function(e,t){return h(t)},filterOptions:f,renderInput:function(e){return Object(Ze.jsx)(wn,Object(gt.a)(Object(gt.a)({},e),{},{required:!0,variant:"outlined",fullWidth:!0,label:"User",name:"user"}))}}),Object(Ze.jsx)(Re.a,{fullWidth:!0,disabled:!p,className:u.submit,variant:"contained",type:"submit",color:"primary",children:s})]})}),null!=o?Object(Ze.jsx)(j.a,{fullWidth:!0,variant:"outlined",severity:"error",action:Object(Ze.jsx)(wt.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){l()},children:Object(Ze.jsx)(Sa.a,{fontSize:"inherit"})}),children:o}):null]})})};Kc.defaultProps={error:null};var Jc=Kc,Yc=function(e){var t=e.open,n=e.close,r=e.hotel,c=e.updateUser,i=e.users,s=e.onSuccess,o=Object(a.useState)(null),j=Object(d.a)(o,2),b=j[0],m=j[1],p="manager",h="Add manager to hotel ".concat(r.name),f=null,O=null,x=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t.hotels&&0!==t.hotels.length&&(null===(a=t.hotels)||void 0===a?void 0:a.includes(r.id))){e.next=12;break}return null==t.hotels?(t.hotels=[],t.roles.push(p)):0===t.hotels.length&&t.roles.push(p),t.hotels.push(r.id),e.next=5,c(t);case 5:i=e.sent,o=Object(d.a)(i,2),f=o[0],(O=o[1])&&t.hotels.pop(),e.next=13;break;case 12:O="User is already manager of current hotel";case 13:null!=O?m(O):(s("Manager ".concat(f.firstName," ").concat(f.lastName," successfully added")),n());case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Ze.jsx)(Jc,{open:t,close:n,users:i,title:h,submitHandler:x,submitText:"Add manager",error:b,resetError:function(){m(null)}})},Xc=Object(ke.a)((function(e){return{addButton:{margin:e.spacing(1),border:0,borderRadius:"15px",height:40,width:175,padding:e.spacing(1),textAlign:"center",textTransform:"uppercase"}}})),Zc=function(e){var t=e.hotel,n=e.users,r=e.updateUser,c=e.onSuccess,i=e.onError,s=Object(a.useState)(!1),o=Object(d.a)(s,2),l=o[0],u=o[1],j=Object(a.useState)(0),b=Object(d.a)(j,2),m=b[0],p=b[1],h=Object(a.useState)(10),f=Object(d.a)(h,2),O=f[0],x=f[1],g=Xc();return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(qa.a,{component:Ta.a,variant:"outlined",children:Object(Ze.jsxs)(Ea.a,{size:"small",children:[Object(Ze.jsxs)("colgroup",{children:[Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"2.5%"})]}),Object(Ze.jsx)(Va.a,{children:Object(Ze.jsxs)(Fa.a,{children:[Object(Ze.jsx)(za.a,{children:"Id"}),Object(Ze.jsx)(za.a,{children:"Surname"}),Object(Ze.jsx)(za.a,{children:"Name"}),Object(Ze.jsx)(za.a,{children:"Email"}),Object(Ze.jsx)(za.a,{})]})}),Object(Ze.jsx)(Qa.a,{children:t.managers?t.managers.slice(m*O,m*O+O).map((function(e){return Object(Ze.jsx)(Qc,{manager:e,hotel:t,updateUser:r,onSuccess:c,onError:i},e.id)})):Object(Ze.jsx)("div",{children:"No managers for current hotel"})}),Object(Ze.jsxs)(La.a,{children:[Object(Ze.jsx)(Re.a,{color:"primary",className:g.addButton,onClick:function(){u(!l)},startIcon:Object(Ze.jsx)(yt.a,{}),children:"Add manager"}),Object(Ze.jsx)(Ga.a,{rowsPerPageOptions:[5,10,25],rowsPerPage:O,count:t.managers.length,page:m,onChangePage:function(e,t){p(t)},onChangeRowsPerPage:function(e){var t=parseInt(e.target.value,10);p(0),x(t)}})]})]})}),Object(Ze.jsx)(Yc,{open:l,close:function(){u(!l)},updateUser:r,hotel:t,users:n,onSuccess:c})]})},$c=function(e){var t=e.hotel,n=e.users,a=e.updateUser,r=e.onSuccess,c=e.onError;return Object(Ze.jsx)(Zc,{hotel:t,users:n,updateUser:a,onSuccess:r,onError:c})},_c=function(e){var t=e.open,n=e.close,r=e.hotel,c=e.updateHotel,i=e.onSuccess,s=Object(a.useState)(null),o=Object(d.a)(s,2),j=o[0],b=o[1],m=Object(a.useState)(Object(gt.a)({},r)),p=Object(d.a)(m,2),h=p[0],f=p[1],O=Object(a.useState)(null),x=Object(d.a)(O,2),g=x[0],v=x[1],w=Object(a.useState)(!1),C=Object(d.a)(w,2),S=C[0],y=C[1],N=E,I=V,k=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,s,o,u,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=5;break}return e.next=3,N(g);case 3:e.next=10;break;case 5:if(!S||!(null===r||void 0===r?void 0:r.mainImage)){e.next=10;break}return t=r.mainImage.split("/"),a=t[t.length-1],e.next=10,I(a);case 10:return e.next=12,c(h);case 12:s=e.sent,o=Object(d.a)(s,2),u=o[0],(j=o[1])?b(j):(i("Hotel ".concat(u.name," updated successfully")),f(Object(gt.a)({},u)),n("Hotel updated successfully"));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=3;break}return e.next=3,k();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=Object(Ze.jsx)(sr,{text:'Hotel "'.concat(null===h||void 0===h?void 0:h.name,'" is going to be updated. Accept or decline the updating'),hotel:h,image:g||(S||!r.mainImage?null:{image:r.mainImage})});return Object(Ze.jsx)(rr,{open:t,close:n,hotel:h,submitHandler:function(e){var t={id:r.id,name:e.name,numberFloors:parseInt(e.floors,10),deposit:parseFloat(e.deposit),description:e.description,location:{country:e.country,region:e.region,city:e.city,street:e.street,buildingNumber:parseInt(e.buildingNumber,10)}},n=e.newMainImage?{image:e.newMainImage.image,name:e.newMainImage.name,type:e.newMainImage.type,hotelId:r.id,isMain:!0}:null,a=e.isDeleteMainImage;f(t),v(n),y(a)},title:"Edit hotel with id ".concat(r.id),error:j,resetError:function(){b(null)},onAccept:R,onCancel:function(){b("Creating canceled")},acceptText:"Update hotel",cancelText:"Cancel",warningContent:A,warningTitle:"Updating of the hotel",type:"update"})},ei=Object(ke.a)((function(){return{smallCell:{flexGrow:.1},cell:{flexGrow:1}}})),ti=function(e){var t=e.hotel,n=ei();return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(za.a,{children:t.id}),Object(Ze.jsx)(za.a,{children:t.name}),Object(Ze.jsx)(za.a,{align:"right",children:t.numberFloors}),Object(Ze.jsxs)(za.a,{align:"right",children:["$",t.deposit]}),Object(Ze.jsx)(za.a,{children:t.location.country}),Object(Ze.jsx)(za.a,{children:t.location.region}),Object(Ze.jsx)(za.a,{children:t.location.city}),Object(Ze.jsx)(za.a,{className:n.smallCell,children:"".concat(t.location.street,", ").concat(t.location.buildingNumber)}),Object(Ze.jsx)(za.a,{children:Object(Ze.jsx)("img",{style:{width:100},src:t.mainImage?"".concat(t.mainImage):mt,alt:"hotel"})})]})},ni=Object(ke.a)((function(e){return{row:{"& > *":{borderBottom:"unset"},background:e.palette.background.paper},subrowTitle:{display:"flex",alignItems:"center"},subrow:{margin:e.spacing(0,5),display:"flex",flexDirection:"column",width:"auto"},table:{margin:e.spacing(0,0,2)},button:{margin:0,color:e.palette.primary.main},actions:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"auto"}}})),ai=function(e){var t=e.role,n=e.users,r=e.hotel,c=e.roomViews,i=e.deleteHotel,s=e.updateHotel,o=e.createRoom,j=e.updateRoom,b=e.deleteRoom,m=e.createService,p=e.deleteService,h=e.updateService,f=e.updateUser,O=e.deleteImage,x=e.createImage,g=e.createRoomImage,v=e.deleteRoomImage,w=e.onError,C=e.onSuccess,S=ni(),y=Object(a.useState)(!1),N=Object(d.a)(y,2),I=N[0],k=N[1],R=Object(a.useState)(!1),A=Object(d.a)(R,2),P=A[0],D=A[1],H=Object(a.useState)(!1),W=Object(d.a)(H,2),B=W[0],U=W[1],q=Object(a.useState)(!1),T=Object(d.a)(q,2),E=T[0],V=T[1],F=Object(a.useState)(!1),z=Object(d.a)(F,2),M=z[0],Q=z[1],L=Object(a.useState)(!1),G=Object(d.a)(L,2),K=G[0],J=G[1],Y=Object(a.useState)(!1),X=Object(d.a)(Y,2),Z=X[0],$=X[1],_=Object(Ze.jsx)(sr,{text:'Hotel "'.concat(null===r||void 0===r?void 0:r.name,'" is going to be updated. Accept or decline the updating'),hotel:r,image:r.mainImage?{image:r.mainImage}:null}),ee=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(r.id);case 2:t=e.sent,n=Object(d.a)(t,2),(a=n[1])?w(a):C("Hotel successfully deleted");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=3;break}return e.next=3,ee();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsxs)(Fa.a,{className:S.row,children:[Object(Ze.jsx)(za.a,{children:Object(Ze.jsx)(wt.a,{onClick:function(){return k(!I)},children:I?Object(Ze.jsx)(jr.a,{}):Object(Ze.jsx)(ur.a,{})})}),Object(Ze.jsx)(ti,{hotel:r}),Object(Ze.jsx)(za.a,{className:S.actions,children:t===Ge?Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(wt.a,{className:S.button,onClick:function(){return J(!K)},children:Object(Ze.jsx)(br.a,{})}),Object(Ze.jsx)(wt.a,{className:S.button,onClick:function(){$(!0)},children:Object(Ze.jsx)(Ya.a,{})})]}):null})]}),Object(Ze.jsx)(Fa.a,{children:Object(Ze.jsx)(za.a,{style:{paddingBottom:0,paddingTop:0},colSpan:11,children:Object(Ze.jsxs)(mr.a,{in:I,timeout:"auto",unmountOnExit:!0,children:[Object(Ze.jsx)(Hn.a,{children:Object(Ze.jsxs)("div",{className:S.subrow,children:[Object(Ze.jsxs)("div",{className:S.subrowTitle,children:[Object(Ze.jsx)(wt.a,{onClick:function(){D(!P)},children:P?Object(Ze.jsx)(jr.a,{}):Object(Ze.jsx)(ur.a,{})}),Object(Ze.jsx)(jt.a,{variant:"h6",children:"Rooms"})]}),Object(Ze.jsx)(mr.a,{in:P,children:Object(Ze.jsx)(Oc,{roomViews:c,createRoom:o,updateRoom:j,deleteRoom:b,createRoomImage:g,deleteRoomImage:v,hotel:r,onSuccess:C,onError:w})})]})}),Object(Ze.jsx)(Hn.a,{children:Object(Ze.jsxs)("div",{className:S.subrow,children:[Object(Ze.jsxs)("div",{className:S.subrowTitle,children:[Object(Ze.jsx)(wt.a,{onClick:function(){return U(!B)},children:B?Object(Ze.jsx)(jr.a,{}):Object(Ze.jsx)(ur.a,{})}),Object(Ze.jsx)(jt.a,{variant:"h6",children:"Services"})]}),Object(Ze.jsx)(mr.a,{in:B,children:Object(Ze.jsx)(Fc,{services:[],createService:m,updateService:h,deleteService:p,hotel:r,onSuccess:C,onError:w})})]})}),t===Ge?Object(Ze.jsx)(Hn.a,{children:Object(Ze.jsxs)("div",{className:S.subrow,children:[Object(Ze.jsxs)("div",{className:S.subrowTitle,children:[Object(Ze.jsx)(wt.a,{onClick:function(){V(!E)},children:E?Object(Ze.jsx)(jr.a,{}):Object(Ze.jsx)(ur.a,{})}),Object(Ze.jsx)(jt.a,{variant:"h6",children:"Managers"})]}),Object(Ze.jsx)(mr.a,{in:E,children:Object(Ze.jsx)($c,{hotel:r,users:n,updateUser:f,onSuccess:C,onError:w})})]})}):null,Object(Ze.jsx)(Hn.a,{children:Object(Ze.jsxs)("div",{className:S.subrow,children:[Object(Ze.jsxs)("div",{className:S.subrowTitle,children:[Object(Ze.jsx)(wt.a,{onClick:function(){Q(!M)},children:M?Object(Ze.jsx)(jr.a,{}):Object(Ze.jsx)(ur.a,{})}),Object(Ze.jsx)(jt.a,{variant:"h6",children:"Images"})]}),Object(Ze.jsx)(mr.a,{in:M,className:S.table,children:Object(Ze.jsx)(Gr,{hotelId:r.id,images:r.images,deleteImage:O,createImage:x,onSuccess:C,onError:w})})]})})]})})}),Object(Ze.jsx)(Fa.a,{children:Object(Ze.jsx)(za.a,{style:{paddingBottom:0,paddingTop:0},colSpan:11,children:Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(_c,{hotel:r,open:K,close:function(e){J(!K),console.log(e)},updateHotel:s,onSuccess:C}),Z?Object(Ze.jsx)(er,{title:"Deleting of the hotel",open:Z,close:function(){$(!1)},onAccept:te,onCancel:function(){w("Deleting canceled")},cancelText:"Cancel",acceptText:"Delete hotel",type:"delete",children:_||null}):null]})})})]})};ai.defaultProps={roomViews:[]};var ri=ai,ci=function(e){var t=e.role,n=e.users,a=e.hotel,r=e.roomViews,c=e.deleteHotel,i=e.updateHotel,s=e.createRoom,o=e.updateRoom,l=e.deleteRoom,u=e.createService,d=e.updateService,j=e.deleteService,b=e.updateUser,m=e.deleteImage,p=e.createImage,h=e.createRoomImage,f=e.deleteRoomImage,O=e.onError,x=e.onSuccess;return Object(Ze.jsx)(ri,{role:t,users:n,hotel:a,roomViews:r,deleteHotel:c,updateHotel:i,createRoom:s,updateRoom:o,deleteRoom:l,createService:u,updateService:d,deleteService:j,updateUser:b,createImage:p,deleteImage:m,createRoomImage:h,deleteRoomImage:f,onSuccess:x,onError:O})};ci.defaultProps={roomViews:[]};var ii=ci,si=Object(ke.a)((function(e){return{addButton:{margin:e.spacing(1),border:0,borderRadius:"15px",height:40,width:175,padding:e.spacing(1),textAlign:"center",textTransform:"uppercase"}}})),oi=function(e){var t=e.role,n=e.users,r=e.hotels,c=e.roomViews,i=e.totalCount,s=e.onSearch,o=e.prompts,l=e.clauses,u=e.ranges,j=e.options,b=e.onChangeClauses,m=e.onChangeRanges,p=e.onChangeOptions,h=e.pageChanged,f=e.pageSizeChanged,O=e.pageSize,x=e.deleteHotel,g=e.updateHotel,v=e.createHotel,w=e.createRoom,C=e.deleteRoom,S=e.updateRoom,y=e.createService,N=e.deleteService,I=e.updateService,k=e.updateUser,R=e.createImage,A=e.deleteImage,P=e.createRoomImage,D=e.deleteRoomImage,H=e.onError,W=e.onSuccess,B=e.onOrderChanged,U=e.orderBy,q=e.order,T=si(),E=Object(a.useState)(0),V=Object(d.a)(E,2),F=V[0],z=V[1],M=Object(a.useState)(O),Q=Object(d.a)(M,2),L=Q[0],G=Q[1],K=Object(a.useState)(!1),J=Object(d.a)(K,2),Y=J[0],X=J[1],Z=Object(a.useState)(!1),$=Object(d.a)(Z,2),_=$[0],ee=$[1];return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(dc,{open:_,onOpen:function(){return ee(!0)},onClose:function(){return ee(!1)},title:"Setup hotel search options",prompts:o,clauses:l,ranges:u,options:j,onChangeClauses:b,onChangeOptions:p,onChangeRanges:m,onSearch:s}),Object(Ze.jsx)(qa.a,{component:Ta.a,variant:"outlined",children:Object(Ze.jsxs)(Ea.a,{size:"small",children:[Object(Ze.jsxs)("colgroup",{children:[Object(Ze.jsx)("col",{width:"2.5%"}),Object(Ze.jsx)("col",{width:"2.5%"}),Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"2.5%"}),Object(Ze.jsx)("col",{width:"5%"}),Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"2.5%"})]}),Object(Ze.jsx)(Va.a,{children:Object(Ze.jsxs)(Fa.a,{children:[Object(Ze.jsx)(za.a,{}),[{id:"id",numeric:!1,label:"Id"},{id:"name",numeric:!1,label:"Name"},{id:"numberFloors",numeric:!0,label:"Floors"},{id:"deposit",numeric:!0,label:"Deposit"},{id:"location.country",numeric:!1,label:"Country"},{id:"location.region",numeric:!1,label:"Region"},{id:"location.city",numeric:!1,label:"City"},{id:"location.street",numeric:!1,label:"Street"},{id:"image",numeric:!1,label:"Image",noOrderBy:!0}].map((function(e){return Object(Ze.jsx)(za.a,{align:e.numeric?"right":"left",sortDirection:U===e.id?q:"asc",children:e.noOrderBy?e.label:Object(Ze.jsx)(Ma.a,{active:U===e.id,direction:U===e.id?q:"asc",onClick:function(){var t;t=e.id,B({orderBy:t,order:U===t&&"asc"===q?"desc":"asc"})},children:e.label})},e.id)})),Object(Ze.jsx)(za.a,{})]})}),Object(Ze.jsx)(Qa.a,{children:null!=r?r.map((function(e){return Object(Ze.jsx)(ii,{role:t,users:n,roomViews:c,deleteHotel:x,updateHotel:g,createRoom:w,updateRoom:S,deleteRoom:C,createService:y,updateService:I,deleteService:N,updateUser:k,createImage:R,deleteImage:A,createRoomImage:P,deleteRoomImage:D,hotel:e,onSuccess:W,onError:H},e.id)})):Object(Ze.jsx)(Fa.a,{children:"Loading"})}),Object(Ze.jsx)(La.a,{className:T.footer,children:Object(Ze.jsxs)(Fa.a,{children:[t===Ge?Object(Ze.jsx)(za.a,{children:Object(Ze.jsx)(Re.a,{color:"primary",className:T.addButton,startIcon:Object(Ze.jsx)(Ja.a,{}),onClick:function(){return X(!Y)},children:"Add new hotel"})}):null,Object(Ze.jsx)(Ga.a,{rowsPerPageOptions:[5,10,25],rowsPerPage:L,count:i,page:F,onChangePage:function(e,t){z(t),h(t+1)},onChangeRowsPerPage:function(e){var t=parseInt(e.target.value,10);f(t),h(1),z(0),G(t)}})]})})]})}),Object(Ze.jsx)(or,{open:Y,onSuccess:W,close:function(){X(!1)},createHotel:v})]})};oi.defaultProps={roomViews:[],clauses:[],ranges:[],options:[],prompts:[],onChangeClauses:null,onChangeRanges:null,onChangeOptions:null,orderBy:null};var li=oi,ui=function(e){var t=e.role,n=e.users,a=e.hotels,r=e.roomViews,c=e.onSearch,i=e.clauses,s=e.ranges,o=e.options,l=e.onChangeClauses,u=e.onChangeRanges,d=e.onChangeOptions,j=e.pageChanged,b=e.pageSizeChanged,m=e.totalCount,p=e.pageSize,h=e.deleteHotel,f=e.updateHotel,O=e.createHotel,x=e.createRoom,g=e.updateRoom,v=e.deleteRoom,w=e.createService,C=e.updateService,S=e.deleteService,y=e.updateUser,N=e.createImage,I=e.deleteImage,k=e.createRoomImage,R=e.deleteRoomImage,A=e.onError,P=e.onSuccess,D=e.prompts,H=e.onOrderChanged,W=e.orderBy,B=e.order;return Object(Ze.jsx)(li,{role:t,users:n,hotels:a,roomViews:r,totalCount:m,onSearch:c,prompts:D,clauses:i,options:o,ranges:s,onChangeClauses:l,onChangeRanges:u,onChangeOptions:d,pageChanged:j,pageSize:p,pageSizeChanged:b,deleteHotel:h,updateHotel:f,createHotel:O,createRoom:x,updateRoom:g,deleteRoom:v,createService:w,updateService:C,deleteService:S,updateUser:y,createImage:N,deleteImage:I,createRoomImage:k,deleteRoomImage:R,onError:A,onSuccess:P,onOrderChanged:H,orderBy:W,order:B})};ui.defaultProps={roomViews:[],clauses:[],ranges:[],options:[],prompts:[],onChangeClauses:null,onChangeRanges:null,onChangeOptions:null,orderBy:null};var di=ui,ji=function(e){var t=e.roomView;return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(za.a,{children:t.id}),Object(Ze.jsx)(za.a,{children:t.name})]})},bi=Object(ke.a)((function(e){return{labelAndValue:{display:"flex",alignItems:"top",justifyContent:"space-between",padding:e.spacing(0,1,0,0)},wrapper:{}}})),mi=function(e){var t=e.text,n=e.roomView,a=bi();return Object(Ze.jsxs)(st.a,{container:!0,spacing:3,children:[Object(Ze.jsx)(st.a,{item:!0,container:!0,alignItems:"center",xs:12,children:Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsxs)(jt.a,{component:"div",className:a.labelAndValue,children:[Object(Ze.jsx)(Hn.a,{children:"Name"}),Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:n.name})]})})}),t?Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(jt.a,{children:t})}):null]})};mi.defaultProps={text:null};var pi=mi,hi=function(e){var t=e.roomView,n=e.deleteRoomView,r=e.onError,c=e.onSuccess,i=Object(a.useState)(!1),s=Object(d.a)(i,2),o=s[0],j=s[1],b=ni(),m=Object(Ze.jsx)(pi,{text:'Room view "'.concat(null===t||void 0===t?void 0:t.name,'" is going to be deleted. Accept or decline the deleting'),roomView:t}),p=function(){var e=Object(u.a)(l.a.mark((function e(){var a,i,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t.id);case 2:a=e.sent,i=Object(d.a)(a,2),s=i[0],(o=i[1])?r(o):c((l=s.name,"Room view ".concat(l," successfully deleted")));case 7:case"end":return e.stop()}var l}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,p();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsxs)(Fa.a,{className:b.row,children:[Object(Ze.jsx)(ji,{roomView:t}),Object(Ze.jsx)(za.a,{className:b.actions,children:Object(Ze.jsx)(Ze.Fragment,{children:Object(Ze.jsx)(wt.a,{className:b.button,onClick:function(){j(!0)},children:Object(Ze.jsx)(Ya.a,{})})})})]}),o?Object(Ze.jsx)(er,{title:"Deleting of the view",open:o,close:function(){j(!1)},onAccept:h,onCancel:function(){r("Deleting canceled")},cancelText:"Cancel",acceptText:"Delete view",type:"delete",children:m||null}):null]})},fi=function(e){var t=e.roomView,n=e.validationSchema,a=e.submitHandler,r=e.submitText,c=e.error,i=e.resetError,s=e.onCancel,o=e.onAccept,l=e.openWarning,u=e.onOpenWarning,d=e.onCloseWarning,b=e.type,m=e.warningContent,p=e.warningTitle;return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(vn.c,{initialValues:{name:t?t.name:""},validationSchema:n,onSubmit:function(e){u(),a(e)},children:Object(Ze.jsxs)(vn.b,{autoComplete:"on",children:[Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Name",name:"name",type:"text"}),Object(Ze.jsx)(Re.a,{fullWidth:!0,variant:"contained",type:"submit",color:"primary",children:r})]})}),null!=c?Object(Ze.jsx)(j.a,{fullWidth:!0,variant:"outlined",severity:"error",action:Object(Ze.jsx)(wt.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){i()},children:Object(Ze.jsx)(Sa.a,{fontSize:"inherit"})}),children:c}):null,l?Object(Ze.jsx)(er,{open:l,close:d,onAccept:o,onCancel:s,cancelText:"Cancel",acceptText:"Create view",type:b,warningContent:m,title:p,children:Object(Ze.jsxs)(jt.a,{children:['Room view "',null===t||void 0===t?void 0:t.name,'" is going to be created. Accept or decline the creating']})}):null]})};fi.defaultProps={roomView:null,error:null,onCancel:null,onAccept:null,type:"default",warningContent:null,warningTitle:null};var Oi=fi,xi=gn.d({name:gn.f().max(200,"Must be 200 characters or less").min(2,"Must be 2 characters or more").required("Required")}),gi=function(e){var t=e.roomView,n=e.submitHandler,r=e.submitText,c=e.error,i=e.resetError,s=e.onCancel,o=e.onAccept,l=e.type,u=e.warningContent,j=e.warningTitle,b=Object(a.useState)(!1),m=Object(d.a)(b,2),p=m[0],h=m[1];return Object(Ze.jsx)(Oi,{roomView:t,validationSchema:xi,submitHandler:n,submitText:r,error:c,resetError:i,onAccept:o,onCancel:s,openWarning:p,onOpenWarning:function(){h(!0)},onCloseWarning:function(){h(!1)},type:l,warningContent:u,warningTitle:j})};gi.defaultProps={roomView:null,submitText:"Submit",error:null,onCancel:null,onAccept:null,type:"default",warningContent:null,warningTitle:null};var vi=gi,wi=function(e){var t=e.open,n=e.close,r=e.createRoomView,c=e.onSuccess,i=Object(a.useState)(null),s=Object(d.a)(i,2),o=s[0],j=s[1],b=Object(a.useState)(null),m=Object(d.a)(b,2),p=m[0],h=m[1],f=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(p);case 2:t=e.sent,a=Object(d.a)(t,2),i=a[0],null!=(s=a[1])?j(s):(c("Room view ".concat(i.name," sucessfully added")),h(null),n());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=3;break}return e.next=3,f();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=Object(Ze.jsx)(pi,{text:'Room view "'.concat(null===p||void 0===p?void 0:p.name,'" is going to be created. Accept or decline the creating'),roomView:p});return Object(Ze.jsx)(un,{open:t,close:n,title:"Room view creation",children:Object(Ze.jsx)(vi,{submitText:"Create view",submitHandler:function(e){var t=new xr(e);h(t)},error:o,resetError:function(){j(null)},onCancel:function(){j("Creating canceled")},onAccept:O,roomView:p,type:"create",warningContent:x,warningTitle:"Creating of the view"})})},Ci=Object(ke.a)((function(e){return{addButton:{margin:e.spacing(1),border:0,borderRadius:"15px",height:40,width:175,padding:e.spacing(1),textAlign:"center",textTransform:"uppercase"}}})),Si=function(e){var t=e.roomViews,n=e.onError,r=e.onSuccess,c=e.createRoomView,i=e.updateRoomView,s=e.deleteRoomView,o=e.pageChanged,l=e.pageSizeChanged,u=e.totalCount,j=e.pageSize,b=e.onSearch,m=e.clauses,p=e.ranges,h=e.options,f=e.onChangeClauses,O=e.onChangeRanges,x=e.onChangeOptions,g=e.prompts,v=e.onOrderChanged,w=e.orderBy,C=e.order,S=Object(a.useState)(!1),y=Object(d.a)(S,2),N=y[0],I=y[1],k=Object(a.useState)(0),R=Object(d.a)(k,2),A=R[0],P=R[1],D=Object(a.useState)(j),H=Object(d.a)(D,2),W=H[0],B=H[1],U=Object(a.useState)(!1),q=Object(d.a)(U,2),T=q[0],E=q[1],V=Ci();return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(dc,{open:T,onOpen:function(){return E(!0)},onClose:function(){return E(!1)},title:"Setup view search options",prompts:g,clauses:m,ranges:p,options:h,onChangeClauses:f,onChangeOptions:x,onChangeRanges:O,onSearch:b}),Object(Ze.jsx)(qa.a,{component:Ta.a,variant:"outlined",children:Object(Ze.jsxs)(Ea.a,{size:"small",children:[Object(Ze.jsxs)("colgroup",{children:[Object(Ze.jsx)("col",{width:"20%"}),Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"2.5%"})]}),Object(Ze.jsx)(Va.a,{children:Object(Ze.jsxs)(Fa.a,{children:[[{id:"id",numeric:!1,label:"Id"},{id:"name",numeric:!1,label:"Name"}].map((function(e){return Object(Ze.jsx)(za.a,{align:e.numeric?"right":"left",sortDirection:w===e.id?C:"asc",children:e.noOrderBy?e.label:Object(Ze.jsx)(Ma.a,{active:w===e.id,direction:w===e.id?C:"asc",onClick:function(){var t;t=e.id,v({orderBy:t,order:w===t&&"asc"===C?"desc":"asc"})},children:e.label})},e.id)})),Object(Ze.jsx)(za.a,{})]})}),Object(Ze.jsx)(Qa.a,{children:t&&t.length>0?t.map((function(e){return Object(Ze.jsx)(hi,{roomView:e,updateRoomView:i,deleteRoomView:s,onError:n,onSuccess:r},e.id)})):Object(Ze.jsx)(Fa.a,{children:"No views were created yet"})}),Object(Ze.jsx)(La.a,{children:Object(Ze.jsxs)(Fa.a,{children:[Object(Ze.jsx)(za.a,{children:Object(Ze.jsx)(Re.a,{color:"primary",className:V.addButton,startIcon:Object(Ze.jsx)(Ja.a,{}),onClick:function(){return I(!0)},children:"Add new view"})}),Object(Ze.jsx)(Ga.a,{rowsPerPageOptions:[5,10,25],rowsPerPage:W,count:u,page:A,onChangePage:function(e,t){P(t),o(t+1)},onChangeRowsPerPage:function(e){var t=parseInt(e.target.value,10);l(t),o(1),P(0),B(t)}})]})})]})}),Object(Ze.jsx)(wi,{open:N,close:function(){I(!1)},createRoomView:c,onSuccess:r})]})};Si.defaultProps={clauses:[],ranges:[],options:[],prompts:[],onChangeClauses:null,onChangeRanges:null,onChangeOptions:null,orderBy:null};var yi=Si,Ni=te,Ii=ne,ki=function(e){var t=e.onError,n=e.onSuccess,c=r.a.useState("asc"),i=Object(d.a)(c,2),s=i[0],o=i[1],j=r.a.useState(null),b=Object(d.a)(j,2),m=b[0],p=b[1],h=Object(a.useState)([]),f=Object(d.a)(h,2),O=f[0],x=f[1],g=Object(a.useState)([]),v=Object(d.a)(g,2),w=v[0],C=v[1],S=Object(a.useState)(0),y=Object(d.a)(S,2),N=y[0],I=y[1],k=Object(a.useState)(1),R=Object(d.a)(k,2),A=R[0],P=R[1],D=Object(a.useState)(10),H=Object(d.a)(D,2),W=H[0],B=H[1],U=Object(a.useState)(!1),q=Object(d.a)(U,2),T=q[0],E=q[1],V=Object(a.useState)([new Kr({name:"Name",value:null,getOptionValue:function(e){return e.name},getOptionLabel:function(e){return e.name}})]),F=Object(d.a)(V,2),z=F[0],M=F[1],Q=Object(a.useState)([]),L=Object(d.a)(Q,2),G=L[0],K=L[1],J=Object(a.useState)([]),Y=Object(d.a)(J,2),X=Y[0],Z=Y[1],$=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ii({name:z[0].value});case 2:t=e.sent,C(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ni({pageNumber:A,pageSize:W,name:z[0].value,propertyName:m,isDescending:"desc"===s});case 2:null!=(t=e.sent)&&(n=t.content.map((function(e){return new xr(e)})),x(n),I(t.totalResults),A!==t.pageNumber&&P(t.pageNumber),W!==t.pageSize&&B(t.pageSize));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.baseRequestHandler(we.handleCreateRoomView,t);case 2:if(n=e.sent,a=Object(d.a)(n,2),r=a[0],c=a[1]){e.next=9;break}return e.next=9,_();case 9:return e.abrupt("return",[r,c]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.baseRequestHandler(we.handleUpdateRoomView,t);case 2:if(n=e.sent,a=Object(d.a)(n,2),r=a[0],c=a[1]){e.next=9;break}return e.next=9,_();case 9:return e.abrupt("return",[r,c]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.baseRequestHandler(we.handleDeleteRoomView,t);case 2:if(n=e.sent,a=Object(d.a)(n,2),r=a[0],c=a[1]){e.next=9;break}return e.next=9,_();case 9:return e.abrupt("return",[r,c]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:case"end":return e.stop()}}),e)}))),[W,A,T]),Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z[0].value){e.next=5;break}return e.next=3,$();case 3:e.next=6;break;case 5:C([]);case 6:case"end":return e.stop()}}),e)}))),[z,X,G]),Object(Ze.jsx)(yi,{roomViews:O,onError:t,onSuccess:n,createRoomView:ee,updateRoomView:te,deleteRoomView:ne,pageChanged:function(e){P(e)},pageSizeChanged:function(e){B(e)},totalCount:N,pageSize:W,onSearch:function(){P(0),E(!T)},clauses:z,ranges:G,options:X,onChangeClauses:function(e){M(e)},onChangeRanges:function(e){K(e)},onChangeOptions:function(e){Z(e)},prompts:w,onOrderChanged:function(e){p(e.orderBy),o(e.order),P(1),E(!T)},orderBy:m,order:s})},Ri=n(369),Ai=Object(ke.a)((function(e){return{dialogbar:{display:"flex",justifyContent:"space-between",background:e.palette.primary.main,color:e.palette.background.paper},content:{margin:e.spacing(3,7)}}})),Pi=Object(a.forwardRef)((function(e,t){return Object(Ze.jsx)(Ri.a,Object(gt.a)({direction:"up",ref:t},e))})),Di=function(e){var t=e.isOpen,n=e.close,a=e.title,r=e.children,c=Ai();return Object(Ze.jsxs)(an.a,{fullScreen:!0,fullWidth:!0,open:t,onClose:n,TransitionComponent:Pi,children:[Object(Ze.jsxs)(Ie.a,{className:c.dialogbar,children:[Object(Ze.jsx)(jt.a,{variant:"h6",children:a}),Object(Ze.jsx)(wt.a,{edge:"end",color:"inherit",onClick:n,children:Object(Ze.jsx)(Sa.a,{})})]}),r]})},Hi=Object(ke.a)((function(e){return{content:{margin:e.spacing(3,7)},contentItem:{margin:e.spacing(0,0,3,0)},tabList:{display:"flex",justifyContent:"center"}}})),Wi=function(e){var t=e.users,n=e.isOpen,r=e.prompts,c=e.close,i=e.role,s=e.hotels,o=e.roomViews,l=e.totalCount,u=e.onSearch,m=e.clauses,p=e.ranges,h=e.options,f=e.onChangeClauses,O=e.onChangeRanges,x=e.onChangeOptions,g=e.pageChanged,v=e.pageSizeChanged,w=e.pageSize,C=e.deleteHotel,S=e.updateHotel,y=e.createHotel,N=e.createRoom,I=e.updateRoom,k=e.deleteRoom,R=e.createService,A=e.updateService,P=e.deleteService,D=e.updateUser,H=e.createImage,W=e.deleteImage,B=e.createRoomImage,U=e.deleteRoomImage,q=e.onOrderChanged,T=e.orderBy,E=e.order,V=Hi(),F=Object(a.useState)("0"),z=Object(d.a)(F,2),M=z[0],Q=z[1],L=Object(a.useState)(null),G=Object(d.a)(L,2),K=G[0],J=G[1],Y=Object(a.useState)(null),X=Object(d.a)(Y,2),Z=X[0],$=X[1],_=function(e,t){"clickaway"!==t&&J(null)},ee=function(e,t){"clickaway"!==t&&$(null)},te=function(e){J(e)},ne=function(e){$(e)};return Object(Ze.jsxs)(Di,{isOpen:n,close:c,title:"Hotels management",children:[Object(Ze.jsx)("div",{className:V.content,children:Object(Ze.jsxs)(Wa.a,{value:M,children:[Object(Ze.jsx)("div",{className:V.tabList,children:Object(Ze.jsxs)(Ba.a,{indicatorColor:"primary",textColor:"primary",onChange:function(e,t){Q(t)},children:[Object(Ze.jsx)(Ha.a,{label:"Hotels management",value:"0"}),i===Ge?Object(Ze.jsx)(Ha.a,{label:"Room views management",value:"1"}):Object(Ze.jsx)(Ze.Fragment,{})]})}),Object(Ze.jsx)(Ua.a,{value:"0",children:Object(Ze.jsx)("div",{className:V.contentItem,children:Object(Ze.jsx)(di,{prompts:r,role:i,users:t,hotels:s,roomViews:o,totalCount:l,onSearch:u,clauses:m,options:h,ranges:p,onChangeClauses:f,onChangeRanges:O,onChangeOptions:x,pageChanged:g,pageSize:w,pageSizeChanged:v,deleteHotel:C,updateHotel:S,createHotel:y,createRoom:N,updateRoom:I,deleteRoom:k,createService:R,updateService:A,deleteService:P,updateUser:D,createImage:H,deleteImage:W,createRoomImage:B,deleteRoomImage:U,onError:te,onSuccess:ne,onOrderChanged:q,orderBy:T,order:E})})}),i&&i===Ge?Object(Ze.jsx)(Ua.a,{value:"1",children:Object(Ze.jsx)("div",{className:V.contentItem,children:Object(Ze.jsx)(ki,{onError:te,onSuccess:ne})})}):null]})}),Object(Ze.jsx)(b.a,{open:!!K,autoHideDuration:5e3,onClose:_,children:Object(Ze.jsx)(j.a,{onClose:_,severity:"error",variant:"filled",children:K})}),Object(Ze.jsx)(b.a,{open:!!Z,autoHideDuration:5e3,onClose:ee,children:Object(Ze.jsx)(j.a,{onClose:ee,severity:"success",variant:"filled",children:Z})})]})};Wi.defaultProps={roomViews:[],clauses:[],ranges:[],options:[],prompts:[],onChangeClauses:null,onChangeRanges:null,onChangeOptions:null,orderBy:null};var Bi=Wi,Ui=pe,qi=A,Ti=P,Ei=te,Vi=function(e){var t=e.isOpen,n=e.close,c=r.a.useState("asc"),i=Object(d.a)(c,2),o=i[0],j=i[1],b=r.a.useState(null),m=Object(d.a)(b,2),p=m[0],h=m[1],f=Object(a.useState)([]),O=Object(d.a)(f,2),g=O[0],v=O[1],w=Object(a.useState)(!1),C=Object(d.a)(w,2),S=C[0],y=C[1],N=Object(a.useState)([]),I=Object(d.a)(N,2),k=I[0],R=I[1],A=Object(a.useState)([]),P=Object(d.a)(A,2),D=P[0],H=P[1],W=Object(a.useState)([]),B=Object(d.a)(W,2),U=B[0],q=B[1],T=Object(a.useState)(0),E=Object(d.a)(T,2),V=E[0],F=E[1],z=Object(a.useState)(1),M=Object(d.a)(z,2),Q=M[0],L=M[1],G=Object(a.useState)(10),K=Object(d.a)(G,2),J=K[0],Y=K[1],X=Object(a.useState)(0),Z=Object(d.a)(X,2),$=Z[0],_=Z[1],ee=Object(a.useState)(1),te=Object(d.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)(10),ce=Object(d.a)(re,2),ie=ce[0],se=ce[1],oe=Object(a.useState)([new Kr({name:"Hotel name",value:"",getOptionValue:function(e){return e.name},getOptionLabel:function(e){return"".concat(e.name," (").concat(e.country,", ").concat(e.city,")")}}),new Kr({name:"City",value:"",getOptionValue:function(e){return e.city},getOptionLabel:function(e){return"".concat(e.city,' ("').concat(e.name,'", ').concat(e.country,")")}}),new Kr({name:"Services",value:[],multiple:!0,noOptions:!0})]),le=Object(d.a)(oe,2),ue=le[0],de=le[1],je=Object(a.useState)([new Yr("Deposit in USD",null,null,(function(e){return"$".concat(e)}),0,1e5),new Yr("Number floors",null,null,null,0,1e5)]),be=Object(d.a)(je,2),me=be[0],pe=be[1],he=Object(s.c)((function(e){return e.loggedUser.loggedUser})),fe=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ui();case 2:(t=e.sent)&&(n=t.map((function(e){return new nt(e)})),v(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qi({pageNumber:Q,pageSize:J,dateIn:"",dateOut:"",manager:he.roles.includes(Ge)?"":he.id,name:ue[0].value,city:ue[1].value,services:ue[2].value,minDeposit:me[0].value[0],maxDeposit:me[0].value[1],minFloors:me[1].value[0],maxFloors:me[1].value[1],propertyName:p,isDescending:"desc"===o});case 2:null!=(t=e.sent)&&(n=t.content.map((function(e){return new x(e)})),R(n),F(t.totalResults),Q!==t.pageNumber&&L(t.pageNumber),J!==t.pageSize&&Y(t.pageSize));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti({dateIn:"",dateOut:"",manager:he.roles.includes(Ge)?"":he.id,name:ue[0].value,city:ue[1].value,services:ue[2].value,minDeposit:me[0].value[0],maxDeposit:me[0].value[1],minFloors:me[1].value[0],maxFloors:me[1].value[1]});case 2:t=e.sent,H(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ei({pageNumber:ne,pageSize:ie});case 2:null!=(t=e.sent)&&(n=t.content.map((function(e){return new xr(e)})),q(n),_(t.totalResults),ne!==t.pageNumber&&ae(t.pageNumber),ie!==t.pageSize&&se(t.pageSize));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(e){return e.roles.includes(Ge)?Ge:e.roles.includes(Ke)?Ke:Je},Ce=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.baseRequestHandler(we.handleCreateHotel,t);case 2:if(n=e.sent,a=Object(d.a)(n,2),r=a[0],c=a[1]){e.next=9;break}return e.next=9,Oe();case 9:return e.abrupt("return",[r,c]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.baseRequestHandler(we.handleUpdateHotel,t);case 2:if(n=e.sent,a=Object(d.a)(n,2),r=a[0],c=a[1]){e.next=9;break}return e.next=9,Oe();case 9:return e.abrupt("return",[r,c]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.baseRequestHandler(we.handleDeleteHotel,t);case 2:if(n=e.sent,a=Object(d.a)(n,2),r=a[0],c=a[1]){e.next=9;break}return e.next=9,Oe();case 9:return e.abrupt("return",[r,c]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.baseRequestHandler(we.handleCreateRoom,t);case 2:if(n=e.sent,a=Object(d.a)(n,2),r=a[0],c=a[1]){e.next=9;break}return e.next=9,Oe();case 9:return e.abrupt("return",[r,c]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.baseRequestHandler(we.handleUpdateRoom,t);case 2:if(n=e.sent,a=Object(d.a)(n,2),r=a[0],c=a[1]){e.next=9;break}return e.next=9,Oe();case 9:return e.abrupt("return",[r,c]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.baseRequestHandler(we.handleDeleteRoom,t);case 2:if(n=e.sent,a=Object(d.a)(n,2),r=a[0],c=a[1]){e.next=9;break}return e.next=9,Oe();case 9:return e.abrupt("return",[r,c]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.baseRequestHandler(we.handleCreateService,t);case 2:if(n=e.sent,a=Object(d.a)(n,2),r=a[0],c=a[1]){e.next=9;break}return e.next=9,Oe();case 9:return e.abrupt("return",[r,c]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.baseRequestHandler(we.handleUpdateService,t);case 2:if(n=e.sent,a=Object(d.a)(n,2),r=a[0],c=a[1]){e.next=9;break}return e.next=9,Oe();case 9:return e.abrupt("return",[r,c]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.baseRequestHandler(we.handleDeleteService,t);case 2:if(n=e.sent,a=Object(d.a)(n,2),r=a[0],c=a[1]){e.next=9;break}return e.next=9,Oe();case 9:return e.abrupt("return",[r,c]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.baseRequestHandler(we.handleUpdateUser,t);case 2:if(n=e.sent,a=Object(d.a)(n,2),r=a[0],c=a[1]){e.next=9;break}return e.next=9,Oe();case 9:return e.abrupt("return",[r,c]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.handleCreateHotelImage(t);case 2:if(n=e.sent){e.next=6;break}return e.next=6,Oe();case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.handleDeleteHotelImage(t);case 2:if(n=e.sent){e.next=6;break}return e.next=6,Oe();case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.handleCreateRoomImage(t);case 2:if(n=e.sent){e.next=6;break}return e.next=6,Oe();case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.handleDeleteRoomImage(t);case 2:if(n=e.sent){e.next=6;break}return e.next=6,Oe();case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:case"end":return e.stop()}}),e)}))),[J,Q,p,o,S]),Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:case"end":return e.stop()}}),e)}))),[ie,ne]),Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:if(ve(he)!==Ge){e.next=5;break}return e.next=5,fe();case 5:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ue[0].value){e.next=5;break}return e.next=3,xe();case 3:e.next=6;break;case 5:H([]);case 6:case"end":return e.stop()}}),e)}))),[ue,me]),Object(Ze.jsx)(Bi,{role:ve(he),users:g,roomViews:U,prompts:D,isOpen:t,close:n,hotels:k,onSearch:function(){L(0),y(!S)},clauses:ue,ranges:me,onChangeClauses:function(e){de(e)},onChangeRanges:function(e){pe(e)},totalCount:V,pageChanged:function(e){L(e)},pageSizeChanged:function(e){Y(e)},pageSize:J,viewsTotalCount:$,viewsPageSize:ie,createHotel:Ce,updateHotel:Se,deleteHotel:ye,createRoom:Ne,updateRoom:Ie,deleteRoom:ke,createService:Re,updateService:Ae,deleteService:Pe,updateUser:De,createImage:He,deleteImage:We,createRoomImage:Be,deleteRoomImage:Ue,onOrderChanged:function(e){h(e.orderBy),j(e.order),L(1),y(!S)},orderBy:p,order:o})},Fi=function(e){var t=e.user;return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(za.a,{children:t.id}),Object(Ze.jsx)(za.a,{children:t.firstName}),Object(Ze.jsx)(za.a,{children:t.lastName}),Object(Ze.jsx)(za.a,{children:t.userName}),Object(Ze.jsx)(za.a,{children:t.email}),Object(Ze.jsx)(za.a,{children:t.dateOfBirth.toLocaleDateString("en-US",Ye)}),Object(Ze.jsx)(za.a,{children:t.phoneNumber}),Object(Ze.jsx)(za.a,{children:t.roles.map((function(e){return"".concat(e," ")}))})]})},zi=Object(ke.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%"},submit:{margin:e.spacing(5,0,2),background:"linear-gradient(45deg, #1A2980 0%, #26D0CE 51%, #1A2980 100%)",border:0,borderRadius:"15px",color:"white",height:40,padding:"15px 45px",textAlign:"center",textTransform:"uppercase"}}})),Mi=gn.d({userName:gn.f().max(20,"Must be 20 characters or less").required("Required"),email:gn.f().email("Invalid email adress").required("Required"),firstName:gn.f().max(20,"Must be 20 characters or less").required("Required"),lastName:gn.f().max(20,"Must be 20 characters or less").required("Required"),phoneNumber:gn.f().matches(/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im,"Invalid phone number").required("Required"),oldPassword:gn.f().when("newPassword",(function(e){return e?gn.f().min(8,"Must be 8 characters or more").required("Requied to change password"):gn.f().min(8,"Must be 8 characters or more")})),newPassword:gn.f().min(8,"Must be 8 characters or more"),passwordConfirm:gn.f().when("newPassword",(function(e){return e?gn.f().min(8,"Must be 8 characters or more").oneOf([gn.e("newPassword"),null],"Passwords must match").required("Required"):gn.f().min(8,"Must be 8 characters or more")})),dateOfBirth:gn.b().required("Required")}),Qi=function(e){var t,n=e.open,r=e.close,c=e.user,i=e.hotels,s=e.updateUser,o=e.onSuccess,b=Object(a.useState)(null),m=Object(d.a)(b,2),p=m[0],h=m[1],f=Object(a.useState)((null===c||void 0===c?void 0:c.roles)?c.roles:["User"]),O=Object(d.a)(f,2),x=O[0],g=O[1],v=Object(a.useState)((null===c||void 0===c?void 0:c.hotels)?c.hotels.map((function(e){return i.find((function(t){return t.id===e}))})):[]),w=Object(d.a)(v,2),C=w[0],S=w[1],y="Updating ".concat(c.email," user"),N=zi(),I=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,i,u,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:c.id,userName:t.userName,email:t.email,oldPassword:t.oldPassword,newPassword:t.newPassword,passwordConfirm:t.passwordConfirm,phoneNumber:t.phoneNumber,dateOfBirth:t.dateOfBirth,firstName:t.firstName,lastName:t.lastName,roles:t.roles,hotels:t.hotels},e.next=3,s(n);case 3:a=e.sent,i=Object(d.a)(a,2),u=i[0],(j=i[1])?h(j):(o("User ".concat(u.email," created successfully")),r());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Ze.jsx)(un,{title:y,open:n,close:r,children:Object(Ze.jsxs)("div",{className:N.paper,children:[Object(Ze.jsx)("div",{className:N.form,children:Object(Ze.jsx)(vn.c,{initialValues:{userName:(null===c||void 0===c?void 0:c.userName)?c.userName:"",email:(null===c||void 0===c?void 0:c.email)?c.email:"",firstName:(null===c||void 0===c?void 0:c.firstName)?c.firstName:"",lastName:(null===c||void 0===c?void 0:c.lastName)?c.lastName:"",phoneNumber:(null===c||void 0===c?void 0:c.phoneNumber)?c.phoneNumber:"",oldPassword:"",newPassword:"",passwordConfirm:"",dateOfBirth:(null===c||void 0===c?void 0:c.dateOfBirth)?(t=c.dateOfBirth,"".concat(t.getFullYear(),"-").concat("0".concat(t.getMonth()+1).slice(-2),"-").concat("0".concat(t.getDate()).slice(-2))):""},validationSchema:Mi,onSubmit:function(e){e.roles=x,e.hotels=C.map((function(e){return e.id})),I(e)},children:Object(Ze.jsx)(vn.b,{children:Object(Ze.jsxs)(st.a,{container:!0,spacing:2,children:[Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Email",name:"email",type:"email",placeholder:"email@email.com"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"User Name",name:"userName",type:"text",placeholder:"nickname"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,sm:6,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"First Name",name:"firstName",type:"text",placeholder:"Surname"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,sm:6,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Last Name",name:"lastName",type:"text",placeholder:"Name"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Phone",name:"phoneNumber",type:"text",placeholder:"+375101234567"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(wn,{fullWidth:!0,label:"Old password",name:"oldPassword",type:"password",placeholder:"Password"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,sm:6,children:Object(Ze.jsx)(wn,{fullWidth:!0,label:"New password",name:"newPassword",type:"password",placeholder:"Password"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,sm:6,children:Object(Ze.jsx)(wn,{fullWidth:!0,label:"Password Confirm",name:"passwordConfirm",type:"password",placeholder:"Password"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Date of Birth",name:"dateOfBirth",type:"date",InputLabelProps:{shrink:!0}})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(St.a,{multiple:!0,limitTags:3,value:x,size:"small",options:["User","Manager","Admin"],getOptionLabel:function(e){return"".concat(e)},onChange:function(e,t){g(t)},renderInput:function(e){return Object(Ze.jsx)(vt.a,Object(gt.a)(Object(gt.a)({},e),{},{variant:"outlined"}))}})}),x.includes(Ke)||x.includes(Ge)?Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(St.a,{multiple:!0,limitTags:3,value:C,size:"small",options:i,getOptionLabel:function(e){return"".concat(e.name," (").concat(e.location.buildingNumber," ").concat(e.location.street," St., ").concat(e.location.city,", ").concat(e.location.region,", ").concat(e.location.country,")")},onChange:function(e,t){S(t)},renderInput:function(e){return Object(Ze.jsx)(vt.a,Object(gt.a)(Object(gt.a)({},e),{},{variant:"outlined"}))}})}):null,Object(Ze.jsx)(Re.a,{fullWidth:!0,className:N.submit,variant:"contained",type:"submit",color:"primary",children:"Update user"})]})})})}),null!=p?Object(Ze.jsx)(j.a,{fullWidth:!0,variant:"outlined",severity:"error",action:Object(Ze.jsx)(wt.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){h(null)},children:Object(Ze.jsx)(sn.a,{fontSize:"inherit"})}),children:p}):null]})})};Qi.defaultProps={hotels:[]};var Li=Qi,Gi=function(e){var t=e.user,n=e.hotels,r=e.updateUser,c=e.deleteUser,i=e.onSuccess,s=e.onError,o=Object(a.useState)(!1),j=Object(d.a)(o,2),b=j[0],m=j[1];return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsxs)(Fa.a,{children:[Object(Ze.jsx)(Fi,{user:t}),Object(Ze.jsxs)(za.a,{children:[Object(Ze.jsx)(wt.a,{onClick:function(){m(!0),console.log(t)},children:Object(Ze.jsx)(br.a,{})}),Object(Ze.jsx)(wt.a,{onClick:Object(u.a)(l.a.mark((function e(){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t.id);case 2:n=e.sent,a=Object(d.a)(n,2),(r=a[1])?s(r):i("User ".concat(t.id," successfully deleted"));case 6:case"end":return e.stop()}}),e)}))),children:Object(Ze.jsx)(Ya.a,{})})]})]}),Object(Ze.jsx)(Li,{open:b,close:function(){m(!1)},user:t,hotels:n,updateUser:r,onSuccess:i})]})};Gi.defaultProps={hotels:[]};var Ki=Gi,Ji=Object(ke.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%"},submit:{margin:e.spacing(5,0,2),background:"linear-gradient(45deg, #1A2980 0%, #26D0CE 51%, #1A2980 100%)",border:0,borderRadius:"15px",color:"white",height:40,padding:"15px 45px",textAlign:"center",textTransform:"uppercase"}}})),Yi=gn.d({userName:gn.f().max(20,"Must be 20 characters or less").required("Required"),email:gn.f().email("Invalid email adress").required("Required"),firstName:gn.f().max(20,"Must be 20 characters or less").required("Required"),lastName:gn.f().max(20,"Must be 20 characters or less").required("Required"),phoneNumber:gn.f().matches(/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im,"Invalid phone number").required("Required"),password:gn.f().min(8,"Must be 8 characters or more").required("Required"),passwordConfirm:gn.f().oneOf([gn.e("password"),null],"Passwords must match").required("Required"),dateOfBirth:gn.b().required("Required")}),Xi=function(e){var t=e.open,n=e.close,r=e.onSuccess,c=e.createUser,i=e.hotels,s=Object(a.useState)(null),o=Object(d.a)(s,2),b=o[0],m=o[1],p=Object(a.useState)(["User"]),h=Object(d.a)(p,2),f=h[0],O=h[1],x=Object(a.useState)([]),g=Object(d.a)(x,2),v=g[0],w=g[1],C=Ji(),S=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,i,s,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={userName:t.userName,email:t.email,password:t.password,passwordConfirm:t.passwordConfirm,phoneNumber:t.phoneNumber,dateOfBirth:t.dateOfBirth,firstName:t.firstName,lastName:t.lastName,roles:t.roles,hotels:t.hotels},e.next=3,c(a);case 3:i=e.sent,s=Object(d.a)(i,2),o=s[0],(u=s[1])?m(u):(r("User ".concat(o.email," created successfully")),n(),O(["User"]),w([]));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Ze.jsx)(un,{title:"User creation",open:t,close:n,children:Object(Ze.jsxs)("div",{className:C.paper,children:[Object(Ze.jsx)("div",{className:C.form,children:Object(Ze.jsx)(vn.c,{initialValues:{userName:"",email:"",firstName:"",lastName:"",phoneNumber:"",password:"",passwordConfirm:"",dateOfBirth:""},validationSchema:Yi,onSubmit:function(e){e.roles=f,e.hotels=v.map((function(e){return e.id})),S(e)},children:Object(Ze.jsx)(vn.b,{children:Object(Ze.jsxs)(st.a,{container:!0,spacing:2,children:[Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Email",name:"email",type:"email",placeholder:"email@email.com"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"User Name",name:"userName",type:"text",placeholder:"nickname"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,sm:6,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"First Name",name:"firstName",type:"text",placeholder:"Surname"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,sm:6,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Last Name",name:"lastName",type:"text",placeholder:"Name"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Phone",name:"phoneNumber",type:"text",placeholder:"+375101234567"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,sm:6,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Password",name:"password",type:"password",placeholder:"Password"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,sm:6,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Password Confirm",name:"passwordConfirm",type:"password",placeholder:"Password"})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(wn,{required:!0,fullWidth:!0,label:"Date of Birth",name:"dateOfBirth",type:"date",InputLabelProps:{shrink:!0}})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(St.a,{multiple:!0,limitTags:3,value:f,size:"small",options:["User","Manager","Admin"],getOptionLabel:function(e){return"".concat(e)},onChange:function(e,t){O(t)},renderInput:function(e){return Object(Ze.jsx)(vt.a,Object(gt.a)(Object(gt.a)({},e),{},{variant:"outlined"}))}})}),f.includes(Ke)||f.includes(Ge)?Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(St.a,{multiple:!0,limitTags:3,value:v,size:"small",options:i,getOptionLabel:function(e){return"".concat(e.name," (").concat(e.location.buildingNumber," ").concat(e.location.street," St., ").concat(e.location.city,", ").concat(e.location.region,", ").concat(e.location.country,")")},onChange:function(e,t){w(t)},renderInput:function(e){return Object(Ze.jsx)(vt.a,Object(gt.a)(Object(gt.a)({},e),{},{variant:"outlined"}))}})}):null,Object(Ze.jsx)(Re.a,{fullWidth:!0,className:C.submit,variant:"contained",type:"submit",color:"primary",children:"Create user"})]})})})}),null!=b?Object(Ze.jsx)(j.a,{fullWidth:!0,variant:"outlined",severity:"error",action:Object(Ze.jsx)(wt.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){m(null)},children:Object(Ze.jsx)(sn.a,{fontSize:"inherit"})}),children:b}):null]})})};Xi.defaultProps={hotels:[]};var Zi=Xi,$i=Object(ke.a)((function(e){return{addButton:{margin:e.spacing(1),border:0,borderRadius:"15px",height:40,width:175,padding:e.spacing(1),textAlign:"center",textTransform:"uppercase"},search:{margin:e.spacing(0,0,2,0)}}})),_i=function(e){var t=e.users,n=e.hotels,r=e.totalCount,c=e.pageChanged,i=e.pageSizeChanged,s=e.pageSize,o=e.createUser,l=e.updateUser,u=e.deleteUser,j=e.onError,b=e.onSuccess,m=e.onSearch,p=e.clauses,h=e.ranges,f=e.options,O=e.onChangeClauses,x=e.onChangeRanges,g=e.onChangeOptions,v=e.searchVariants,w=e.onOrderChanged,C=e.orderBy,S=e.order,y=Object(a.useState)(0),N=Object(d.a)(y,2),I=N[0],k=N[1],R=Object(a.useState)(s),A=Object(d.a)(R,2),P=A[0],D=A[1],H=Object(a.useState)(!1),W=Object(d.a)(H,2),B=W[0],U=W[1],q=Object(a.useState)(!1),T=Object(d.a)(q,2),E=T[0],V=T[1],F=$i();return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(Re.a,{onClick:function(){return V(!0)},startIcon:Object(Ze.jsx)(_r.a,{}),children:"Setup user search options"}),Object(Ze.jsx)("div",{className:F.searchSection,children:Object(Ze.jsx)($r.a,{open:E,onClose:function(){return V(!1)},classes:{paper:F.searchSection},children:Object(Ze.jsx)("div",{children:Object(Ze.jsx)(oc,{clauses:p,ranges:h,options:f,prompts:v,onChangeClauses:O,onChangeOptions:g,onChangeRanges:x,onSearch:m})})})}),Object(Ze.jsx)(qa.a,{component:Ta.a,variant:"outlined",children:Object(Ze.jsxs)(Ea.a,{size:"small",children:[Object(Ze.jsx)(Va.a,{children:Object(Ze.jsxs)(Fa.a,{children:[[{id:"id",numeric:!1,label:"Id"},{id:"firstName",numeric:!1,label:"Surname"},{id:"lastName",numeric:!1,label:"Name"},{id:"userName",numeric:!1,label:"Nickname"},{id:"email",numeric:!1,label:"Email"},{id:"dateOfBirth",numeric:!1,label:"Date of birth"},{id:"phoneNumber",numeric:!1,label:"Phone"},{id:"roles",numeric:!1,label:"Roles",noOrderBy:!0}].map((function(e){return Object(Ze.jsx)(za.a,{align:e.numeric?"right":"left",sortDirection:C===e.id?S:"asc",children:e.noOrderBy?e.label:Object(Ze.jsx)(Ma.a,{active:C===e.id,direction:C===e.id?S:"asc",onClick:function(){var t;t=e.id,w({orderBy:t,order:C===t&&"asc"===S?"desc":"asc"})},children:e.label})},e.id)})),Object(Ze.jsx)(za.a,{})]})}),Object(Ze.jsx)(Qa.a,{children:t?t.map((function(e){return Object(Ze.jsx)(Ki,{hotels:n,user:new nt(e),createUser:o,updateUser:l,deleteUser:u,onSuccess:b,onError:j},e.id)})):Object(Ze.jsx)(Fa.a,{children:"No users"})}),Object(Ze.jsx)(La.a,{children:Object(Ze.jsxs)(Fa.a,{children:[Object(Ze.jsx)(za.a,{children:Object(Ze.jsx)(Re.a,{color:"primary",startIcon:Object(Ze.jsx)(yt.a,{}),onClick:function(){return U(!B)},className:F.addButton,children:"Add new user"})}),Object(Ze.jsx)(Ga.a,{rowsPerPageOptions:[5,10,15],rowsPerPage:P,count:r,page:I,onChangePage:function(e,t){k(t),c(t+1)},onChangeRowsPerPage:function(e){var t=parseInt(e.target.value,10);i(t),c(1),k(0),D(t)}})]})})]})}),Object(Ze.jsx)(Zi,{open:B,hotels:n,onSuccess:b,close:function(){U(!1)},createUser:o})]})};_i.defaultProps={users:[],hotels:[],clauses:[],ranges:[],options:[],searchVariants:[],onChangeClauses:null,onChangeRanges:null,onChangeOptions:null,orderBy:null};var es=_i,ts=function(e){var t=e.onSearch,n=e.clauses,a=e.ranges,r=e.options,c=e.onChangeClauses,i=e.onChangeRanges,s=e.onChangeOptions,o=e.users,l=e.hotels,u=e.onError,d=e.onSuccess,j=e.createUser,b=e.updateUser,m=e.deleteUser,p=e.totalCount,h=e.pageChanged,f=e.pageSizeChanged,O=e.pageSize,x=e.searchVariants,g=e.onOrderChanged,v=e.orderBy,w=e.order;return Object(Ze.jsx)(es,{onSearch:t,clauses:n,options:r,ranges:a,onChangeClauses:c,onChangeRanges:i,onChangeOptions:s,users:o,hotels:l,onError:u,onSuccess:d,createUser:j,updateUser:b,deleteUser:m,totalCount:p,pageChanged:h,pageSizeChanged:f,pageSize:O,searchVariants:x,onOrderChanged:g,orderBy:v,order:w})};ts.defaultProps={users:[],hotels:[],clauses:[],ranges:[],options:[],searchVariants:[],onChangeClauses:null,onChangeRanges:null,onChangeOptions:null,orderBy:null};var ns=ts,as=function e(t){Object(O.a)(this,e),this.id=t.id,this.firstName=t.firstName,this.lastName=t.lastName,this.email=t.email,this.roles=t.roles,this.hotels=t.hotels},rs=Object(ke.a)((function(e){return{content:{margin:e.spacing(3,7)},contentItem:{margin:e.spacing(0,0,3,0)}}})),cs=function(e){var t=e.onSearch,n=e.clauses,r=e.ranges,c=e.options,i=e.onChangeClauses,s=e.onChangeRanges,o=e.onChangeOptions,l=e.isOpen,u=e.hotels,m=e.close,p=e.users,h=e.usersBrief,f=e.createUser,O=e.updateUser,x=e.deleteUser,g=e.totalCount,v=e.pageChanged,w=e.pageSizeChanged,C=e.pageSize,S=e.searchVariants,y=e.onOrderChanged,N=e.orderBy,I=e.order,k=Object(a.useState)(null),R=Object(d.a)(k,2),A=R[0],P=R[1],D=Object(a.useState)(null),H=Object(d.a)(D,2),W=H[0],B=H[1],U=rs(),q=function(e,t){"clickaway"!==t&&P(null)},T=function(e,t){"clickaway"!==t&&B(null)};return Object(Ze.jsx)(Di,{isOpen:l,close:m,title:"Users management",children:Object(Ze.jsx)("div",{className:U.content,children:Object(Ze.jsxs)("div",{className:U.contentItem,children:[Object(Ze.jsx)(ns,{onSearch:t,clauses:n,options:c,ranges:r,onChangeClauses:i,onChangeRanges:s,onChangeOptions:o,users:p,usersBrief:h,hotels:u,createUser:f,updateUser:O,deleteUser:x,onError:function(e){P(e)},onSuccess:function(e){B(e)},totalCount:g,pageChanged:v,pageSizeChanged:w,pageSize:C,searchVariants:S,onOrderChanged:y,orderBy:N,order:I}),Object(Ze.jsx)(b.a,{open:!!A,autoHideDuration:5e3,onClose:q,children:Object(Ze.jsx)(j.a,{onClose:q,severity:"error",variant:"filled",children:A})}),Object(Ze.jsx)(b.a,{open:!!W,autoHideDuration:5e3,onClose:T,children:Object(Ze.jsx)(j.a,{onClose:T,severity:"success",variant:"filled",children:W})})]})})})};cs.defaultProps={users:[],hotels:[],clauses:[],ranges:[],options:[],searchVariants:[],onChangeClauses:null,onChangeRanges:null,onChangeOptions:null,orderBy:null};var is=cs,ss=fe,os=pe,ls=he,us=D,ds=function(e){var t=e.isOpen,n=e.close,c=r.a.useState("asc"),i=Object(d.a)(c,2),s=i[0],o=i[1],j=r.a.useState(null),b=Object(d.a)(j,2),m=b[0],p=b[1],h=Object(a.useState)([]),f=Object(d.a)(h,2),O=f[0],x=f[1],g=Object(a.useState)([]),v=Object(d.a)(g,2),w=v[0],C=v[1],S=Object(a.useState)([]),y=Object(d.a)(S,2),N=y[0],I=y[1],k=Object(a.useState)(0),R=Object(d.a)(k,2),A=R[0],P=R[1],D=Object(a.useState)(1),H=Object(d.a)(D,2),W=H[0],B=H[1],U=Object(a.useState)(10),q=Object(d.a)(U,2),T=q[0],E=q[1],V=Object(a.useState)([]),F=Object(d.a)(V,2),z=F[0],M=F[1],Q=Object(a.useState)([new Kr({name:"Email",value:"",getOptionValue:function(e){return e.email},getOptionLabel:function(e){return e.email}}),new Kr({name:"Surname",value:"",getOptionValue:function(e){return e.firstName},getOptionLabel:function(e){return"".concat(e.firstName," ").concat(e.lastName," (").concat(e.email,")")}}),new Kr({name:"Name",value:"",getOptionValue:function(e){return e.lastName},getOptionLabel:function(e){return"".concat(e.firstName," ").concat(e.lastName," (").concat(e.email,")")}}),new Kr({name:"Role",value:"",options:[Ge,Ke,Je]})]),L=Object(d.a)(Q,2),G=L[0],K=L[1],J=Object(a.useState)([]),Y=Object(d.a)(J,2),X=Y[0],Z=Y[1],$=Object(a.useState)([]),_=Object(d.a)($,2),ee=_[0],te=_[1],ne=Object(a.useState)(!1),ae=Object(d.a)(ne,2),re=ae[0],ce=ae[1],ie=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ls({email:G[0].value,firstName:G[1].value,lastName:G[2].value,role:G[3].value});case 2:t=e.sent,C(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ss({pageNumber:W,pageSize:T,email:G[0].value,firstName:G[1].value,lastName:G[2].value,role:G[3].value,propertyName:m,isDescending:"desc"===s});case 2:return(t=e.sent)&&(n=t.content.map((function(e){return new nt(e)})),x(n),P(t.totalResults),W!==t.pageNumber&&B(t.pageNumber),T!==t.pageSize&&E(t.pageSize)),e.next=6,os();case 6:a=e.sent,r=a.map((function(e){return new as(e)})),I(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,us();case 2:(t=e.sent)&&(n=t.map((function(e){return new Nt(e)})),M(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.baseRequestHandler(we.handleCreateUser,t);case 2:if(n=e.sent,a=Object(d.a)(n,2),r=a[0],c=a[1]){e.next=9;break}return e.next=9,se();case 9:return e.abrupt("return",[r,c]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.baseRequestHandler(we.handleUpdateUser,t);case 2:if(n=e.sent,a=Object(d.a)(n,2),r=a[0],c=a[1]){e.next=9;break}return e.next=9,se();case 9:return e.abrupt("return",[r,c]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.baseRequestHandler(we.handleDeleteUser,t);case 2:if(n=e.sent,a=Object(d.a)(n,2),r=a[0],c=a[1]){e.next=9;break}return e.next=9,se();case 9:return e.abrupt("return",[r,c]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:case"end":return e.stop()}}),e)}))),[T,W,re]),Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(G[0].value||G[1].value||G[2].value)){e.next=5;break}return e.next=3,ie();case 3:e.next=6;break;case 5:C([]);case 6:case"end":return e.stop()}}),e)}))),[G,X]),Object(Ze.jsx)(is,{clauses:G,options:ee,ranges:X,searchVariants:w,onChangeClauses:function(e){K(e)},onChangeOptions:function(e){te(e)},onChangeRanges:function(e){Z(e)},onSearch:function(){B(0),ce(!re)},users:O,usersBrief:N,hotels:z,isOpen:t,close:n,createUser:le,updateUser:ue,deleteUser:de,totalCount:A,pageChanged:function(e){B(e)},pageSizeChanged:function(e){E(e)},pageSize:T,onOrderChanged:function(e){p(e.orderBy),o(e.order),B(1),ce(!re)},orderBy:m,order:s})},js=function e(t){Object(O.a)(this,e),this.id=t.id,this.hotelName=t.hotelName,this.dateIn=new Date(t.dateIn),this.totalNights=t.totalDays,this.totalPrice=t.totalPrice},bs=function(e){var t=e.reservation;return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(za.a,{children:t.hotelName}),Object(Ze.jsx)(za.a,{children:t.dateIn.toLocaleDateString("en-US",Ye)}),Object(Ze.jsx)(za.a,{children:t.totalNights}),Object(Ze.jsxs)(za.a,{children:["$",t.totalPrice]})]})},ms=function(e){var t=e.reservation,n=e.selectedReservationChanged;return Object(Ze.jsx)(Ze.Fragment,{children:Object(Ze.jsxs)(Fa.a,{children:[Object(Ze.jsx)(bs,{reservation:t}),Object(Ze.jsx)(za.a,{children:Object(Ze.jsx)(wt.a,{onClick:function(){return n(t.id)},children:Object(Ze.jsx)(en.a,{})})})]})})},ps=function e(t){Object(O.a)(this,e),this.id=t.id,this.hotel=t.hotel,this.surname=t.firstName,this.name=t.lastName,this.email=t.email,this.reservedTime=new Date(t.reservedTime),this.dateIn=new Date(t.dateIn),this.dateOut=new Date(t.dateOut),this.totalNights=t.totalDays,this.totalPrice=t.totalPrice,this.deposit=t.deposit,this.rooms=t.rooms,this.services=t.services,this.priceForRooms=t.roomsPrice,this.priceForServices=t.servicesPrice},hs=Object(ke.a)((function(e){return{contentGroup:{display:"flex",flexDirection:"column",padding:e.spacing(2),margin:e.spacing(0,0,1,0),borderWidth:1,borderStyle:"solid",borderColor:e.palette.grey[300],borderRadius:e.shape.borderRadius},content:{display:"flex",justifyContent:"space-between"}}})),fs=function(e){var t=e.reservation,n=e.selectedRoomId,a=e.isRoomDetailedOpen,r=e.selectedRoomChanged,c=e.closeRoomDetailed,i=e.openRoomDetailed,s=hs(),o=Object(Se.g)();return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsxs)(st.a,{container:!0,children:[Object(Ze.jsx)(st.a,{item:!0,xs:12,className:s.contentGroup,children:Object(Ze.jsxs)(jt.a,{component:"div",className:s.content,children:[Object(Ze.jsx)(Hn.a,{children:"Hotel"}),Object(Ze.jsx)(Na.a,{href:"/Hotels/".concat(t.hotel.id),onClick:function(){return o.push("/Hotels/".concat(t.hotel.id))},children:t.hotel.name})]})}),Object(Ze.jsxs)(st.a,{item:!0,xs:12,className:s.contentGroup,children:[Object(Ze.jsx)(jt.a,{variant:"h6",children:Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:"Reserved rooms and services"})}),Object(Ze.jsxs)(jt.a,{component:"div",className:s.content,children:[Object(Ze.jsx)(Hn.a,{children:"Rooms"}),Object(Ze.jsx)(Hn.a,{display:"flex",flexDirection:"column",children:t.rooms.map((function(e){return Object(Ze.jsxs)(Na.a,{align:"right",onClick:function(){r(e.id),i()},children:["Room #",e.roomNumber," ($",e.price," per night)"]},e.id)}))})]}),t.services&&t.services.length>0?Object(Ze.jsxs)(jt.a,{component:"div",className:s.content,children:[Object(Ze.jsx)(Hn.a,{children:"Services"}),Object(Ze.jsx)(Hn.a,{display:"flex",flexDirection:"column",alignContent:"right",children:t.services.map((function(e){return Object(Ze.jsxs)(jt.a,{align:"right",children:[e.name," ($",e.price,")"]},e.id)}))})]}):null]}),Object(Ze.jsxs)(st.a,{item:!0,xs:12,className:s.contentGroup,children:[Object(Ze.jsx)(jt.a,{variant:"h6",children:Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:"Customer information"})}),Object(Ze.jsxs)(jt.a,{component:"div",className:s.content,children:[Object(Ze.jsx)(Hn.a,{children:"Surname"}),Object(Ze.jsx)(Hn.a,{children:t.surname})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:s.content,children:[Object(Ze.jsx)(Hn.a,{children:"Name"}),Object(Ze.jsx)(Hn.a,{children:t.name})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:s.content,children:[Object(Ze.jsx)(Hn.a,{children:"Email"}),Object(Ze.jsx)(Hn.a,{children:t.email})]})]}),Object(Ze.jsxs)(st.a,{item:!0,xs:12,className:s.contentGroup,children:[Object(Ze.jsx)(jt.a,{variant:"h6",children:Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:"Reservation details"})}),Object(Ze.jsxs)(jt.a,{component:"div",className:s.content,children:[Object(Ze.jsx)(Hn.a,{children:"Reservation time"}),Object(Ze.jsx)(Hn.a,{children:t.reservedTime.toLocaleDateString("en-US",Xe)})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:s.content,children:[Object(Ze.jsx)(Hn.a,{children:"Date-in"}),Object(Ze.jsx)(Hn.a,{children:t.dateIn.toLocaleDateString("en-US",Ye)})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:s.content,children:[Object(Ze.jsx)(Hn.a,{children:"Date-out"}),Object(Ze.jsx)(Hn.a,{children:t.dateOut.toLocaleDateString("en-US",Ye)})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:s.content,children:[Object(Ze.jsx)(Hn.a,{children:"Total length of stay"}),Object(Ze.jsx)(Hn.a,{children:t.totalNights})]})]}),Object(Ze.jsxs)(st.a,{item:!0,xs:12,className:s.contentGroup,children:[Object(Ze.jsx)(jt.a,{variant:"h6",children:Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:"Price details"})}),Object(Ze.jsxs)(jt.a,{component:"div",className:s.content,children:[Object(Ze.jsx)(Hn.a,{children:"Price for rooms"}),Object(Ze.jsxs)(Hn.a,{children:["$",t.priceForRooms]})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:s.content,children:[Object(Ze.jsx)(Hn.a,{children:"Price for services"}),Object(Ze.jsxs)(Hn.a,{children:["$",t.priceForServices]})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:s.content,children:[Object(Ze.jsx)(Hn.a,{children:"Hotel's deposit"}),Object(Ze.jsxs)(Hn.a,{children:["$",t.deposit]})]}),Object(Ze.jsxs)(jt.a,{component:"div",className:s.content,children:[Object(Ze.jsx)(Hn.a,{children:"Total price"}),Object(Ze.jsxs)(Hn.a,{children:["$",t.totalPrice]})]})]})]}),n?Object(Ze.jsx)(un,{open:a,close:c,width:"md",title:"Room details",children:Object(Ze.jsx)(ma,{roomId:n})}):null]})};fs.defaultProps={selectedRoomId:null};var Os=fs,xs=zn,gs=function(e){var t=e.reservationId,n=Object(a.useState)(null),r=Object(d.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(null),o=Object(d.a)(s,2),j=o[0],b=o[1],m=Object(a.useState)(!1),p=Object(d.a)(m,2),h=p[0],f=p[1],O=function(){var e=Object(u.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xs(t);case 2:(n=e.sent)&&i(new ps(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:case"end":return e.stop()}}),e)}))),[t]),c?Object(Ze.jsx)(Os,{reservation:c,selectedRoomId:j,isRoomDetailedOpen:h,selectedRoomChanged:function(e){b(e)},closeRoomDetailed:function(){f(!1),b(null)},openRoomDetailed:function(){f(!0)}}):null},vs=function(e){var t=e.reservations,n=e.totalResults,r=e.pageNumber,c=e.pageSize,i=e.onPageChanged,s=e.onPageSizeChanged,o=Object(a.useState)(!1),l=Object(d.a)(o,2),u=l[0],j=l[1],b=Object(a.useState)(null),m=Object(d.a)(b,2),p=m[0],h=m[1],f=function(e){h(e),j(!0)};return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(qa.a,{component:Ta.a,variant:"outlined",children:Object(Ze.jsxs)(Ea.a,{size:"small",children:[Object(Ze.jsxs)("colgroup",{children:[Object(Ze.jsx)("col",{width:"auto"}),Object(Ze.jsx)("col",{width:"10%"}),Object(Ze.jsx)("col",{width:"5%"}),Object(Ze.jsx)("col",{width:"10%"}),Object(Ze.jsx)("col",{width:"2.5%"})]}),Object(Ze.jsx)(Va.a,{children:Object(Ze.jsxs)(Fa.a,{children:[Object(Ze.jsx)(za.a,{children:"Hotel"}),Object(Ze.jsx)(za.a,{children:"Date-in"}),Object(Ze.jsx)(za.a,{children:"Total nights"}),Object(Ze.jsx)(za.a,{children:"Total price"}),Object(Ze.jsx)(za.a,{})]})}),Object(Ze.jsx)(Qa.a,{children:t||t.lenght>0?t.map((function(e){return Object(Ze.jsx)(ms,{reservation:e,selectedReservationChanged:f},e.id)})):"Loading"}),Object(Ze.jsx)(La.a,{children:Object(Ze.jsx)(Fa.a,{children:Object(Ze.jsx)(Ga.a,{rowsPerPageOptions:[5,10,25],rowsPerPage:c,count:n,page:r-1,onChangePage:function(e,t){i(t+1)},onChangeRowsPerPage:function(e){var t=parseInt(e.target.value,10);i(1),s(t)}})})})]})}),p?Object(Ze.jsx)(un,{open:u,close:function(){return j(!1)},title:"Details of reservation",children:Object(Ze.jsx)(gs,{reservationId:p})}):null]})};vs.defaultProps={reservations:[]};var ws=vs,Cs=Fn,Ss=function(e){var t=e.user,n=Object(a.useState)([]),r=Object(d.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(1),o=Object(d.a)(s,2),j=o[0],b=o[1],m=Object(a.useState)(10),p=Object(d.a)(m,2),h=p[0],f=p[1],O=Object(a.useState)(0),x=Object(d.a)(O,2),g=x[0],v=x[1],w=function(){var e=Object(u.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cs({pageNumber:j,pageSize:h,email:t.email});case 2:(n=e.sent)&&(a=n.content.map((function(e){return new js(e)})),i(a),v(n.totalResults),n.pageNumber!==j&&b(n.pageNumber),n.pageSize!==h&&f(n.pageSize));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:case"end":return e.stop()}}),e)}))),[h,j]),Object(Ze.jsx)(ws,{reservations:c,totalResults:g,pageNumber:j,pageSize:h,onPageChanged:function(e){b(e)},onPageSizeChanged:function(e){f(e)}})},ys=Object(ke.a)((function(e){return{content:{margin:e.spacing(3,7)}}})),Ns=function(e){var t=e.isOpen,n=e.close,a=e.user,r=ys();return Object(Ze.jsx)(Di,{isOpen:t,close:n,title:"My reservations",children:Object(Ze.jsx)("div",{className:r.content,children:Object(Ze.jsx)(Ss,{user:a})})})},Is=function(e){var t=e.isOpen,n=e.close,a=Object(s.c)((function(e){return e.loggedUser.loggedUser}));return Object(Ze.jsx)(Ns,{isOpen:t,close:n,user:new Le(a)})},ks=n(473),Rs=n(456),As=Object(ke.a)((function(e){return{buttonGroup:{display:"flex",alignItems:"center",justifyContent:"left"},greenButton:{color:e.palette.success.main},redButton:{color:e.palette.error.main}}})),Ps=function(e){var t,n=e.fieldTitle,r=e.fieldValue,c=e.update,i=e.isDate,s=Object(a.useState)(!1),o=Object(d.a)(s,2),l=o[0],u=o[1],j=Object(a.useState)(!0),b=Object(d.a)(j,2),m=b[0],p=b[1],h=Object(a.useState)(null),f=Object(d.a)(h,2),O=f[0],x=f[1],g=Object(a.useState)(r),v=Object(d.a)(g,2),w=v[0],C=v[1],S=As();return Object(Ze.jsxs)(st.a,{container:!0,alignItems:"center",children:[Object(Ze.jsx)(st.a,{item:!0,xs:3,children:Object(Ze.jsx)(jt.a,{component:"div",children:Object(Ze.jsx)(Hn.a,{children:n})})}),Object(Ze.jsx)(st.a,{item:!0,xs:7,children:l?Object(Ze.jsx)(vt.a,{fullWidth:!0,error:!m,helperText:m?null:O,defaultValue:i?(t=r,"".concat(t.getFullYear(),"-").concat("0".concat(t.getMonth()+1).slice(-2),"-").concat("0".concat(t.getDate()).slice(-2))):r,onChange:function(e){var t=e.target.value;C(t),t&&""!==t?(p(!0),x(null)):(p(!1),x("Field must be not empty"))},type:i?"date":"text"}):Object(Ze.jsx)(jt.a,{component:"div",children:Object(Ze.jsx)(Hn.a,{fontWeight:"fontWeightMedium",children:i?r.toLocaleDateString("en-US",Ye):r})})}),Object(Ze.jsx)(st.a,{item:!0,xs:2,children:l?Object(Ze.jsxs)("div",{className:S.buttonGroup,children:[w!==r&&!1!==m?Object(Ze.jsx)(wt.a,{className:S.greenButton,onClick:function(){return c(w),void u(!1)},children:Object(Ze.jsx)(Rs.a,{})}):null,Object(Ze.jsx)(wt.a,{className:S.redButton,onClick:function(){u(!1)},children:Object(Ze.jsx)(sn.a,{})})]}):Object(Ze.jsx)(wt.a,{onClick:function(){u(!0)},children:Object(Ze.jsx)(br.a,{})})})]})};Ps.defaultProps={fieldValue:null,isDate:!1};var Ds=Ps,Hs=Object(ke.a)((function(e){var t;return{root:(t={flexGrow:1,padding:e.spacing(1,5,1)},Object(it.a)(t,e.breakpoints.up("md"),{padding:e.spacing(1,30,1)}),Object(it.a)(t,e.breakpoints.up("lg"),{padding:e.spacing(1,50,1)}),Object(it.a)(t,e.breakpoints.up("xl"),{padding:e.spacing(1,70,1)}),t),avatar:{width:e.spacing(15),height:e.spacing(15),fontSize:"50px"}}})),Ws=function(e){var t=e.loggedUser,n=e.updateUser,a=Hs();return Object(Ze.jsx)("div",{className:a.root,children:Object(Ze.jsxs)(st.a,{container:!0,spacing:3,children:[Object(Ze.jsxs)(st.a,{container:!0,item:!0,xs:12,alignItems:"center",children:[Object(Ze.jsxs)(st.a,{item:!0,xs:9,children:[Object(Ze.jsx)(jt.a,{variant:"h4",children:"Personal details"}),Object(Ze.jsx)(jt.a,{variant:"body1",children:"Your account inforamtion details and management"})]}),Object(Ze.jsx)(st.a,{item:!0,xs:3,children:Object(Ze.jsx)(ks.a,{className:a.avatar,children:t.firstName[0]+t.lastName[0]})})]}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(Ds,{fieldTitle:"Email",fieldValue:t.email,update:function(e){var a=Object(gt.a)({},t);a.email=e,n(a)}})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(Ds,{fieldTitle:"Surname",fieldValue:t.firstName,update:function(e){var a=Object(gt.a)({},t);a.firstName=e,n(a)}})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(Ds,{fieldTitle:"Name",fieldValue:t.lastName,update:function(e){var a=Object(gt.a)({},t);a.lastName=e,n(a)}})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(Ds,{fieldTitle:"Nickname",fieldValue:t.userName,update:function(e){var a=Object(gt.a)({},t);a.userName=e,n(a)}})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(Ds,{fieldTitle:"Phone",fieldValue:t.phoneNumber,update:function(e){var a=Object(gt.a)({},t);a.phoneNumber=e,n(a)}})}),Object(Ze.jsx)(st.a,{item:!0,xs:12,children:Object(Ze.jsx)(Ds,{isDate:!0,fieldTitle:"Date of birth",fieldValue:t.dateOfBirth,update:function(e){var a=Object(gt.a)({},t);a.dateOfBirth=new Date(e),n(a)}})})]})})},Bs=xe,Us=function(){var e=localStorage.getItem("access_token");return e?function(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(t){return null}}(e).id:null},qs=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bs(t);case 2:return n=e.sent,a=new nt(n),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ts=function(e){var t=e.loggedUserId,n=Object(a.useState)(null),r=Object(d.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(null),o=Object(d.a)(s,2),m=o[0],p=o[1],h=Object(a.useState)(null),f=Object(d.a)(h,2),O=f[0],x=f[1],g=function(e,t){"clickaway"!==t&&p(null)},v=function(e,t){"clickaway"!==t&&x(null)},w=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.baseRequestHandler(we.handleUpdateUser,t);case 2:return n=e.sent,a=Object(d.a)(n,2),r=a[0],(c=a[1])?p(c):(s="User ".concat(r.email," updated successfully"),x(s),i(new nt(r))),e.abrupt("return",[r,c]);case 8:case"end":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=9;break}if(!(n=Us())){e.next=7;break}return e.next=5,qs(n);case 5:a=e.sent,i(a);case 7:e.next=13;break;case 9:return e.next=11,qs(t);case 11:r=e.sent,i(r);case 13:case"end":return e.stop()}}),e)}))),[]),c?Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(Ws,{loggedUser:c,updateUser:w}),Object(Ze.jsx)(b.a,{open:!!m,autoHideDuration:5e3,onClose:g,children:Object(Ze.jsx)(j.a,{onClose:g,severity:"error",variant:"filled",children:m})}),Object(Ze.jsx)(b.a,{open:!!O,autoHideDuration:5e3,onClose:v,children:Object(Ze.jsx)(j.a,{onClose:v,severity:"success",variant:"filled",children:O})})]}):Object(Ze.jsx)(ye.a,{})};Ts.defaultProps={loggedUserId:null};var Es=Ts,Vs=function(e){var t,n,a,r=e.loggedUser,c=e.hotels,i=e.totalPages,s=e.totalResults,o=e.pageChanged,l=e.loguot,u=e.submit,d=e.searchHotels,j=e.isHotelsManagementOpen,b=e.closeHotelsManagement,m=e.openHotelsManagement,p=e.isUsersManagementOpen,h=e.closeUsersManagement,f=e.openUsersManagement,O=e.dateIn,x=e.dateOut,g=e.onDateInChange,v=e.onDateOutChange,w=e.isReservationsOpen,C=e.openReservations,S=e.closeReservations;return Object(Ze.jsxs)(Ce.a,{children:[Object(Ze.jsx)(ct,{onLogoutClick:l,openHotelsManagement:m,openUsersManagement:f,openReservations:C}),r&&((null===r||void 0===r||null===(t=r.roles)||void 0===t?void 0:t.includes(Ge))||(null===r||void 0===r||null===(n=r.roles)||void 0===n?void 0:n.includes(Ke)))?Object(Ze.jsx)(Vi,{isOpen:j,close:b}):null,r&&(null===r||void 0===r||null===(a=r.roles)||void 0===a?void 0:a.includes(Ge))?Object(Ze.jsx)(ds,{isOpen:p,close:h}):null,r?Object(Ze.jsx)(Is,{isOpen:w,close:S}):null,Object(Ze.jsxs)(Se.d,{children:[Object(Ze.jsx)(Se.b,{path:"/Hotels/:id",children:Object(Ze.jsx)(wa,{dateIn:O,dateOut:x,searchHotels:d,onDateInChange:g,onDateOutChange:v})}),Object(Ze.jsx)(Se.b,{path:"/Hotels",children:Object(Ze.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:c?Object(Ze.jsx)(Et,{hotels:c,totalPages:i,totalResults:s,onPageChanged:o,searchHotels:d,dateIn:O,dateOut:x,onDateInChange:g,onDateOutChange:v}):Object(Ze.jsx)(ye.a,{})})}),Object(Ze.jsx)(Se.b,{path:"/Profile",children:Object(Ze.jsx)(Es,{loggedUserId:null===r||void 0===r?void 0:r.id})}),Object(Ze.jsx)(Se.b,{path:"/SignIn",children:Object(Ze.jsx)(Ra,{onSignIn:u})}),Object(Ze.jsx)(Se.b,{path:"/SignUp",children:Object(Ze.jsx)(Da,{onSignUp:u})}),Object(Ze.jsx)(Se.a,{to:"/Hotels"})]})]})};Vs.defaultProps={loggedUser:null,hotels:null,totalPages:0,totalResults:0,dateIn:null,dateOut:null};var Fs=Vs,zs=function(e){var t=e.hotels,n=e.totalPages,r=e.totalResults,c=e.pageChanged,i=e.loguot,o=e.submit,l=e.searchHotels,u=e.dateIn,j=e.dateOut,b=e.onDateInChange,m=e.onDateOutChange,p=Object(a.useState)(!1),h=Object(d.a)(p,2),f=h[0],O=h[1],x=Object(a.useState)(!1),g=Object(d.a)(x,2),v=g[0],w=g[1],C=Object(a.useState)(!1),S=Object(d.a)(C,2),y=S[0],N=S[1],I=Object(s.c)((function(e){return e.loggedUser.loggedUser}));return Object(Ze.jsx)(Fs,{loggedUser:I?new Le(I):null,hotels:t,totalPages:n,totalResults:r,pageChanged:c,loguot:i,submit:o,searchHotels:l,isHotelsManagementOpen:f,closeHotelsManagement:function(){O(!1)},openHotelsManagement:function(){O(!0)},isReservationsOpen:y,closeReservations:function(){N(!1)},openReservations:function(){N(!0)},isUsersManagementOpen:v,closeUsersManagement:function(){w(!1)},openUsersManagement:function(){w(!0)},dateIn:u,dateOut:j,onDateInChange:b,onDateOutChange:m})};zs.defaultProps={hotels:null,totalPages:0,totalResults:0,dateIn:null,dateOut:null};var Ms=zs;var Qs=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),i=Object(d.a)(c,2),o=i[0],m=i[1],p=Object(a.useState)(null),f=Object(d.a)(p,2),O=f[0],g=f[1],v=Object(a.useState)(1),w=Object(d.a)(v,2),C=w[0],S=w[1],y=Object(a.useState)(5),N=Object(d.a)(y,2),k=N[0],R=N[1],A=Object(a.useState)(null),P=Object(d.a)(A,2),D=P[0],H=P[1],W=Object(a.useState)(null),B=Object(d.a)(W,2),U=B[0],q=B[1],T=Object(a.useState)(null),E=Object(d.a)(T,2),V=E[0],F=E[1],z=Object(a.useState)(null),M=Object(d.a)(z,2),Q=M[0],L=M[1],G=Object(s.c)((function(e){return e.loggedUser.loggedUser})),K=Object(s.b)(),J=function(e,t){"clickaway"!==t&&L(null)},Y=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,c,i,s,o,u,j,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(null===t||void 0===t?void 0:t[0])?t[0]:"",a=(null===t||void 0===t?void 0:t[1])?t[1]:"",c=(null===t||void 0===t?void 0:t[2])?t[2]:[],e.next=5,we.baseRequestHandler(we.handleGetHotels,{pageNumber:C,pageSize:k,dateIn:U,dateOut:V,name:n,city:a,services:c});case 5:i=e.sent,s=Object(d.a)(i,2),o=s[0],u=s[1],null!=o?(j=o.content.map((function(e){return new x(e)})),r(j),g(o.totalResults),b=Math.ceil(o.totalResults/o.pageSize),H(b),o.pageNumber!==C&&S(o.pageNumber),o.pageSize!==k&&R(o.pageSize)):u&&L(u);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(t){return null}};Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=localStorage.getItem("access_token"))&&null==G&&(n=X(t),K(h(new Le(n)))),e.next=4,Y(o);case 4:case"end":return e.stop()}}),e)}))),[k,C,o,U,V]);var Z=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(h(null)),e.next=3,I.axios.post("/Account/SignOut",{token:localStorage.getItem("refresh_token")});case 3:localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Ze.jsxs)(Ze.Fragment,{children:[Object(Ze.jsx)(Ms,{hotels:n,totalPages:D,totalResults:O,pageChanged:function(e,t){S(t)},loguot:Z,submit:function(e){var t=X(e.data.jwtToken);K(h(new Le(t))),localStorage.setItem("access_token",e.data.jwtToken),localStorage.setItem("refresh_token",e.data.refreshToken)},searchHotels:function(e){m(e)},dateIn:U,dateOut:V,onDateInChange:function(e){q(e)},onDateOutChange:function(e){F(e)}}),Object(Ze.jsx)(b.a,{open:!!Q,autoHideDuration:5e3,onClose:J,children:Object(Ze.jsx)(j.a,{onClose:J,severity:"error",variant:"filled",children:Q})})]})},Ls=Object(m.a)({reducer:{loggedUser:f}});i.a.render(Object(Ze.jsx)(s.a,{store:Ls,children:Object(Ze.jsx)(Qs,{})}),document.getElementById("root"))}},[[366,1,2]]]);
//# sourceMappingURL=main.83c683eb.chunk.js.map